<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
	<head>
		<link rel="stylesheet" href="style.css" type="text/css" />
		<title>locale/core.d</title>
	</head>
	<body>

<table id='dcode'><tr><td id='lnum'><pre><span>1</span>
<span>2</span>
<span>3</span>
<span>4</span>
<span>5</span>
<span>6</span>
<span>7</span>
<span>8</span>
<span>9</span>
<span>10</span>
<span>11</span>
<span>12</span>
<span>13</span>
<span>14</span>
<span>15</span>
<span>16</span>
<span>17</span>
<span>18</span>
<span>19</span>
<span>20</span>
<span>21</span>
<span>22</span>
<span>23</span>
<span>24</span>
<span>25</span>
<span>26</span>
<span>27</span>
<span>28</span>
<span>29</span>
<span>30</span>
<span>31</span>
<span>32</span>
<span>33</span>
<span>34</span>
<span>35</span>
<span>36</span>
<span>37</span>
<span>38</span>
<span>39</span>
<span>40</span>
<span>41</span>
<span>42</span>
<span>43</span>
<span>44</span>
<span>45</span>
<span>46</span>
<span>47</span>
<span>48</span>
<span>49</span>
<span>50</span>
<span>51</span>
<span>52</span>
<span>53</span>
<span>54</span>
<span>55</span>
<span>56</span>
<span>57</span>
<span>58</span>
<span>59</span>
<span>60</span>
<span>61</span>
<span>62</span>
<span>63</span>
<span>64</span>
<span>65</span>
<span>66</span>
<span>67</span>
<span>68</span>
<span>69</span>
<span>70</span>
<span>71</span>
<span>72</span>
<span>73</span>
<span>74</span>
<span>75</span>
<span>76</span>
<span>77</span>
<span>78</span>
<span>79</span>
<span>80</span>
<span>81</span>
<span>82</span>
<span>83</span>
<span>84</span>
<span>85</span>
<span>86</span>
<span>87</span>
<span>88</span>
<span>89</span>
<span>90</span>
<span>91</span>
<span>92</span>
<span>93</span>
<span>94</span>
<span>95</span>
<span>96</span>
<span>97</span>
<span>98</span>
<span>99</span>
<span>100</span>
<span>101</span>
<span>102</span>
<span>103</span>
<span>104</span>
<span>105</span>
<span>106</span>
<span>107</span>
<span>108</span>
<span>109</span>
<span>110</span>
<span>111</span>
<span>112</span>
<span>113</span>
<span>114</span>
<span>115</span>
<span>116</span>
<span>117</span>
<span>118</span>
<span>119</span>
<span>120</span>
<span>121</span>
<span>122</span>
<span>123</span>
<span>124</span>
<span>125</span>
<span>126</span>
<span>127</span>
<span>128</span>
<span>129</span>
<span>130</span>
<span>131</span>
<span>132</span>
<span>133</span>
<span>134</span>
<span>135</span>
<span>136</span>
<span>137</span>
<span>138</span>
<span>139</span>
<span>140</span>
<span>141</span>
<span>142</span>
<span>143</span>
<span>144</span>
<span>145</span>
<span>146</span>
<span>147</span>
<span>148</span>
<span>149</span>
<span>150</span>
<span>151</span>
<span>152</span>
<span>153</span>
<span>154</span>
<span>155</span>
<span>156</span>
<span>157</span>
<span>158</span>
<span>159</span>
<span>160</span>
<span>161</span>
<span>162</span>
<span>163</span>
<span>164</span>
<span>165</span>
<span>166</span>
<span>167</span>
<span>168</span>
<span>169</span>
<span>170</span>
<span>171</span>
<span>172</span>
<span>173</span>
<span>174</span>
<span>175</span>
<span>176</span>
<span>177</span>
<span>178</span>
<span>179</span>
<span>180</span>
<span>181</span>
<span>182</span>
<span>183</span>
<span>184</span>
<span>185</span>
<span>186</span>
<span>187</span>
<span>188</span>
<span>189</span>
<span>190</span>
<span>191</span>
<span>192</span>
<span>193</span>
<span>194</span>
<span>195</span>
<span>196</span>
<span>197</span>
<span>198</span>
<span>199</span>
<span>200</span>
<span>201</span>
<span>202</span>
<span>203</span>
<span>204</span>
<span>205</span>
<span>206</span>
<span>207</span>
<span>208</span>
<span>209</span>
<span>210</span>
<span>211</span>
<span>212</span>
<span>213</span>
<span>214</span>
<span>215</span>
<span>216</span>
<span>217</span>
<span>218</span>
<span>219</span>
<span>220</span>
<span>221</span>
<span>222</span>
<span>223</span>
<span>224</span>
<span>225</span>
<span>226</span>
<span>227</span>
<span>228</span>
<span>229</span>
<span>230</span>
<span>231</span>
<span>232</span>
<span>233</span>
<span>234</span>
<span>235</span>
<span>236</span>
<span>237</span>
<span>238</span>
<span>239</span>
<span>240</span>
<span>241</span>
<span>242</span>
<span>243</span>
<span>244</span>
<span>245</span>
<span>246</span>
<span>247</span>
<span>248</span>
<span>249</span>
<span>250</span>
<span>251</span>
<span>252</span>
<span>253</span>
<span>254</span>
<span>255</span>
<span>256</span>
<span>257</span>
<span>258</span>
<span>259</span>
<span>260</span>
<span>261</span>
<span>262</span>
<span>263</span>
<span>264</span>
<span>265</span>
<span>266</span>
<span>267</span>
<span>268</span>
<span>269</span>
<span>270</span>
<span>271</span>
<span>272</span>
<span>273</span>
<span>274</span>
<span>275</span>
<span>276</span>
<span>277</span>
<span>278</span>
<span>279</span>
<span>280</span>
<span>281</span>
<span>282</span>
<span>283</span>
<span>284</span>
<span>285</span>
<span>286</span>
<span>287</span>
<span>288</span>
<span>289</span>
<span>290</span>
<span>291</span>
<span>292</span>
<span>293</span>
<span>294</span>
<span>295</span>
<span>296</span>
<span>297</span>
<span>298</span>
<span>299</span>
<span>300</span>
<span>301</span>
<span>302</span>
<span>303</span>
<span>304</span>
<span>305</span>
<span>306</span>
<span>307</span>
<span>308</span>
<span>309</span>
<span>310</span>
<span>311</span>
<span>312</span>
<span>313</span>
<span>314</span>
<span>315</span>
<span>316</span>
<span>317</span>
<span>318</span>
<span>319</span>
<span>320</span>
<span>321</span>
<span>322</span>
<span>323</span>
<span>324</span>
<span>325</span>
<span>326</span>
<span>327</span>
<span>328</span>
<span>329</span>
<span>330</span>
<span>331</span>
<span>332</span>
<span>333</span>
<span>334</span>
<span>335</span>
<span>336</span>
<span>337</span>
<span>338</span>
<span>339</span>
<span>340</span>
<span>341</span>
<span>342</span>
<span>343</span>
<span>344</span>
<span>345</span>
<span>346</span>
<span>347</span>
<span>348</span>
<span>349</span>
<span>350</span>
<span>351</span>
<span>352</span>
<span>353</span>
<span>354</span>
<span>355</span>
<span>356</span>
<span>357</span>
<span>358</span>
<span>359</span>
<span>360</span>
<span>361</span>
<span>362</span>
<span>363</span>
<span>364</span>
<span>365</span>
<span>366</span>
<span>367</span>
<span>368</span>
<span>369</span>
<span>370</span>
<span>371</span>
<span>372</span>
<span>373</span>
<span>374</span>
<span>375</span>
<span>376</span>
<span>377</span>
<span>378</span>
<span>379</span>
<span>380</span>
<span>381</span>
<span>382</span>
<span>383</span>
<span>384</span>
<span>385</span>
<span>386</span>
<span>387</span>
<span>388</span>
<span>389</span>
<span>390</span>
<span>391</span>
<span>392</span>
<span>393</span>
<span>394</span>
<span>395</span>
<span>396</span>
<span>397</span>
<span>398</span>
<span>399</span>
<span>400</span>
<span>401</span>
<span>402</span>
<span>403</span>
<span>404</span>
<span>405</span>
<span>406</span>
<span>407</span>
<span>408</span>
<span>409</span>
<span>410</span>
<span>411</span>
<span>412</span>
<span>413</span>
<span>414</span>
<span>415</span>
<span>416</span>
<span>417</span>
<span>418</span>
<span>419</span>
<span>420</span>
<span>421</span>
<span>422</span>
<span>423</span>
<span>424</span>
<span>425</span>
<span>426</span>
<span>427</span>
<span>428</span>
<span>429</span>
<span>430</span>
<span>431</span>
<span>432</span>
<span>433</span>
<span>434</span>
<span>435</span>
<span>436</span>
<span>437</span>
<span>438</span>
<span>439</span>
<span>440</span>
<span>441</span>
<span>442</span>
<span>443</span>
<span>444</span>
<span>445</span>
<span>446</span>
<span>447</span>
<span>448</span>
<span>449</span>
<span>450</span>
<span>451</span>
<span>452</span>
<span>453</span>
<span>454</span>
<span>455</span>
<span>456</span>
<span>457</span>
<span>458</span>
<span>459</span>
<span>460</span>
<span>461</span>
<span>462</span>
<span>463</span>
<span>464</span>
<span>465</span>
<span>466</span>
<span>467</span>
<span>468</span>
<span>469</span>
<span>470</span>
<span>471</span>
<span>472</span>
<span>473</span>
<span>474</span>
<span>475</span>
<span>476</span>
<span>477</span>
<span>478</span>
<span>479</span>
<span>480</span>
<span>481</span>
<span>482</span>
<span>483</span>
<span>484</span>
<span>485</span>
<span>486</span>
<span>487</span>
<span>488</span>
<span>489</span>
<span>490</span>
<span>491</span>
<span>492</span>
<span>493</span>
<span>494</span>
<span>495</span>
<span>496</span>
<span>497</span>
<span>498</span>
<span>499</span>
<span>500</span>
<span>501</span>
<span>502</span>
<span>503</span>
<span>504</span>
<span>505</span>
<span>506</span>
<span>507</span>
<span>508</span>
<span>509</span>
<span>510</span>
<span>511</span>
<span>512</span>
<span>513</span>
<span>514</span>
<span>515</span>
<span>516</span>
<span>517</span>
<span>518</span>
<span>519</span>
<span>520</span>
<span>521</span>
<span>522</span>
<span>523</span>
<span>524</span>
<span>525</span>
<span>526</span>
<span>527</span>
<span>528</span>
<span>529</span>
<span>530</span>
<span>531</span>
<span>532</span>
<span>533</span>
<span>534</span>
<span>535</span>
<span>536</span>
<span>537</span>
<span>538</span>
<span>539</span>
<span>540</span>
<span>541</span>
<span>542</span>
<span>543</span>
<span>544</span>
<span>545</span>
<span>546</span>
<span>547</span>
<span>548</span>
<span>549</span>
<span>550</span>
<span>551</span>
<span>552</span>
<span>553</span>
<span>554</span>
<span>555</span>
<span>556</span>
<span>557</span>
<span>558</span>
<span>559</span>
<span>560</span>
<span>561</span>
<span>562</span>
<span>563</span>
<span>564</span>
<span>565</span>
<span>566</span>
<span>567</span>
<span>568</span>
<span>569</span>
<span>570</span>
<span>571</span>
<span>572</span>
<span>573</span>
<span>574</span>
<span>575</span>
<span>576</span>
<span>577</span>
<span>578</span>
<span>579</span>
<span>580</span>
<span>581</span>
<span>582</span>
<span>583</span>
<span>584</span>
<span>585</span>
<span>586</span>
<span>587</span>
<span>588</span>
<span>589</span>
<span>590</span>
<span>591</span>
<span>592</span>
<span>593</span>
<span>594</span>
<span>595</span>
<span>596</span>
<span>597</span>
<span>598</span>
<span>599</span>
<span>600</span>
<span>601</span>
<span>602</span>
<span>603</span>
<span>604</span>
<span>605</span>
<span>606</span>
<span>607</span>
<span>608</span>
<span>609</span>
<span>610</span>
<span>611</span>
<span>612</span>
<span>613</span>
<span>614</span>
<span>615</span>
<span>616</span>
<span>617</span>
<span>618</span>
<span>619</span>
<span>620</span>
<span>621</span>
<span>622</span>
<span>623</span>
<span>624</span>
<span>625</span>
<span>626</span>
<span>627</span>
<span>628</span>
<span>629</span>
<span>630</span>
<span>631</span>
<span>632</span>
<span>633</span>
<span>634</span>
<span>635</span>
<span>636</span>
<span>637</span>
<span>638</span>
<span>639</span>
<span>640</span>
<span>641</span>
<span>642</span>
<span>643</span>
<span>644</span>
<span>645</span>
<span>646</span>
<span>647</span>
<span>648</span>
<span>649</span>
<span>650</span>
<span>651</span>
<span>652</span>
<span>653</span>
<span>654</span>
<span>655</span>
<span>656</span>
<span>657</span>
<span>658</span>
<span>659</span>
<span>660</span>
<span>661</span>
<span>662</span>
<span>663</span>
<span>664</span>
<span>665</span>
<span>666</span>
<span>667</span>
<span>668</span>
<span>669</span>
<span>670</span>
<span>671</span>
<span>672</span>
<span>673</span>
<span>674</span>
<span>675</span>
<span>676</span>
<span>677</span>
<span>678</span>
<span>679</span>
<span>680</span>
<span>681</span>
<span>682</span>
<span>683</span>
<span>684</span>
<span>685</span>
<span>686</span>
<span>687</span>
<span>688</span>
<span>689</span>
<span>690</span>
<span>691</span>
<span>692</span>
<span>693</span>
<span>694</span>
<span>695</span>
<span>696</span>
<span>697</span>
<span>698</span>
<span>699</span>
<span>700</span>
<span>701</span>
<span>702</span>
<span>703</span>
<span>704</span>
<span>705</span>
<span>706</span>
<span>707</span>
<span>708</span>
<span>709</span>
<span>710</span>
<span>711</span>
<span>712</span>
<span>713</span>
<span>714</span>
<span>715</span>
<span>716</span>
<span>717</span>
<span>718</span>
<span>719</span>
<span>720</span>
<span>721</span>
<span>722</span>
<span>723</span>
<span>724</span>
<span>725</span>
<span>726</span>
<span>727</span>
<span>728</span>
<span>729</span>
<span>730</span>
<span>731</span>
<span>732</span>
<span>733</span>
<span>734</span>
<span>735</span>
<span>736</span>
<span>737</span>
<span>738</span>
<span>739</span>
<span>740</span>
<span>741</span>
<span>742</span>
<span>743</span>
<span>744</span>
<span>745</span>
<span>746</span>
<span>747</span>
<span>748</span>
<span>749</span>
<span>750</span>
<span>751</span>
<span>752</span>
<span>753</span>
<span>754</span>
<span>755</span>
<span>756</span>
<span>757</span>
<span>758</span>
<span>759</span>
<span>760</span>
<span>761</span>
<span>762</span>
<span>763</span>
<span>764</span>
<span>765</span>
<span>766</span>
<span>767</span>
<span>768</span>
<span>769</span>
<span>770</span>
<span>771</span>
<span>772</span>
<span>773</span>
<span>774</span>
<span>775</span>
<span>776</span>
<span>777</span>
<span>778</span>
<span>779</span>
<span>780</span>
<span>781</span>
<span>782</span>
<span>783</span>
<span>784</span>
<span>785</span>
<span>786</span>
<span>787</span>
<span>788</span>
<span>789</span>
<span>790</span>
<span>791</span>
<span>792</span>
<span>793</span>
<span>794</span>
<span>795</span>
<span>796</span>
<span>797</span>
<span>798</span>
<span>799</span>
<span>800</span>
<span>801</span>
<span>802</span>
<span>803</span>
<span>804</span>
<span>805</span>
<span>806</span>
<span>807</span>
<span>808</span>
<span>809</span>
<span>810</span>
<span>811</span>
<span>812</span>
<span>813</span>
<span>814</span>
<span>815</span>
<span>816</span>
<span>817</span>
<span>818</span>
<span>819</span>
<span>820</span>
<span>821</span>
<span>822</span>
<span>823</span>
<span>824</span>
<span>825</span>
<span>826</span>
<span>827</span>
<span>828</span>
<span>829</span>
<span>830</span>
<span>831</span>
<span>832</span>
<span>833</span>
<span>834</span>
<span>835</span>
<span>836</span>
<span>837</span>
<span>838</span>
<span>839</span>
<span>840</span>
<span>841</span>
<span>842</span>
<span>843</span>
<span>844</span>
<span>845</span>
<span>846</span>
<span>847</span>
<span>848</span>
<span>849</span>
<span>850</span>
<span>851</span>
<span>852</span>
<span>853</span>
<span>854</span>
<span>855</span>
<span>856</span>
<span>857</span>
<span>858</span>
<span>859</span>
<span>860</span>
<span>861</span>
<span>862</span>
<span>863</span>
<span>864</span>
<span>865</span>
<span>866</span>
<span>867</span>
<span>868</span>
<span>869</span>
<span>870</span>
<span>871</span>
<span>872</span>
<span>873</span>
<span>874</span>
<span>875</span>
<span>876</span>
<span>877</span>
<span>878</span>
<span>879</span>
<span>880</span>
<span>881</span>
<span>882</span>
<span>883</span>
<span>884</span>
<span>885</span>
<span>886</span>
<span>887</span>
<span>888</span>
<span>889</span>
<span>890</span>
<span>891</span>
<span>892</span>
<span>893</span>
<span>894</span>
<span>895</span>
<span>896</span>
<span>897</span>
<span>898</span>
<span>899</span>
<span>900</span>
<span>901</span>
<span>902</span>
<span>903</span>
<span>904</span>
<span>905</span>
<span>906</span>
<span>907</span>
<span>908</span>
<span>909</span>
<span>910</span>
<span>911</span>
<span>912</span>
<span>913</span>
<span>914</span>
<span>915</span>
<span>916</span>
<span>917</span>
<span>918</span>
<span>919</span>
<span>920</span>
<span>921</span>
<span>922</span>
<span>923</span>
<span>924</span>
<span>925</span>
<span>926</span>
<span>927</span>
<span>928</span>
<span>929</span>
<span>930</span>
<span>931</span>
<span>932</span>
<span>933</span>
<span>934</span>
<span>935</span>
<span>936</span>
<span>937</span>
<span>938</span>
<span>939</span>
<span>940</span>
<span>941</span>
<span>942</span>
<span>943</span>
<span>944</span>
<span>945</span>
<span>946</span>
<span>947</span>
<span>948</span>
<span>949</span>
<span>950</span>
<span>951</span>
<span>952</span>
<span>953</span>
<span>954</span>
<span>955</span>
<span>956</span>
<span>957</span>
<span>958</span>
<span>959</span>
<span>960</span>
<span>961</span>
<span>962</span>
<span>963</span>
<span>964</span>
<span>965</span>
<span>966</span>
<span>967</span>
<span>968</span>
<span>969</span>
<span>970</span>
<span>971</span>
<span>972</span>
<span>973</span>
<span>974</span>
<span>975</span>
<span>976</span>
<span>977</span>
<span>978</span>
<span>979</span>
<span>980</span>
<span>981</span>
<span>982</span>
<span>983</span>
<span>984</span>
<span>985</span>
<span>986</span>
<span>987</span>
<span>988</span>
<span>989</span>
<span>990</span>
<span>991</span>
<span>992</span>
<span>993</span>
<span>994</span>
<span>995</span>
<span>996</span>
<span>997</span>
<span>998</span>
<span>999</span>
<span>1000</span>
<span>1001</span>
<span>1002</span>
<span>1003</span>
<span>1004</span>
<span>1005</span>
<span>1006</span>
<span>1007</span>
<span>1008</span>
<span>1009</span>
<span>1010</span>
<span>1011</span>
<span>1012</span>
<span>1013</span>
<span>1014</span>
<span>1015</span>
<span>1016</span>
<span>1017</span>
<span>1018</span>
<span>1019</span>
<span>1020</span>
<span>1021</span>
<span>1022</span>
<span>1023</span>
<span>1024</span>
<span>1025</span>
<span>1026</span>
<span>1027</span>
<span>1028</span>
<span>1029</span>
<span>1030</span>
<span>1031</span>
<span>1032</span>
<span>1033</span>
<span>1034</span>
<span>1035</span>
<span>1036</span>
<span>1037</span>
<span>1038</span>
<span>1039</span>
<span>1040</span>
<span>1041</span>
<span>1042</span>
<span>1043</span>
<span>1044</span>
<span>1045</span>
<span>1046</span>
<span>1047</span>
<span>1048</span>
<span>1049</span>
<span>1050</span>
<span>1051</span>
<span>1052</span>
<span>1053</span>
<span>1054</span>
<span>1055</span>
<span>1056</span>
<span>1057</span>
<span>1058</span>
<span>1059</span>
<span>1060</span>
<span>1061</span>
<span>1062</span>
<span>1063</span>
<span>1064</span>
<span>1065</span>
<span>1066</span>
<span>1067</span>
<span>1068</span>
<span>1069</span>
<span>1070</span>
<span>1071</span>
<span>1072</span>
<span>1073</span>
<span>1074</span>
<span>1075</span>
<span>1076</span>
<span>1077</span>
<span>1078</span>
<span>1079</span>
<span>1080</span>
<span>1081</span>
<span>1082</span>
<span>1083</span>
<span>1084</span>
<span>1085</span>
<span>1086</span>
<span>1087</span>
<span>1088</span>
<span>1089</span>
<span>1090</span>
<span>1091</span>
<span>1092</span>
<span>1093</span>
<span>1094</span>
<span>1095</span>
<span>1096</span>
<span>1097</span>
<span>1098</span>
<span>1099</span>
<span>1100</span>
<span>1101</span>
<span>1102</span>
<span>1103</span>
<span>1104</span>
<span>1105</span>
<span>1106</span>
<span>1107</span>
<span>1108</span>
<span>1109</span>
<span>1110</span>
<span>1111</span>
<span>1112</span>
<span>1113</span>
<span>1114</span>
<span>1115</span>
<span>1116</span>
<span>1117</span>
<span>1118</span>
<span>1119</span>
<span>1120</span>
<span>1121</span>
<span>1122</span>
<span>1123</span>
<span>1124</span>
<span>1125</span>
<span>1126</span>
<span>1127</span>
<span>1128</span>
<span>1129</span>
<span>1130</span>
<span>1131</span>
<span>1132</span>
<span>1133</span>
<span>1134</span>
<span>1135</span>
<span>1136</span>
<span>1137</span>
<span>1138</span>
<span>1139</span>
<span>1140</span>
<span>1141</span>
<span>1142</span>
<span>1143</span>
<span>1144</span>
<span>1145</span>
<span>1146</span>
<span>1147</span>
<span>1148</span>
<span>1149</span>
<span>1150</span>
<span>1151</span>
<span>1152</span>
<span>1153</span>
<span>1154</span>
<span>1155</span>
<span>1156</span>
<span>1157</span>
<span>1158</span>
<span>1159</span>
<span>1160</span>
<span>1161</span>
<span>1162</span>
<span>1163</span>
<span>1164</span>
<span>1165</span>
<span>1166</span>
<span>1167</span>
<span>1168</span>
<span>1169</span>
<span>1170</span>
<span>1171</span>
<span>1172</span>
<span>1173</span>
<span>1174</span>
<span>1175</span>
<span>1176</span>
<span>1177</span>
<span>1178</span>
<span>1179</span>
<span>1180</span>
<span>1181</span>
<span>1182</span>
<span>1183</span>
<span>1184</span>
<span>1185</span>
<span>1186</span>
<span>1187</span>
<span>1188</span>
<span>1189</span>
<span>1190</span>
<span>1191</span>
<span>1192</span>
<span>1193</span>
<span>1194</span>
<span>1195</span>
<span>1196</span>
<span>1197</span>
<span>1198</span>
<span>1199</span>
<span>1200</span>
<span>1201</span>
<span>1202</span>
<span>1203</span>
<span>1204</span>
<span>1205</span>
<span>1206</span>
<span>1207</span>
<span>1208</span>
<span>1209</span>
<span>1210</span>
<span>1211</span>
<span>1212</span>
<span>1213</span>
<span>1214</span>
<span>1215</span>
<span>1216</span>
<span>1217</span>
<span>1218</span>
<span>1219</span>
<span>1220</span>
<span>1221</span>
<span>1222</span>
<span>1223</span>
<span>1224</span>
<span>1225</span>
<span>1226</span>
<span>1227</span>
<span>1228</span>
<span>1229</span>
<span>1230</span>
<span>1231</span>
<span>1232</span>
<span>1233</span>
<span>1234</span>
<span>1235</span>
<span>1236</span>
<span>1237</span>
<span>1238</span>
<span>1239</span>
<span>1240</span>
<span>1241</span>
<span>1242</span>
<span>1243</span>
<span>1244</span>
<span>1245</span>
<span>1246</span>
<span>1247</span>
<span>1248</span>
<span>1249</span>
<span>1250</span>
<span>1251</span>
<span>1252</span>
<span>1253</span>
<span>1254</span>
<span>1255</span>
<span>1256</span>
<span>1257</span>
<span>1258</span>
<span>1259</span>
<span>1260</span>
<span>1261</span>
<span>1262</span>
<span>1263</span>
<span>1264</span>
<span>1265</span>
<span>1266</span>
<span>1267</span>
<span>1268</span>
<span>1269</span>
<span>1270</span>
<span>1271</span>
<span>1272</span>
<span>1273</span>
<span>1274</span>
<span>1275</span>
<span>1276</span>
<span>1277</span>
<span>1278</span>
<span>1279</span>
<span>1280</span>
<span>1281</span>
<span>1282</span>
<span>1283</span>
<span>1284</span>
<span>1285</span>
<span>1286</span>
<span>1287</span>
<span>1288</span>
<span>1289</span>
<span>1290</span>
<span>1291</span>
<span>1292</span>
<span>1293</span>
<span>1294</span>
<span>1295</span>
<span>1296</span>
<span>1297</span>
<span>1298</span>
<span>1299</span>
<span>1300</span>
<span>1301</span>
<span>1302</span>
<span>1303</span>
<span>1304</span>
<span>1305</span>
<span>1306</span>
<span>1307</span>
<span>1308</span>
<span>1309</span>
<span>1310</span>
<span>1311</span>
<span>1312</span>
<span>1313</span>
<span>1314</span>
<span>1315</span>
<span>1316</span>
<span>1317</span>
<span>1318</span>
<span>1319</span>
<span>1320</span>
<span>1321</span>
<span>1322</span>
<span>1323</span>
<span>1324</span>
<span>1325</span>
<span>1326</span>
<span>1327</span>
<span>1328</span>
<span>1329</span>
<span>1330</span>
<span>1331</span>
<span>1332</span>
<span>1333</span>
<span>1334</span>
<span>1335</span>
<span>1336</span>
<span>1337</span>
<span>1338</span>
<span>1339</span>
<span>1340</span>
<span>1341</span>
<span>1342</span>
<span>1343</span>
<span>1344</span>
<span>1345</span>
<span>1346</span>
<span>1347</span>
<span>1348</span>
<span>1349</span>
<span>1350</span>
<span>1351</span>
<span>1352</span>
<span>1353</span>
<span>1354</span>
<span>1355</span>
<span>1356</span>
<span>1357</span>
<span>1358</span>
<span>1359</span>
<span>1360</span>
<span>1361</span>
<span>1362</span>
<span>1363</span>
<span>1364</span>
<span>1365</span>
<span>1366</span>
<span>1367</span>
<span>1368</span>
<span>1369</span>
<span>1370</span>
<span>1371</span>
<span>1372</span>
<span>1373</span>
<span>1374</span>
<span>1375</span>
<span>1376</span>
<span>1377</span>
<span>1378</span>
<span>1379</span>
<span>1380</span>
<span>1381</span>
<span>1382</span>
<span>1383</span>
<span>1384</span>
<span>1385</span>
<span>1386</span>
<span>1387</span>
<span>1388</span>
<span>1389</span>
<span>1390</span>
<span>1391</span>
<span>1392</span>
<span>1393</span>
<span>1394</span>
<span>1395</span>
<span>1396</span>
<span>1397</span>
<span>1398</span>
<span>1399</span>
<span>1400</span>
<span>1401</span>
<span>1402</span>
<span>1403</span>
<span>1404</span>
<span>1405</span>
<span>1406</span>
<span>1407</span>
<span>1408</span>
<span>1409</span>
<span>1410</span>
<span>1411</span>
<span>1412</span>
<span>1413</span>
<span>1414</span>
<span>1415</span>
<span>1416</span>
<span>1417</span>
<span>1418</span>
<span>1419</span>
<span>1420</span>
<span>1421</span>
<span>1422</span>
<span>1423</span>
<span>1424</span>
<span>1425</span>
<span>1426</span>
<span>1427</span>
<span>1428</span>
<span>1429</span>
<span>1430</span>
<span>1431</span>
<span>1432</span>
<span>1433</span>
<span>1434</span>
<span>1435</span>
<span>1436</span>
<span>1437</span>
<span>1438</span>
<span>1439</span>
<span>1440</span>
<span>1441</span>
<span>1442</span>
<span>1443</span>
<span>1444</span>
<span>1445</span>
<span>1446</span>
<span>1447</span>
<span>1448</span>
<span>1449</span>
<span>1450</span>
<span>1451</span>
<span>1452</span>
<span>1453</span>
<span>1454</span>
<span>1455</span>
<span>1456</span>
<span>1457</span>
<span>1458</span>
<span>1459</span>
<span>1460</span>
<span>1461</span>
<span>1462</span>
<span>1463</span>
<span>1464</span>
<span>1465</span>
<span>1466</span>
<span>1467</span>
<span>1468</span>
<span>1469</span>
<span>1470</span>
<span>1471</span>
<span>1472</span>
<span>1473</span>
<span>1474</span>
<span>1475</span>
<span>1476</span>
<span>1477</span>
<span>1478</span>
<span>1479</span>
<span>1480</span>
<span>1481</span>
<span>1482</span>
<span>1483</span>
<span>1484</span>
<span>1485</span>
<span>1486</span>
<span>1487</span>
<span>1488</span>
<span>1489</span>
<span>1490</span>
<span>1491</span>
<span>1492</span>
<span>1493</span>
<span>1494</span>
<span>1495</span>
<span>1496</span>
<span>1497</span>
<span>1498</span>
<span>1499</span>
<span>1500</span>
<span>1501</span>
<span>1502</span>
<span>1503</span>
<span>1504</span>
<span>1505</span>
<span>1506</span>
<span>1507</span>
<span>1508</span>
<span>1509</span>
<span>1510</span>
<span>1511</span>
<span>1512</span>
<span>1513</span>
<span>1514</span>
<span>1515</span>
<span>1516</span>
<span>1517</span>
<span>1518</span>
<span>1519</span>
<span>1520</span>
<span>1521</span>
<span>1522</span>
<span>1523</span>
<span>1524</span>
<span>1525</span>
<span>1526</span>
<span>1527</span>
<span>1528</span>
<span>1529</span>
<span>1530</span>
<span>1531</span>
<span>1532</span>
<span>1533</span>
<span>1534</span>
<span>1535</span>
<span>1536</span>
<span>1537</span>
<span>1538</span>
<span>1539</span>
<span>1540</span>
<span>1541</span>
<span>1542</span>
<span>1543</span>
<span>1544</span>
<span>1545</span>
<span>1546</span>
<span>1547</span>
<span>1548</span>
<span>1549</span>
<span>1550</span>
<span>1551</span>
<span>1552</span>
<span>1553</span>
<span>1554</span>
<span>1555</span>
<span>1556</span>
<span>1557</span>
<span>1558</span>
<span>1559</span>
<span>1560</span>
<span>1561</span>
<span>1562</span>
<span>1563</span>
<span>1564</span>
<span>1565</span>
<span>1566</span>
<span>1567</span>
<span>1568</span>
<span>1569</span>
<span>1570</span>
<span>1571</span>
<span>1572</span>
<span>1573</span>
<span>1574</span>
<span>1575</span>
<span>1576</span>
<span>1577</span>
<span>1578</span>
<span>1579</span>
<span>1580</span>
<span>1581</span>
<span>1582</span>
<span>1583</span>
<span>1584</span>
<span>1585</span>
<span>1586</span>
<span>1587</span>
<span>1588</span>
<span>1589</span>
<span>1590</span>
<span>1591</span>
<span>1592</span>
<span>1593</span>
<span>1594</span>
<span>1595</span>
<span>1596</span>
<span>1597</span>
<span>1598</span>
<span>1599</span>
<span>1600</span>
<span>1601</span>
<span>1602</span>
<span>1603</span>
<span>1604</span>
<span>1605</span>
<span>1606</span>
<span>1607</span>
<span>1608</span>
<span>1609</span>
<span>1610</span>
<span>1611</span>
<span>1612</span>
<span>1613</span>
<span>1614</span>
<span>1615</span>
<span>1616</span>
<span>1617</span>
<span>1618</span>
<span>1619</span>
<span>1620</span>
<span>1621</span>
<span>1622</span>
<span>1623</span>
<span>1624</span>
<span>1625</span>
<span>1626</span>
<span>1627</span>
<span>1628</span>
<span>1629</span>
<span>1630</span>
<span>1631</span>
<span>1632</span>
<span>1633</span>
<span>1634</span>
<span>1635</span>
<span>1636</span>
<span>1637</span>
<span>1638</span>
<span>1639</span>
<span>1640</span>
<span>1641</span>
<span>1642</span>
<span>1643</span>
<span>1644</span>
<span>1645</span>
<span>1646</span>
<span>1647</span>
<span>1648</span>
<span>1649</span>
<span>1650</span>
<span>1651</span>
<span>1652</span>
<span>1653</span>
<span>1654</span>
<span>1655</span>
<span>1656</span>
<span>1657</span>
<span>1658</span>
<span>1659</span>
<span>1660</span>
<span>1661</span>
<span>1662</span>
<span>1663</span>
<span>1664</span>
<span>1665</span>
<span>1666</span>
<span>1667</span>
<span>1668</span>
<span>1669</span>
<span>1670</span>
<span>1671</span>
<span>1672</span>
<span>1673</span>
<span>1674</span>
<span>1675</span>
<span>1676</span>
<span>1677</span>
<span>1678</span>
<span>1679</span>
<span>1680</span>
<span>1681</span>
<span>1682</span>
<span>1683</span>
<span>1684</span>
<span>1685</span>
<span>1686</span>
<span>1687</span>
<span>1688</span>
<span>1689</span>
<span>1690</span>
<span>1691</span>
<span>1692</span>
<span>1693</span>
<span>1694</span>
<span>1695</span>
<span>1696</span>
<span>1697</span>
<span>1698</span>
<span>1699</span>
<span>1700</span>
<span>1701</span>
<span>1702</span>
<span>1703</span>
<span>1704</span>
<span>1705</span>
<span>1706</span>
<span>1707</span>
<span>1708</span>
<span>1709</span>
<span>1710</span>
<span>1711</span>
<span>1712</span>
<span>1713</span>
<span>1714</span>
<span>1715</span>
<span>1716</span>
<span>1717</span>
<span>1718</span>
<span>1719</span>
<span>1720</span>
<span>1721</span>
<span>1722</span>
<span>1723</span>
<span>1724</span>
<span>1725</span>
<span>1726</span>
<span>1727</span>
<span>1728</span>
<span>1729</span>
<span>1730</span>
<span>1731</span>
<span>1732</span>
<span>1733</span>
<span>1734</span>
<span>1735</span>
<span>1736</span>
<span>1737</span>
<span>1738</span>
<span>1739</span>
<span>1740</span>
<span>1741</span>
<span>1742</span>
<span>1743</span>
<span>1744</span>
<span>1745</span>
<span>1746</span>
<span>1747</span>
<span>1748</span>
<span>1749</span>
<span>1750</span>
<span>1751</span>
<span>1752</span>
<span>1753</span>
<span>1754</span>
<span>1755</span>
<span>1756</span>
<span>1757</span>
<span>1758</span>
<span>1759</span>
<span>1760</span>
<span>1761</span>
<span>1762</span>
<span>1763</span>
<span>1764</span>
<span>1765</span>
<span>1766</span>
<span>1767</span>
<span>1768</span>
<span>1769</span>
<span>1770</span>
<span>1771</span>
<span>1772</span>
<span>1773</span>
<span>1774</span>
<span>1775</span>
<span>1776</span>
<span>1777</span>
<span>1778</span>
<span>1779</span>
<span>1780</span>
<span>1781</span>
<span>1782</span>
<span>1783</span>
<span>1784</span>
<span>1785</span>
<span>1786</span>
<span>1787</span>
<span>1788</span>
<span>1789</span>
<span>1790</span>
<span>1791</span>
<span>1792</span>
<span>1793</span>
<span>1794</span>
<span>1795</span>
<span>1796</span>
<span>1797</span>
<span>1798</span>
<span>1799</span>
<span>1800</span>
<span>1801</span>
<span>1802</span>
<span>1803</span>
<span>1804</span>
<span>1805</span>
<span>1806</span>
<span>1807</span>
<span>1808</span>
<span>1809</span>
<span>1810</span>
<span>1811</span>
<span>1812</span>
<span>1813</span>
<span>1814</span>
<span>1815</span>
<span>1816</span>
<span>1817</span>
<span>1818</span>
<span>1819</span>
<span>1820</span>
<span>1821</span>
<span>1822</span>
<span>1823</span>
<span>1824</span>
<span>1825</span>
<span>1826</span>
<span>1827</span>
<span>1828</span>
<span>1829</span>
<span>1830</span>
<span>1831</span>
<span>1832</span>
<span>1833</span>
<span>1834</span>
<span>1835</span>
<span>1836</span>
<span>1837</span>
<span>1838</span>
<span>1839</span>
<span>1840</span>
<span>1841</span>
<span>1842</span>
<span>1843</span>
<span>1844</span>
<span>1845</span>
<span>1846</span>
<span>1847</span>
<span>1848</span>
<span>1849</span>
<span>1850</span>
<span>1851</span>
<span>1852</span>
<span>1853</span>
<span>1854</span>
<span>1855</span>
<span>1856</span>
<span>1857</span>
<span>1858</span>
<span>1859</span>
<span>1860</span>
<span>1861</span>
<span>1862</span>
<span>1863</span>
<span>1864</span>
<span>1865</span>
<span>1866</span>
<span>1867</span>
<span>1868</span>
<span>1869</span>
<span>1870</span>
<span>1871</span>
<span>1872</span>
<span>1873</span>
<span>1874</span>
<span>1875</span>
<span>1876</span>
<span>1877</span>
<span>1878</span>
<span>1879</span>
<span>1880</span>
<span>1881</span>
<span>1882</span>
<span>1883</span>
<span>1884</span>
<span>1885</span>
<span>1886</span>
<span>1887</span>
<span>1888</span>
<span>1889</span>
<span>1890</span>
<span>1891</span>
<span>1892</span>
<span>1893</span>
<span>1894</span>
<span>1895</span>
<span>1896</span>
<span>1897</span>
<span>1898</span>
<span>1899</span>
<span>1900</span>
<span>1901</span>
<span>1902</span>
<span>1903</span>
<span>1904</span>
<span>1905</span>
<span>1906</span>
<span>1907</span>
<span>1908</span>
<span>1909</span>
<span>1910</span>
<span>1911</span>
<span>1912</span>
<span>1913</span>
<span>1914</span>
<span>1915</span>
<span>1916</span>
<span>1917</span>
<span>1918</span>
<span>1919</span>
<span>1920</span>
<span>1921</span>
<span>1922</span>
<span>1923</span>
<span>1924</span>
<span>1925</span>
<span>1926</span>
<span>1927</span>
<span>1928</span>
<span>1929</span>
<span>1930</span>
<span>1931</span>
<span>1932</span>
<span>1933</span>
<span>1934</span>
<span>1935</span>
<span>1936</span>
<span>1937</span>
<span>1938</span>
<span>1939</span>
<span>1940</span>
<span>1941</span>
<span>1942</span>
<span>1943</span>
<span>1944</span>
<span>1945</span>
<span>1946</span>
<span>1947</span>
<span>1948</span>
<span>1949</span>
<span>1950</span>
<span>1951</span>
<span>1952</span>
<span>1953</span>
<span>1954</span>
<span>1955</span>
<span>1956</span>
<span>1957</span>
<span>1958</span>
<span>1959</span>
<span>1960</span>
<span>1961</span>
<span>1962</span>
<span>1963</span>
<span>1964</span>
<span>1965</span>
<span>1966</span>
<span>1967</span>
<span>1968</span>
<span>1969</span>
<span>1970</span>
<span>1971</span>
<span>1972</span>
<span>1973</span>
<span>1974</span>
<span>1975</span>
<span>1976</span>
<span>1977</span>
<span>1978</span>
<span>1979</span>
<span>1980</span>
<span>1981</span>
<span>1982</span>
<span>1983</span>
<span>1984</span>
<span>1985</span>
<span>1986</span>
<span>1987</span>
<span>1988</span>
<span>1989</span>
<span>1990</span>
<span>1991</span>
<span>1992</span>
<span>1993</span>
<span>1994</span>
<span>1995</span>
<span>1996</span>
<span>1997</span>
<span>1998</span>
<span>1999</span>
<span>2000</span>
<span>2001</span>
<span>2002</span>
<span>2003</span>
<span>2004</span>
<span>2005</span>
<span>2006</span>
<span>2007</span>
<span>2008</span>
<span>2009</span>
<span>2010</span>
<span>2011</span>
<span>2012</span>
<span>2013</span>
<span>2014</span>
<span>2015</span>
<span>2016</span>
<span>2017</span>
<span>2018</span>
<span>2019</span>
<span>2020</span>
<span>2021</span>
<span>2022</span>
<span>2023</span>
<span>2024</span>
<span>2025</span>
<span>2026</span>
<span>2027</span>
<span>2028</span>
<span>2029</span>
<span>2030</span>
<span>2031</span>
<span>2032</span>
<span>2033</span>
<span>2034</span>
<span>2035</span>
<span>2036</span>
<span>2037</span>
<span>2038</span>
<span>2039</span>
<span>2040</span>
<span>2041</span>
<span>2042</span>
<span>2043</span>
<span>2044</span>
<span>2045</span>
<span>2046</span>
<span>2047</span>
<span>2048</span>
<span>2049</span>
<span>2050</span>
<span>2051</span>
<span>2052</span>
<span>2053</span>
<span>2054</span>
<span>2055</span>
<span>2056</span>
<span>2057</span>
<span>2058</span>
<span>2059</span>
<span>2060</span>
<span>2061</span>
<span>2062</span>
<span>2063</span>
<span>2064</span>
<span>2065</span>
<span>2066</span>
<span>2067</span>
<span>2068</span>
<span>2069</span>
<span>2070</span>
<span>2071</span>
<span>2072</span>
<span>2073</span>
<span>2074</span>
<span>2075</span>
<span>2076</span>
<span>2077</span>
<span>2078</span>
<span>2079</span>
<span>2080</span>
<span>2081</span>
<span>2082</span>
<span>2083</span>
<span>2084</span>
<span>2085</span>
<span>2086</span>
<span>2087</span>
<span>2088</span>
<span>2089</span>
<span>2090</span>
<span>2091</span>
<span>2092</span>
<span>2093</span>
<span>2094</span>
<span>2095</span>
<span>2096</span>
<span>2097</span>
<span>2098</span>
<span>2099</span>
<span>2100</span>
<span>2101</span>
<span>2102</span>
<span>2103</span>
<span>2104</span>
<span>2105</span>
<span>2106</span>
<span>2107</span>
<span>2108</span>
<span>2109</span>
<span>2110</span>
<span>2111</span>
<span>2112</span>
<span>2113</span>
<span>2114</span>
<span>2115</span>
<span>2116</span>
<span>2117</span>
<span>2118</span>
<span>2119</span>
<span>2120</span>
<span>2121</span>
<span>2122</span>
<span>2123</span>
<span>2124</span>
<span>2125</span>
<span>2126</span>
<span>2127</span>
<span>2128</span>
<span>2129</span>
<span>2130</span>
<span>2131</span>
<span>2132</span>
<span>2133</span>
<span>2134</span>
<span>2135</span>
<span>2136</span>
<span>2137</span>
<span>2138</span>
<span>2139</span>
<span>2140</span>
<span>2141</span>
<span>2142</span>
<span>2143</span>
<span>2144</span>
<span>2145</span>
<span>2146</span>
<span>2147</span>
<span>2148</span>
<span>2149</span>
<span>2150</span>
<span>2151</span>
<span>2152</span>
<span>2153</span>
<span>2154</span>
<span>2155</span>
<span>2156</span>
<span>2157</span>
<span>2158</span>
<span>2159</span>
<span>2160</span>
<span>2161</span>
<span>2162</span>
<span>2163</span>
<span>2164</span>
<span>2165</span>
<span>2166</span>
<span>2167</span>
<span>2168</span>
<span>2169</span>
<span>2170</span>
<span>2171</span>
<span>2172</span>
<span>2173</span>
<span>2174</span>
<span>2175</span>
<span>2176</span>
<span>2177</span>
<span>2178</span>
<span>2179</span>
<span>2180</span>
<span>2181</span>
<span>2182</span>
<span>2183</span>
<span>2184</span>
<span>2185</span>
<span>2186</span>
<span>2187</span>
<span>2188</span>
<span>2189</span>
<span>2190</span>
<span>2191</span>
<span>2192</span>
<span>2193</span>
<span>2194</span>
<span>2195</span>
<span>2196</span>
<span>2197</span>
<span>2198</span>
<span>2199</span>
<span>2200</span>
<span>2201</span>
<span>2202</span>
<span>2203</span>
<span>2204</span>
<span>2205</span>
<span>2206</span>
<span>2207</span>
<span>2208</span>
<span>2209</span>
<span>2210</span>
<span>2211</span>
<span>2212</span>
<span>2213</span>
<span>2214</span>
<span>2215</span>
<span>2216</span>
<span>2217</span>
<span>2218</span>
<span>2219</span>
<span>2220</span>
<span>2221</span>
<span>2222</span>
<span>2223</span>
<span>2224</span>
<span>2225</span>
<span>2226</span>
<span>2227</span>
<span>2228</span>
<span>2229</span>
<span>2230</span>
<span>2231</span>
<span>2232</span>
<span>2233</span>
<span>2234</span>
<span>2235</span>
<span>2236</span>
<span>2237</span>
<span>2238</span>
<span>2239</span>
<span>2240</span>
<span>2241</span>
<span>2242</span>
<span>2243</span>
<span>2244</span>
<span>2245</span>
<span>2246</span>
<span>2247</span>
<span>2248</span>
<span>2249</span>
<span>2250</span>
<span>2251</span>
<span>2252</span>
<span>2253</span>
<span>2254</span>
<span>2255</span>
<span>2256</span>
<span>2257</span>
<span>2258</span>
<span>2259</span>
<span>2260</span>
<span>2261</span>
<span>2262</span>
<span>2263</span>
<span>2264</span>
<span>2265</span>
<span>2266</span>
<span>2267</span>
<span>2268</span>
<span>2269</span>
<span>2270</span>
<span>2271</span>
<span>2272</span>
<span>2273</span>
<span>2274</span>
<span>2275</span>
<span>2276</span>
<span>2277</span>
<span>2278</span>
<span>2279</span>
<span>2280</span>
<span>2281</span>
<span>2282</span>
<span>2283</span>
<span>2284</span>
<span>2285</span>
<span>2286</span>
<span>2287</span>
<span>2288</span>
<span>2289</span>
<span>2290</span>
<span>2291</span>
<span>2292</span>
<span>2293</span>
<span>2294</span>
<span>2295</span>
<span>2296</span>
<span>2297</span>
<span>2298</span>
<span>2299</span>
<span>2300</span>
<span>2301</span>
<span>2302</span>
<span>2303</span>
<span>2304</span>
<span>2305</span>
<span>2306</span>
<span>2307</span>
<span>2308</span>
<span>2309</span>
<span>2310</span>
<span>2311</span>
<span>2312</span>
<span>2313</span>
<span>2314</span>
<span>2315</span>
<span>2316</span>
<span>2317</span>
<span>2318</span>
<span>2319</span>
<span>2320</span>
<span>2321</span>
<span>2322</span>
<span>2323</span>
<span>2324</span>
<span>2325</span>
<span>2326</span>
<span>2327</span>
<span>2328</span>
<span>2329</span>
<span>2330</span>
<span>2331</span>
<span>2332</span>
<span>2333</span>
<span>2334</span>
<span>2335</span>
<span>2336</span>
<span>2337</span>
<span>2338</span>
<span>2339</span>
<span>2340</span>
<span>2341</span>
<span>2342</span>
<span>2343</span>
<span>2344</span>
<span>2345</span>
<span>2346</span>
<span>2347</span>
<span>2348</span>
<span>2349</span>
<span>2350</span>
<span>2351</span>
<span>2352</span>
<span>2353</span>
<span>2354</span>
<span>2355</span>
<span>2356</span>
<span>2357</span>
<span>2358</span>
<span>2359</span>
<span>2360</span>
<span>2361</span>
<span>2362</span>
<span>2363</span>
<span>2364</span>
<span>2365</span>
<span>2366</span>
<span>2367</span>
<span>2368</span>
<span>2369</span>
<span>2370</span>
<span>2371</span>
<span>2372</span>
<span>2373</span>
<span>2374</span>
<span>2375</span>
<span>2376</span>
<span>2377</span>
<span>2378</span>
<span>2379</span>
<span>2380</span>
<span>2381</span>
<span>2382</span>
<span>2383</span>
<span>2384</span>
<span>2385</span>
<span>2386</span>
<span>2387</span>
<span>2388</span>
<span>2389</span>
<span>2390</span>
<span>2391</span>
<span>2392</span>
<span>2393</span>
<span>2394</span>
<span>2395</span>
<span>2396</span>
<span>2397</span>
<span>2398</span>
<span>2399</span>
<span>2400</span>
<span>2401</span>
<span>2402</span>
<span>2403</span>
<span>2404</span>
<span>2405</span>
<span>2406</span>
<span>2407</span>
<span>2408</span>
<span>2409</span>
<span>2410</span>
<span>2411</span>
<span>2412</span>
<span>2413</span>
<span>2414</span>
<span>2415</span>
<span>2416</span>
<span>2417</span>
<span>2418</span>
<span>2419</span>
<span>2420</span>
<span>2421</span>
<span>2422</span>
<span>2423</span>
<span>2424</span>
<span>2425</span>
<span>2426</span>
<span>2427</span>
<span>2428</span>
<span>2429</span>
<span>2430</span>
<span>2431</span>
<span>2432</span>
<span>2433</span>
<span>2434</span>
<span>2435</span>
<span>2436</span>
<span>2437</span>
<span>2438</span>
<span>2439</span>
<span>2440</span>
<span>2441</span>
<span>2442</span>
<span>2443</span>
<span>2444</span>
<span>2445</span>
<span>2446</span>
<span>2447</span>
<span>2448</span>
<span>2449</span>
<span>2450</span>
<span>2451</span>
<span>2452</span>
<span>2453</span>
<span>2454</span>
<span>2455</span>
<span>2456</span>
<span>2457</span>
<span>2458</span>
<span>2459</span>
<span>2460</span>
<span>2461</span>
<span>2462</span>
<span>2463</span>
<span>2464</span>
<span>2465</span>
<span>2466</span>
<span>2467</span>
<span>2468</span>
<span>2469</span>
<span>2470</span>
<span>2471</span>
<span>2472</span>
<span>2473</span>
<span>2474</span>
<span>2475</span>
<span>2476</span>
<span>2477</span>
<span>2478</span>
<span>2479</span>
<span>2480</span>
<span>2481</span>
<span>2482</span>
<span>2483</span>
<span>2484</span>
<span>2485</span>
<span>2486</span>
<span>2487</span>
<span>2488</span>
<span>2489</span>
<span>2490</span>
<span>2491</span>
<span>2492</span>
<span>2493</span>
<span>2494</span>
<span>2495</span>
<span>2496</span>
<span>2497</span>
<span>2498</span>
<span>2499</span>
<span>2500</span>
<span>2501</span>
<span>2502</span>
<span>2503</span>
<span>2504</span>
<span>2505</span>
<span>2506</span>
<span>2507</span>
<span>2508</span>
<span>2509</span>
<span>2510</span>
<span>2511</span>
<span>2512</span>
<span>2513</span>
<span>2514</span>
<span>2515</span>
<span>2516</span>
<span>2517</span>
<span>2518</span>
<span>2519</span>
<span>2520</span>
<span>2521</span>
<span>2522</span>
<span>2523</span>
<span>2524</span>
<span>2525</span>
<span>2526</span>
<span>2527</span>
<span>2528</span>
<span>2529</span>
<span>2530</span>
<span>2531</span>
<span>2532</span>
<span>2533</span>
<span>2534</span>
<span>2535</span>
<span>2536</span>
<span>2537</span>
<span>2538</span>
<span>2539</span>
<span>2540</span>
<span>2541</span>
<span>2542</span>
<span>2543</span>
<span>2544</span>
<span>2545</span>
<span>2546</span>
<span>2547</span>
<span>2548</span>
<span>2549</span>
<span>2550</span>
<span>2551</span>
<span>2552</span>
<span>2553</span>
<span>2554</span>
<span>2555</span>
<span>2556</span>
<span>2557</span>
<span>2558</span>
<span>2559</span>
<span>2560</span>
<span>2561</span>
<span>2562</span>
<span>2563</span>
<span>2564</span>
<span>2565</span>
<span>2566</span>
<span>2567</span>
<span>2568</span>
<span>2569</span>
<span>2570</span>
<span>2571</span>
<span>2572</span>
<span>2573</span>
<span>2574</span>
<span>2575</span>
<span>2576</span>
<span>2577</span>
<span>2578</span>
<span>2579</span>
<span>2580</span>
<span>2581</span>
<span>2582</span>
<span>2583</span>
<span>2584</span>
<span>2585</span>
<span>2586</span>
<span>2587</span>
<span>2588</span>
<span>2589</span>
<span>2590</span>
<span>2591</span>
<span>2592</span>
<span>2593</span>
<span>2594</span>
<span>2595</span>
<span>2596</span>
<span>2597</span>
<span>2598</span>
<span>2599</span>
<span>2600</span>
<span>2601</span>
<span>2602</span>
<span>2603</span>
<span>2604</span>
<span>2605</span>
<span>2606</span>
<span>2607</span>
<span>2608</span>
<span>2609</span>
<span>2610</span>
<span>2611</span>
<span>2612</span>
<span>2613</span>
<span>2614</span>
<span>2615</span>
<span>2616</span>
<span>2617</span>
<span>2618</span>
<span>2619</span>
<span>2620</span>
<span>2621</span>
<span>2622</span>
<span>2623</span>
<span>2624</span>
<span>2625</span>
<span>2626</span>
<span>2627</span>
<span>2628</span>
<span>2629</span>
<span>2630</span>
<span>2631</span>
<span>2632</span>
<span>2633</span>
<span>2634</span>
<span>2635</span>
<span>2636</span>
<span>2637</span>
<span>2638</span>
<span>2639</span>
<span>2640</span>
<span>2641</span>
<span>2642</span>
<span>2643</span>
<span>2644</span>
<span>2645</span>
<span>2646</span>
<span>2647</span>
<span>2648</span>
<span>2649</span>
<span>2650</span>
<span>2651</span>
<span>2652</span>
<span>2653</span>
<span>2654</span>
<span>2655</span>
<span>2656</span>
<span>2657</span>
<span>2658</span>
<span>2659</span>
<span>2660</span>
<span>2661</span>
<span>2662</span>
<span>2663</span>
<span>2664</span>
<span>2665</span>
<span>2666</span>
<span>2667</span>
<span>2668</span>
<span>2669</span>
<span>2670</span>
<span>2671</span>
<span>2672</span>
<span>2673</span>
<span>2674</span>
<span>2675</span>
<span>2676</span>
<span>2677</span>
<span>2678</span>
<span>2679</span>
<span>2680</span>
<span>2681</span>
<span>2682</span>
<span>2683</span>
<span>2684</span>
<span>2685</span>
<span>2686</span>
<span>2687</span>
<span>2688</span>
<span>2689</span>
<span>2690</span>
<span>2691</span>
<span>2692</span>
<span>2693</span>
<span>2694</span>
<span>2695</span>
<span>2696</span>
<span>2697</span>
<span>2698</span>
<span>2699</span>
<span>2700</span>
<span>2701</span>
<span>2702</span>
<span>2703</span>
<span>2704</span>
<span>2705</span>
<span>2706</span>
<span>2707</span>
<span>2708</span>
<span>2709</span>
<span>2710</span>
<span>2711</span>
<span>2712</span>
<span>2713</span>
<span>2714</span>
<span>2715</span>
<span>2716</span>
<span>2717</span>
<span>2718</span>
<span>2719</span>
<span>2720</span>
<span>2721</span>
<span>2722</span>
<span>2723</span>
<span>2724</span>
<span>2725</span>
<span>2726</span>
<span>2727</span>
<span>2728</span>
<span>2729</span>
<span>2730</span>
<span>2731</span>
<span>2732</span>
<span>2733</span>
<span>2734</span>
<span>2735</span>
<span>2736</span>
<span>2737</span>
<span>2738</span>
<span>2739</span>
<span>2740</span>
<span>2741</span>
<span>2742</span>
<span>2743</span>
<span>2744</span>
<span>2745</span>
<span>2746</span>
<span>2747</span>
<span>2748</span>
<span>2749</span>
<span>2750</span>
<span>2751</span>
<span>2752</span>
<span>2753</span>
<span>2754</span>
<span>2755</span>
<span>2756</span>
<span>2757</span>
<span>2758</span>
<span>2759</span>
<span>2760</span>
<span>2761</span>
<span>2762</span>
<span>2763</span>
<span>2764</span>
<span>2765</span>
<span>2766</span>
<span>2767</span>
<span>2768</span>
<span>2769</span>
<span>2770</span>
<span>2771</span>
<span>2772</span>
<span>2773</span>
<span>2774</span>
<span>2775</span>
<span>2776</span>
<span>2777</span>
<span>2778</span>
<span>2779</span>
<span>2780</span>
<span>2781</span>
<span>2782</span>
<span>2783</span>
<span>2784</span>
<span>2785</span>
<span>2786</span>
<span>2787</span>
<span>2788</span>
<span>2789</span>
<span>2790</span>
<span>2791</span>
<span>2792</span>
<span>2793</span>
<span>2794</span>
<span>2795</span>
<span>2796</span>
<span>2797</span>
<span>2798</span>
<span>2799</span>
<span>2800</span>
<span>2801</span>
<span>2802</span>
<span>2803</span>
<span>2804</span>
<span>2805</span>
<span>2806</span>
<span>2807</span>
<span>2808</span>
<span>2809</span>
<span>2810</span>
<span>2811</span>
<span>2812</span>
<span>2813</span>
<span>2814</span>
<span>2815</span>
<span>2816</span>
<span>2817</span>
<span>2818</span>
<span>2819</span>
<span>2820</span>
<span>2821</span>
<span>2822</span>
<span>2823</span>
<span>2824</span>
<span>2825</span>
<span>2826</span>
<span>2827</span>
<span>2828</span>
<span>2829</span>
<span>2830</span>
<span>2831</span>
<span>2832</span>
<span>2833</span>
<span>2834</span>
<span>2835</span>
<span>2836</span>
<span>2837</span>
<span>2838</span>
<span>2839</span>
<span>2840</span>
<span>2841</span>
<span>2842</span>
<span>2843</span>
<span>2844</span>
<span>2845</span>
<span>2846</span>
<span>2847</span>
<span>2848</span>
<span>2849</span>
<span>2850</span>
<span>2851</span>
<span>2852</span>
<span>2853</span>
<span>2854</span>
<span>2855</span>
<span>2856</span>
<span>2857</span>
<span>2858</span>
<span>2859</span>
<span>2860</span>
<span>2861</span>
<span>2862</span>
<span>2863</span>
<span>2864</span>
<span>2865</span>
<span>2866</span>
<span>2867</span>
<span>2868</span>
<span>2869</span>
<span>2870</span>
<span>2871</span>
<span>2872</span>
<span>2873</span>
<span>2874</span>
<span>2875</span>
<span>2876</span>
<span>2877</span>
<span>2878</span>
<span>2879</span>
<span>2880</span>
<span>2881</span>
<span>2882</span>
<span>2883</span>
<span>2884</span>
<span>2885</span>
<span>2886</span>
<span>2887</span>
<span>2888</span>
<span>2889</span>
<span>2890</span>
<span>2891</span>
<span>2892</span>
<span>2893</span>
<span>2894</span>
<span>2895</span>
<span>2896</span>
<span>2897</span>
<span>2898</span>
<span>2899</span>
<span>2900</span>
<span>2901</span>
<span>2902</span>
<span>2903</span>
<span>2904</span>
<span>2905</span>
<span>2906</span>
<span>2907</span>
<span>2908</span>
<span>2909</span>
<span>2910</span>
<span>2911</span>
<span>2912</span>
<span>2913</span>
<span>2914</span>
<span>2915</span>
<span>2916</span>
<span>2917</span>
<span>2918</span>
<span>2919</span>
<span>2920</span>
<span>2921</span>
<span>2922</span>
<span>2923</span>
<span>2924</span>
<span>2925</span>
<span>2926</span>
<span>2927</span>
<span>2928</span>
<span>2929</span>
<span>2930</span>
<span>2931</span>
<span>2932</span>
<span>2933</span>
<span>2934</span>
<span>2935</span>
<span>2936</span>
<span>2937</span>
<span>2938</span>
<span>2939</span>
<span>2940</span>
<span>2941</span>
<span>2942</span>
<span>2943</span>
<span>2944</span>
<span>2945</span>
<span>2946</span>
<span>2947</span>
<span>2948</span>
<span>2949</span>
<span>2950</span>
<span>2951</span>
<span>2952</span>
<span>2953</span>
<span>2954</span>
<span>2955</span>
<span>2956</span>
<span>2957</span>
<span>2958</span>
<span>2959</span>
<span>2960</span>
<span>2961</span>
<span>2962</span>
<span>2963</span>
<span>2964</span>
<span>2965</span>
<span>2966</span>
<span>2967</span>
<span>2968</span>
<span>2969</span>
<span>2970</span>
<span>2971</span>
<span>2972</span>
<span>2973</span>
<span>2974</span>
<span>2975</span>
<span>2976</span>
<span>2977</span>
<span>2978</span>
<span>2979</span>
<span>2980</span>
<span>2981</span>
<span>2982</span>
<span>2983</span>
<span>2984</span>
<span>2985</span>
<span>2986</span>
<span>2987</span>
<span>2988</span>
<span>2989</span>
<span>2990</span>
<span>2991</span>
<span>2992</span>
<span>2993</span>
<span>2994</span>
<span>2995</span>
<span>2996</span>
<span>2997</span>
<span>2998</span>
<span>2999</span>
<span>3000</span>
<span>3001</span>
<span>3002</span>
<span>3003</span>
<span>3004</span>
<span>3005</span>
<span>3006</span>
<span>3007</span>
<span>3008</span>
<span>3009</span>
<span>3010</span>
<span>3011</span>
<span>3012</span>
<span>3013</span>
<span>3014</span>
<span>3015</span>
<span>3016</span>
<span>3017</span>
<span>3018</span>
<span>3019</span>
<span>3020</span>
<span>3021</span>
<span>3022</span>
<span>3023</span>
<span>3024</span>
<span>3025</span>
<span>3026</span>
<span>3027</span>
<span>3028</span>
<span>3029</span>
<span>3030</span>
<span>3031</span>
<span>3032</span>
<span>3033</span>
<span>3034</span>
<span>3035</span>
<span>3036</span>
<span>3037</span>
<span>3038</span>
<span>3039</span>
<span>3040</span>
<span>3041</span>
<span>3042</span>
<span>3043</span>
<span>3044</span>
<span>3045</span>
<span>3046</span>
<span>3047</span>
<span>3048</span>
<span>3049</span>
<span>3050</span>
<span>3051</span>
<span>3052</span>
<span>3053</span>
<span>3054</span>
<span>3055</span>
<span>3056</span>
<span>3057</span>
<span>3058</span>
<span>3059</span>
<span>3060</span>
<span>3061</span>
<span>3062</span>
<span>3063</span>
<span>3064</span>
<span>3065</span>
<span>3066</span>
<span>3067</span>
<span>3068</span>
<span>3069</span>
<span>3070</span>
<span>3071</span>
<span>3072</span>
<span>3073</span>
<span>3074</span>
<span>3075</span>
<span>3076</span>
<span>3077</span>
<span>3078</span>
<span>3079</span>
<span>3080</span>
<span>3081</span>
<span>3082</span>
<span>3083</span>
<span>3084</span>
<span>3085</span>
<span>3086</span>
<span>3087</span>
<span>3088</span>
<span>3089</span>
<span>3090</span>
<span>3091</span>
<span>3092</span>
<span>3093</span>
<span>3094</span>
<span>3095</span>
<span>3096</span>
<span>3097</span>
<span>3098</span>
<span>3099</span>
<span>3100</span>
<span>3101</span>
<span>3102</span>
<span>3103</span>
<span>3104</span>
<span>3105</span>
<span>3106</span>
<span>3107</span>
<span>3108</span>
<span>3109</span>
<span>3110</span>
<span>3111</span>
<span>3112</span>
<span>3113</span>
<span>3114</span>
<span>3115</span>
<span>3116</span>
<span>3117</span>
<span>3118</span>
<span>3119</span>
<span>3120</span>
<span>3121</span>
<span>3122</span>
<span>3123</span>
<span>3124</span>
<span>3125</span>
<span>3126</span>
<span>3127</span>
<span>3128</span>
<span>3129</span>
<span>3130</span>
<span>3131</span>
<span>3132</span>
<span>3133</span>
<span>3134</span>
<span>3135</span>
<span>3136</span>
<span>3137</span>
<span>3138</span>
<span>3139</span>
<span>3140</span>
<span>3141</span>
<span>3142</span>
<span>3143</span>
<span>3144</span>
<span>3145</span>
<span>3146</span>
<span>3147</span>
<span>3148</span>
<span>3149</span>
<span>3150</span>
<span>3151</span>
<span>3152</span>
<span>3153</span>
<span>3154</span>
<span>3155</span>
<span>3156</span>
<span>3157</span>
<span>3158</span>
<span>3159</span>
<span>3160</span>
<span>3161</span>
<span>3162</span>
<span>3163</span>
<span>3164</span>
<span>3165</span>
<span>3166</span>
<span>3167</span>
<span>3168</span>
<span>3169</span>
<span>3170</span>
<span>3171</span>
<span>3172</span>
<span>3173</span>
<span>3174</span>
<span>3175</span>
<span>3176</span>
<span>3177</span>
<span>3178</span>
<span>3179</span>
<span>3180</span>
<span>3181</span>
<span>3182</span>
<span>3183</span>
<span>3184</span>
<span>3185</span>
<span>3186</span>
<span>3187</span>
<span>3188</span>
<span>3189</span>
<span>3190</span>
<span>3191</span>
<span>3192</span>
<span>3193</span>
<span>3194</span>
<span>3195</span>
<span>3196</span>
<span>3197</span>
<span>3198</span>
<span>3199</span>
<span>3200</span>
<span>3201</span>
<span>3202</span>
<span>3203</span>
<span>3204</span>
<span>3205</span>
<span>3206</span>
<span>3207</span>
<span>3208</span>
<span>3209</span>
<span>3210</span>
<span>3211</span>
<span>3212</span>
<span>3213</span>
<span>3214</span>
<span>3215</span>
<span>3216</span>
<span>3217</span>
<span>3218</span>
<span>3219</span>
<span>3220</span>
<span>3221</span>
<span>3222</span>
<span>3223</span>
<span>3224</span>
<span>3225</span>
<span>3226</span>
<span>3227</span>
<span>3228</span>
<span>3229</span>
<span>3230</span>
<span>3231</span>
<span>3232</span>
<span>3233</span>
<span>3234</span>
<span>3235</span>
<span>3236</span>
<span>3237</span>
<span>3238</span>
<span>3239</span>
<span>3240</span>
<span>3241</span>
<span>3242</span>
<span>3243</span>
<span>3244</span>
<span>3245</span>
<span>3246</span>
<span>3247</span>
<span>3248</span>
<span>3249</span>
<span>3250</span>
<span>3251</span>
<span>3252</span>
<span>3253</span>
<span>3254</span>
<span>3255</span>
<span>3256</span>
<span>3257</span>
<span>3258</span>
<span>3259</span>
<span>3260</span>
<span>3261</span>
<span>3262</span>
<span>3263</span>
<span>3264</span>
<span>3265</span>
<span>3266</span>
<span>3267</span>
<span>3268</span>
<span>3269</span>
<span>3270</span>
<span>3271</span>
<span>3272</span>
<span>3273</span>
<span>3274</span>
<span>3275</span>
<span>3276</span>
<span>3277</span>
<span>3278</span>
<span>3279</span>
<span>3280</span>
<span>3281</span>
<span>3282</span>
<span>3283</span>
<span>3284</span>
<span>3285</span>
<span>3286</span>
<span>3287</span>
<span>3288</span>
<span>3289</span>
<span>3290</span>
<span>3291</span>
<span>3292</span>
<span>3293</span>
<span>3294</span>
<span>3295</span>
<span>3296</span>
<span>3297</span>
<span>3298</span>
<span>3299</span>
<span>3300</span>
<span>3301</span>
<span>3302</span>
<span>3303</span>
<span>3304</span>
<span>3305</span>
<span>3306</span>
<span>3307</span>
<span>3308</span>
<span>3309</span>
<span>3310</span>
<span>3311</span>
<span>3312</span>
<span>3313</span>
<span>3314</span>
<span>3315</span>
<span>3316</span>
<span>3317</span>
<span>3318</span>
<span>3319</span>
<span>3320</span>
<span>3321</span>
<span>3322</span>
<span>3323</span>
<span>3324</span>
<span>3325</span>
<span>3326</span>
<span>3327</span>
<span>3328</span>
<span>3329</span>
<span>3330</span>
<span>3331</span>
<span>3332</span>
<span>3333</span>
<span>3334</span>
<span>3335</span>
<span>3336</span>
<span>3337</span>
<span>3338</span>
<span>3339</span>
<span>3340</span>
<span>3341</span>
<span>3342</span>
<span>3343</span>
<span>3344</span>
<span>3345</span>
<span>3346</span>
<span>3347</span>
<span>3348</span>
<span>3349</span>
<span>3350</span>
<span>3351</span>
<span>3352</span>
<span>3353</span>
<span>3354</span>
<span>3355</span>
<span>3356</span>
<span>3357</span>
<span>3358</span>
<span>3359</span>
<span>3360</span>
<span>3361</span>
<span>3362</span>
<span>3363</span>
<span>3364</span>
<span>3365</span>
<span>3366</span>
<span>3367</span>
<span>3368</span>
<span>3369</span>
<span>3370</span>
<span>3371</span>
<span>3372</span>
<span>3373</span>
<span>3374</span>
<span>3375</span>
<span>3376</span>
<span>3377</span>
<span>3378</span>
<span>3379</span>
<span>3380</span>
<span>3381</span>
<span>3382</span>
<span>3383</span>
<span>3384</span>
<span>3385</span>
<span>3386</span>
<span>3387</span>
<span>3388</span>
<span>3389</span>
<span>3390</span>
<span>3391</span>
<span>3392</span>
<span>3393</span>
<span>3394</span>
<span>3395</span>
<span>3396</span>
<span>3397</span>
<span>3398</span>
<span>3399</span>
<span>3400</span>
<span>3401</span>
<span>3402</span>
<span>3403</span>
<span>3404</span>
<span>3405</span>
<span>3406</span>
<span>3407</span>
<span>3408</span>
<span>3409</span>
<span>3410</span>
<span>3411</span>
<span>3412</span>
<span>3413</span>
<span>3414</span>
<span>3415</span>
<span>3416</span>
<span>3417</span>
<span>3418</span>
<span>3419</span>
<span>3420</span>
<span>3421</span>
<span>3422</span>
<span>3423</span>
<span>3424</span>
<span>3425</span>
<span>3426</span>
<span>3427</span>
<span>3428</span>
<span>3429</span>
<span>3430</span>
<span>3431</span>
<span>3432</span>
<span>3433</span>
<span>3434</span>
<span>3435</span>
<span>3436</span>
<span>3437</span>
<span>3438</span>
<span>3439</span>
<span>3440</span>
<span>3441</span>
<span>3442</span>
<span>3443</span>
<span>3444</span>
<span>3445</span>
<span>3446</span>
<span>3447</span>
<span>3448</span>
<span>3449</span>
<span>3450</span>
<span>3451</span>
<span>3452</span>
<span>3453</span>
<span>3454</span>
<span>3455</span>
<span>3456</span>
<span>3457</span>
<span>3458</span>
<span>3459</span>
<span>3460</span>
<span>3461</span>
<span>3462</span>
<span>3463</span>
<span>3464</span>
<span>3465</span>
<span>3466</span>
<span>3467</span>
<span>3468</span>
<span>3469</span>
<span>3470</span>
<span>3471</span>
<span>3472</span>
<span>3473</span>
<span>3474</span>
<span>3475</span>
<span>3476</span>
<span>3477</span>
<span>3478</span>
<span>3479</span>
<span>3480</span>
<span>3481</span>
<span>3482</span>
<span>3483</span>
<span>3484</span>
<span>3485</span>
<span>3486</span>
<span>3487</span>
<span>3488</span>
<span>3489</span>
<span>3490</span>
<span>3491</span>
<span>3492</span>
<span>3493</span>
<span>3494</span>
<span>3495</span>
<span>3496</span>
<span>3497</span>
<span>3498</span>
<span>3499</span>
<span>3500</span>
<span>3501</span>
<span>3502</span>
<span>3503</span>
<span>3504</span>
<span>3505</span>
<span>3506</span>
<span>3507</span>
<span>3508</span>
<span>3509</span>
<span>3510</span>
<span>3511</span>
<span>3512</span>
<span>3513</span>
<span>3514</span>
<span>3515</span>
<span>3516</span>
<span>3517</span>
<span>3518</span>
<span>3519</span>
<span>3520</span>
<span>3521</span>
<span>3522</span>
<span>3523</span>
<span>3524</span>
<span>3525</span>
<span>3526</span>
<span>3527</span>
<span>3528</span>
<span>3529</span>
<span>3530</span>
<span>3531</span>
<span>3532</span>
<span>3533</span>
<span>3534</span>
<span>3535</span>
<span>3536</span>
<span>3537</span>
<span>3538</span>
<span>3539</span>
<span>3540</span>
<span>3541</span>
<span>3542</span>
<span>3543</span>
<span>3544</span>
<span>3545</span>
<span>3546</span>
<span>3547</span>
<span>3548</span>
<span>3549</span>
<span>3550</span>
<span>3551</span>
<span>3552</span>
<span>3553</span>
<span>3554</span>
<span>3555</span>
<span>3556</span>
<span>3557</span>
<span>3558</span>
<span>3559</span>
<span>3560</span>
<span>3561</span>
<span>3562</span>
<span>3563</span>
<span>3564</span>
<span>3565</span>
<span>3566</span>
<span>3567</span>
<span>3568</span>
<span>3569</span>
<span>3570</span>
<span>3571</span>
<span>3572</span>
<span>3573</span>
<span>3574</span>
<span>3575</span>
<span>3576</span>
<span>3577</span>
<span>3578</span>
<span>3579</span>
<span>3580</span>
<span>3581</span>
<span>3582</span>
<span>3583</span>
<span>3584</span>
<span>3585</span>
<span>3586</span>
<span>3587</span>
<span>3588</span>
<span>3589</span>
<span>3590</span>
<span>3591</span>
<span>3592</span>
<span>3593</span>
<span>3594</span>
<span>3595</span>
<span>3596</span>
<span>3597</span>
<span>3598</span>
<span>3599</span>
<span>3600</span>
<span>3601</span>
<span>3602</span>
<span>3603</span>
<span>3604</span>
<span>3605</span>
<span>3606</span>
<span>3607</span>
<span>3608</span>
<span>3609</span>
<span>3610</span>
<span>3611</span>
<span>3612</span>
<span>3613</span>
<span>3614</span>
<span>3615</span>
<span>3616</span>
<span>3617</span>
<span>3618</span>
<span>3619</span>
<span>3620</span>
<span>3621</span>
<span>3622</span>
<span>3623</span>
<span>3624</span>
<span>3625</span>
<span>3626</span>
<span>3627</span>
<span>3628</span>
<span>3629</span>
<span>3630</span>
<span>3631</span>
<span>3632</span>
<span>3633</span>
<span>3634</span>
<span>3635</span>
<span>3636</span>
<span>3637</span>
<span>3638</span>
<span>3639</span>
<span>3640</span>
<span>3641</span>
<span>3642</span>
<span>3643</span>
<span>3644</span>
<span>3645</span>
<span>3646</span>
<span>3647</span>
<span>3648</span>
<span>3649</span>
<span>3650</span>
<span>3651</span>
<span>3652</span>
<span>3653</span>
<span>3654</span>
<span>3655</span>
<span>3656</span>
<span>3657</span>
<span>3658</span>
<span>3659</span>
<span>3660</span>
<span>3661</span>
<span>3662</span>
<span>3663</span>
<span>3664</span>
<span>3665</span>
<span>3666</span>
<span>3667</span>
<span>3668</span>
<span>3669</span>
<span>3670</span>
<span>3671</span>
<span>3672</span>
<span>3673</span>
<span>3674</span>
<span>3675</span>
<span>3676</span>
<span>3677</span>
<span>3678</span>
<span>3679</span>
<span>3680</span>
<span>3681</span>
<span>3682</span>
<span>3683</span>
<span>3684</span>
<span>3685</span>
<span>3686</span>
<span>3687</span>
<span>3688</span>
<span>3689</span>
<span>3690</span>
<span>3691</span>
<span>3692</span>
<span>3693</span>
<span>3694</span>
<span>3695</span>
<span>3696</span>
<span>3697</span>
<span>3698</span>
<span>3699</span>
<span>3700</span>
<span>3701</span>
<span>3702</span>
<span>3703</span>
<span>3704</span>
<span>3705</span>
<span>3706</span>
<span>3707</span>
<span>3708</span>
<span>3709</span>
<span>3710</span>
<span>3711</span>
<span>3712</span>
<span>3713</span>
<span>3714</span>
<span>3715</span>
<span>3716</span>
<span>3717</span>
<span>3718</span>
<span>3719</span>
<span>3720</span>
<span>3721</span>
<span>3722</span>
<span>3723</span>
<span>3724</span>
<span>3725</span>
<span>3726</span>
<span>3727</span>
<span>3728</span>
<span>3729</span>
<span>3730</span>
<span>3731</span>
<span>3732</span>
<span>3733</span>
<span>3734</span>
<span>3735</span>
<span>3736</span>
<span>3737</span>
<span>3738</span>
<span>3739</span>
<span>3740</span>
<span>3741</span>
<span>3742</span>
<span>3743</span>
<span>3744</span>
<span>3745</span>
<span>3746</span>
<span>3747</span>
<span>3748</span>
<span>3749</span>
<span>3750</span>
<span>3751</span>
<span>3752</span>
<span>3753</span>
<span>3754</span>
<span>3755</span>
<span>3756</span>
<span>3757</span>
<span>3758</span>
<span>3759</span>
<span>3760</span>
<span>3761</span>
<span>3762</span>
<span>3763</span>
<span>3764</span>
<span>3765</span>
<span>3766</span>
<span>3767</span>
<span>3768</span>
<span>3769</span>
<span>3770</span>
<span>3771</span>
<span>3772</span>
<span>3773</span>
<span>3774</span>
<span>3775</span>
<span>3776</span>
<span>3777</span>
<span>3778</span>
<span>3779</span>
<span>3780</span>
<span>3781</span>
<span>3782</span>
<span>3783</span>
<span>3784</span>
<span>3785</span>
<span>3786</span>
<span>3787</span>
<span>3788</span>
<span>3789</span>
<span>3790</span>
<span>3791</span>
<span>3792</span>
<span>3793</span>
<span>3794</span>
<span>3795</span>
<span>3796</span>
<span>3797</span>
<span>3798</span>
<span>3799</span>
<span>3800</span>
<span>3801</span>
<span>3802</span>
<span>3803</span>
<span>3804</span>
<span>3805</span>
<span>3806</span>
<span>3807</span>
<span>3808</span>
<span>3809</span>
<span>3810</span>
<span>3811</span>
<span>3812</span>
<span>3813</span>
<span>3814</span>
<span>3815</span>
<span>3816</span>
<span>3817</span>
<span>3818</span>
<span>3819</span>
<span>3820</span>
<span>3821</span>
<span>3822</span>
<span>3823</span>
<span>3824</span>
<span>3825</span>
<span>3826</span>
<span>3827</span>
<span>3828</span>
<span>3829</span>
<span>3830</span>
<span>3831</span>
<span>3832</span>
<span>3833</span>
<span>3834</span>
<span>3835</span>
<span>3836</span>
<span>3837</span>
<span>3838</span>
<span>3839</span>
<span>3840</span>
<span>3841</span>
<span>3842</span>
<span>3843</span>
<span>3844</span>
<span>3845</span>
<span>3846</span>
<span>3847</span>
<span>3848</span>
<span>3849</span>
<span>3850</span>
<span>3851</span>
<span>3852</span>
<span>3853</span>
<span>3854</span>
<span>3855</span>
<span>3856</span>
<span>3857</span>
<span>3858</span>
<span>3859</span>
<span>3860</span>
<span>3861</span>
<span>3862</span>
<span>3863</span>
<span>3864</span>
<span>3865</span>
<span>3866</span>
<span>3867</span>
<span>3868</span>
<span>3869</span>
<span>3870</span>
<span>3871</span>
<span>3872</span>
<span>3873</span>
<span>3874</span>
<span>3875</span>
<span>3876</span>
<span>3877</span>
<span>3878</span>
<span>3879</span>
<span>3880</span>
<span>3881</span>
<span>3882</span>
<span>3883</span>
<span>3884</span>
<span>3885</span>
<span>3886</span>
<span>3887</span>
<span>3888</span>
<span>3889</span>
<span>3890</span>
<span>3891</span>
<span>3892</span>
<span>3893</span>
<span>3894</span>
<span>3895</span>
<span>3896</span>
<span>3897</span>
<span>3898</span>
<span>3899</span>
<span>3900</span>
<span>3901</span>
<span>3902</span>
<span>3903</span>
<span>3904</span>
<span>3905</span>
<span>3906</span>
<span>3907</span>
<span>3908</span>
<span>3909</span>
<span>3910</span>
<span>3911</span>
<span>3912</span>
<span>3913</span>
<span>3914</span>
<span>3915</span>
<span>3916</span>
<span>3917</span>
<span>3918</span>
<span>3919</span>
<span>3920</span>
<span>3921</span>
<span>3922</span>
<span>3923</span>
<span>3924</span>
<span>3925</span>
<span>3926</span>
<span>3927</span>
<span>3928</span>
<span>3929</span>
<span>3930</span>
<span>3931</span>
<span>3932</span>
<span>3933</span>
<span>3934</span>
<span>3935</span>
<span>3936</span>
<span>3937</span>
<span>3938</span>
<span>3939</span>
<span>3940</span>
<span>3941</span>
<span>3942</span>
<span>3943</span>
<span>3944</span>
<span>3945</span>
<span>3946</span>
<span>3947</span>
<span>3948</span>
<span>3949</span>
<span>3950</span>
<span>3951</span>
<span>3952</span>
<span>3953</span>
<span>3954</span>
<span>3955</span>
<span>3956</span>
<span>3957</span>
<span>3958</span>
<span>3959</span>
<span>3960</span>
<span>3961</span>
<span>3962</span>
<span>3963</span>
<span>3964</span>
<span>3965</span>
<span>3966</span>
<span>3967</span>
<span>3968</span>
<span>3969</span>
<span>3970</span>
<span>3971</span>
<span>3972</span>
<span>3973</span>
<span>3974</span>
<span>3975</span>
<span>3976</span>
<span>3977</span>
<span>3978</span>
<span>3979</span>
<span>3980</span>
<span>3981</span>
<span>3982</span>
<span>3983</span>
<span>3984</span>
<span>3985</span>
<span>3986</span>
<span>3987</span>
<span>3988</span>
<span>3989</span>
<span>3990</span>
<span>3991</span>
<span>3992</span>
<span>3993</span>
<span>3994</span>
<span>3995</span>
<span>3996</span>
<span>3997</span>
<span>3998</span>
<span>3999</span>
<span>4000</span>
<span>4001</span>
<span>4002</span>
<span>4003</span>
<span>4004</span>
<span>4005</span>
<span>4006</span>
<span>4007</span>
<span>4008</span>
<span>4009</span>
<span>4010</span>
<span>4011</span>
<span>4012</span>
<span>4013</span>
<span>4014</span>
<span>4015</span>
<span>4016</span>
<span>4017</span>
<span>4018</span>
<span>4019</span>
<span>4020</span>
<span>4021</span>
<span>4022</span>
<span>4023</span>
<span>4024</span>
<span>4025</span>
<span>4026</span>
<span>4027</span>
<span>4028</span>
<span>4029</span>
<span>4030</span>
<span>4031</span>
<span>4032</span>
<span>4033</span>
<span>4034</span>
<span>4035</span>
<span>4036</span>
<span>4037</span>
<span>4038</span>
<span>4039</span>
<span>4040</span>
<span>4041</span>
<span>4042</span>
<span>4043</span>
<span>4044</span>
<span>4045</span>
<span>4046</span>
<span>4047</span>
<span>4048</span>
<span>4049</span>
<span>4050</span>
<span>4051</span>
<span>4052</span>
<span>4053</span>
<span>4054</span>
<span>4055</span>
<span>4056</span>
<span>4057</span>
<span>4058</span>
<span>4059</span>
<span>4060</span>
<span>4061</span>
<span>4062</span>
<span>4063</span>
<span>4064</span>
<span>4065</span>
<span>4066</span>
<span>4067</span>
<span>4068</span>
<span>4069</span>
<span>4070</span>
<span>4071</span>
<span>4072</span>
<span>4073</span>
<span>4074</span>
<span>4075</span>
<span>4076</span>
<span>4077</span>
<span>4078</span>
<span>4079</span>
<span>4080</span>
<span>4081</span>
<span>4082</span>
<span>4083</span>
<span>4084</span>
<span>4085</span>
<span>4086</span>
<span>4087</span>
<span>4088</span>
<span>4089</span>
<span>4090</span>
<span>4091</span>
<span>4092</span>
<span>4093</span>
<span>4094</span>
<span>4095</span>
<span>4096</span>
<span>4097</span>
<span>4098</span>
<span>4099</span>
<span>4100</span>
<span>4101</span>
<span>4102</span>
<span>4103</span>
<span>4104</span>
<span>4105</span>
<span>4106</span>
<span>4107</span>
<span>4108</span>
<span>4109</span>
<span>4110</span>
<span>4111</span>
<span>4112</span>
<span>4113</span>
<span>4114</span>
<span>4115</span>
<span>4116</span>
<span>4117</span>
<span>4118</span>
<span>4119</span>
<span>4120</span>
<span>4121</span>
<span>4122</span>
<span>4123</span>
<span>4124</span>
<span>4125</span>
<span>4126</span>
<span>4127</span>
<span>4128</span>
<span>4129</span>
<span>4130</span>
<span>4131</span>
<span>4132</span>
<span>4133</span>
<span>4134</span>
<span>4135</span>
<span>4136</span>
<span>4137</span>
<span>4138</span>
<span>4139</span>
<span>4140</span>
<span>4141</span>
<span>4142</span>
<span>4143</span>
<span>4144</span>
<span>4145</span>
<span>4146</span>
<span>4147</span>
<span>4148</span>
<span>4149</span>
<span>4150</span>
<span>4151</span>
<span>4152</span>
<span>4153</span>
<span>4154</span>
<span>4155</span>
<span>4156</span>
<span>4157</span>
<span>4158</span>
<span>4159</span>
<span>4160</span>
<span>4161</span>
<span>4162</span>
<span>4163</span>
<span>4164</span>
<span>4165</span>
<span>4166</span>
<span>4167</span>
<span>4168</span>
<span>4169</span>
<span>4170</span>
<span>4171</span>
<span>4172</span>
<span>4173</span>
<span>4174</span>
<span>4175</span>
<span>4176</span>
<span>4177</span>
<span>4178</span>
<span>4179</span>
<span>4180</span>
<span>4181</span>
<span>4182</span>
<span>4183</span>
<span>4184</span>
<span>4185</span>
<span>4186</span>
<span>4187</span>
<span>4188</span>
<span>4189</span>
<span>4190</span>
<span>4191</span>
<span>4192</span>
<span>4193</span>
<span>4194</span>
<span>4195</span>
<span>4196</span>
<span>4197</span>
<span>4198</span>
<span>4199</span>
<span>4200</span>
<span>4201</span>
<span>4202</span>
<span>4203</span>
<span>4204</span>
<span>4205</span>
<span>4206</span>
<span>4207</span>
<span>4208</span>
<span>4209</span>
<span>4210</span>
<span>4211</span>
<span>4212</span>
<span>4213</span>
<span>4214</span>
<span>4215</span>
<span>4216</span>
<span>4217</span>
<span>4218</span>
<span>4219</span>
<span>4220</span>
<span>4221</span>
<span>4222</span>
<span>4223</span>
<span>4224</span>
<span>4225</span>
<span>4226</span>
<span>4227</span>
<span>4228</span>
<span>4229</span>
<span>4230</span>
<span>4231</span>
<span>4232</span>
<span>4233</span>
<span>4234</span>
<span>4235</span>
<span>4236</span>
<span>4237</span>
<span>4238</span>
<span>4239</span>
<span>4240</span>
<span>4241</span>
<span>4242</span>
<span>4243</span>
<span>4244</span>
<span>4245</span>
<span>4246</span>
<span>4247</span>
<span>4248</span>
<span>4249</span>
<span>4250</span>
<span>4251</span>
<span>4252</span>
<span>4253</span>
<span>4254</span>
<span>4255</span>
<span>4256</span>
<span>4257</span>
<span>4258</span>
<span>4259</span>
<span>4260</span>
<span>4261</span>
<span>4262</span>
<span>4263</span>
<span>4264</span>
<span>4265</span>
<span>4266</span>
<span>4267</span>
<span>4268</span>
<span>4269</span>
<span>4270</span>
<span>4271</span>
<span>4272</span>
<span>4273</span>
<span>4274</span>
<span>4275</span>
<span>4276</span>
<span>4277</span>
<span>4278</span>
<span>4279</span>
<span>4280</span>
<span>4281</span>
<span>4282</span>
<span>4283</span>
<span>4284</span>
<span>4285</span>
<span>4286</span>
<span>4287</span>
<span>4288</span>
<span>4289</span>
<span>4290</span>
<span>4291</span>
<span>4292</span>
<span>4293</span>
<span>4294</span>
<span>4295</span>
<span>4296</span>
<span>4297</span>
<span>4298</span>
<span>4299</span>
<span>4300</span>
<span>4301</span>
<span>4302</span>
<span>4303</span>
<span>4304</span>
<span>4305</span>
<span>4306</span>
<span>4307</span>
<span>4308</span>
<span>4309</span>
<span>4310</span>
<span>4311</span>
<span>4312</span>
<span>4313</span>
<span>4314</span>
<span>4315</span>
<span>4316</span>
<span>4317</span>
<span>4318</span>
<span>4319</span>
<span>4320</span>
<span>4321</span>
<span>4322</span>
<span>4323</span>
<span>4324</span>
<span>4325</span>
<span>4326</span>
<span>4327</span>
<span>4328</span>
<span>4329</span>
<span>4330</span>
<span>4331</span>
<span>4332</span>
<span>4333</span>
<span>4334</span>
<span>4335</span>
<span>4336</span>
<span>4337</span>
<span>4338</span>
<span>4339</span>
<span>4340</span>
<span>4341</span>
<span>4342</span>
<span>4343</span>
<span>4344</span>
<span>4345</span>
<span>4346</span>
<span>4347</span>
<span>4348</span>
<span>4349</span>
<span>4350</span>
<span>4351</span>
<span>4352</span>
<span>4353</span>
<span>4354</span>
<span>4355</span>
<span>4356</span>
<span>4357</span>
<span>4358</span>
<span>4359</span>
<span>4360</span>
<span>4361</span>
<span>4362</span>
<span>4363</span>
<span>4364</span>
<span>4365</span>
<span>4366</span>
<span>4367</span>
<span>4368</span>
<span>4369</span>
<span>4370</span>
<span>4371</span>
<span>4372</span>
<span>4373</span>
<span>4374</span>
<span>4375</span>
<span>4376</span>
<span>4377</span>
<span>4378</span>
<span>4379</span>
<span>4380</span>
<span>4381</span>
<span>4382</span>
<span>4383</span>
<span>4384</span>
<span>4385</span>
<span>4386</span>
<span>4387</span>
<span>4388</span>
<span>4389</span>
<span>4390</span>
<span>4391</span>
<span>4392</span>
<span>4393</span>
<span>4394</span>
<span>4395</span>
<span>4396</span>
<span>4397</span>
<span>4398</span>
<span>4399</span>
<span>4400</span>
<span>4401</span>
<span>4402</span>
<span>4403</span>
<span>4404</span>
<span>4405</span>
<span>4406</span>
<span>4407</span>
<span>4408</span>
<span>4409</span>
<span>4410</span>
<span>4411</span>
<span>4412</span>
<span>4413</span>
<span>4414</span>
<span>4415</span>
<span>4416</span>
<span>4417</span>
<span>4418</span>
<span>4419</span>
<span>4420</span>
<span>4421</span>
<span>4422</span>
<span>4423</span>
<span>4424</span>
<span>4425</span>
<span>4426</span>
<span>4427</span>
<span>4428</span>
<span>4429</span>
<span>4430</span>
<span>4431</span>
<span>4432</span>
<span>4433</span>
<span>4434</span>
<span>4435</span>
<span>4436</span>
<span>4437</span>
<span>4438</span>
<span>4439</span>
<span>4440</span>
<span>4441</span>
<span>4442</span>
<span>4443</span>
<span>4444</span>
<span>4445</span>
<span>4446</span>
<span>4447</span>
<span>4448</span>
<span>4449</span>
<span>4450</span>
<span>4451</span>
<span>4452</span>
<span>4453</span>
<span>4454</span>
<span>4455</span>
<span>4456</span>
<span>4457</span>
<span>4458</span>
<span>4459</span>
<span>4460</span>
<span>4461</span>
<span>4462</span>
<span>4463</span>
<span>4464</span>
<span>4465</span>
<span>4466</span>
<span>4467</span>
<span>4468</span>
<span>4469</span>
<span>4470</span>
<span>4471</span>
<span>4472</span>
<span>4473</span>
<span>4474</span>
<span>4475</span>
<span>4476</span>
<span>4477</span>
<span>4478</span>
<span>4479</span>
<span>4480</span>
<span>4481</span>
<span>4482</span>
<span>4483</span>
<span>4484</span>
<span>4485</span>
<span>4486</span>
<span>4487</span>
<span>4488</span>
<span>4489</span>
<span>4490</span>
<span>4491</span>
<span>4492</span>
<span>4493</span>
<span>4494</span>
<span>4495</span>
<span>4496</span>
<span>4497</span>
<span>4498</span>
<span>4499</span>
<span>4500</span>
<span>4501</span>
<span>4502</span>
<span>4503</span>
<span>4504</span>
<span>4505</span>
<span>4506</span>
<span>4507</span>
<span>4508</span>
<span>4509</span>
<span>4510</span>
<span>4511</span>
<span>4512</span>
<span>4513</span>
<span>4514</span>
<span>4515</span>
<span>4516</span>
<span>4517</span>
<span>4518</span>
<span>4519</span>
<span>4520</span>
<span>4521</span>
<span>4522</span>
<span>4523</span>
<span>4524</span>
<span>4525</span>
<span>4526</span>
<span>4527</span>
<span>4528</span>
<span>4529</span>
<span>4530</span>
<span>4531</span>
<span>4532</span>
<span>4533</span>
<span>4534</span>
<span>4535</span>
<span>4536</span>
<span>4537</span>
<span>4538</span>
<span>4539</span>
<span>4540</span>
<span>4541</span>
<span>4542</span>
<span>4543</span>
<span>4544</span>
<span>4545</span>
<span>4546</span>
<span>4547</span>
<span>4548</span>
<span>4549</span>
<span>4550</span>
<span>4551</span>
<span>4552</span>
<span>4553</span>
<span>4554</span>
<span>4555</span>
<span>4556</span>
<span>4557</span>
<span>4558</span>
<span>4559</span>
<span>4560</span>
<span>4561</span>
<span>4562</span>
<span>4563</span>
<span>4564</span>
<span>4565</span>
<span>4566</span>
<span>4567</span>
<span>4568</span>
<span>4569</span>
<span>4570</span>
<span>4571</span>
<span>4572</span>
<span>4573</span>
<span>4574</span>
<span>4575</span>
<span>4576</span>
<span>4577</span>
<span>4578</span>
<span>4579</span>
<span>4580</span>
<span>4581</span>
<span>4582</span>
<span>4583</span>
<span>4584</span>
<span>4585</span>
<span>4586</span>
<span>4587</span>
<span>4588</span>
<span>4589</span>
<span>4590</span>
<span>4591</span>
<span>4592</span>
<span>4593</span>
<span>4594</span>
<span>4595</span>
<span>4596</span>
<span>4597</span>
<span>4598</span>
<span>4599</span>
<span>4600</span>
<span>4601</span>
<span>4602</span>
<span>4603</span>
<span>4604</span>
<span>4605</span>
<span>4606</span>
<span>4607</span>
<span>4608</span>
<span>4609</span>
<span>4610</span>
<span>4611</span>
<span>4612</span>
<span>4613</span>
<span>4614</span>
<span>4615</span>
<span>4616</span>
<span>4617</span>
<span>4618</span>
<span>4619</span>
<span>4620</span>
<span>4621</span>
<span>4622</span>
<span>4623</span>
<span>4624</span>
<span>4625</span>
<span>4626</span>
<span>4627</span>
<span>4628</span>
<span>4629</span>
<span>4630</span>
<span>4631</span>
<span>4632</span>
<span>4633</span>
<span>4634</span>
<span>4635</span>
<span>4636</span>
<span>4637</span>
<span>4638</span>
<span>4639</span>
<span>4640</span>
<span>4641</span>
<span>4642</span>
<span>4643</span>
<span>4644</span>
<span>4645</span>
<span>4646</span>
<span>4647</span>
<span>4648</span>
<span>4649</span>
<span>4650</span>
<span>4651</span>
<span>4652</span>
<span>4653</span>
<span>4654</span>
<span>4655</span>
<span>4656</span>
<span>4657</span>
<span>4658</span>
<span>4659</span>
<span>4660</span>
<span>4661</span>
<span>4662</span>
<span>4663</span>
<span>4664</span>
<span>4665</span>
<span>4666</span>
<span>4667</span>
<span>4668</span>
<span>4669</span>
<span>4670</span>
<span>4671</span>
<span>4672</span>
<span>4673</span>
<span>4674</span>
<span>4675</span>
<span>4676</span>
<span>4677</span>
<span>4678</span>
<span>4679</span>
<span>4680</span>
<span>4681</span>
<span>4682</span>
<span>4683</span>
<span>4684</span>
<span>4685</span>
<span>4686</span>
<span>4687</span>
<span>4688</span>
<span>4689</span>
<span>4690</span>
<span>4691</span>
<span>4692</span>
<span>4693</span>
<span>4694</span>
<span>4695</span>
<span>4696</span>
<span>4697</span>
<span>4698</span>
<span>4699</span>
<span>4700</span>
<span>4701</span>
<span>4702</span>
<span>4703</span>
<span>4704</span>
<span>4705</span>
<span>4706</span>
<span>4707</span>
<span>4708</span>
<span>4709</span>
<span>4710</span>
<span>4711</span>
<span>4712</span>
<span>4713</span>
<span>4714</span>
<span>4715</span>
<span>4716</span>
<span>4717</span>
<span>4718</span>
<span>4719</span>
<span>4720</span>
<span>4721</span>
<span>4722</span>
<span>4723</span>
<span>4724</span>
<span>4725</span>
<span>4726</span>
<span>4727</span>
<span>4728</span>
<span>4729</span>
<span>4730</span>
<span>4731</span>
<span>4732</span>
<span>4733</span>
<span>4734</span>
<span>4735</span>
<span>4736</span>
<span>4737</span>
<span>4738</span>
<span>4739</span>
<span>4740</span>
<span>4741</span>
<span>4742</span>
<span>4743</span>
<span>4744</span>
<span>4745</span>
<span>4746</span>
<span>4747</span>
<span>4748</span>
<span>4749</span>
<span>4750</span>
<span>4751</span>
<span>4752</span>
<span>4753</span>
<span>4754</span>
<span>4755</span>
<span>4756</span>
<span>4757</span>
<span>4758</span>
<span>4759</span>
<span>4760</span>
<span>4761</span>
<span>4762</span>
<span>4763</span>
<span>4764</span>
<span>4765</span>
<span>4766</span>
<span>4767</span>
<span>4768</span>
<span>4769</span>
<span>4770</span>
<span>4771</span>
<span>4772</span>
<span>4773</span>
<span>4774</span>
<span>4775</span>
<span>4776</span>
<span>4777</span>
<span>4778</span>
<span>4779</span>
<span>4780</span>
<span>4781</span>
<span>4782</span>
<span>4783</span>
<span>4784</span>
<span>4785</span>
<span>4786</span>
<span>4787</span>
<span>4788</span>
<span>4789</span>
<span>4790</span>
<span>4791</span>
<span>4792</span>
<span>4793</span>
<span>4794</span>
<span>4795</span>
<span>4796</span>
<span>4797</span>
<span>4798</span>
<span>4799</span>
<span>4800</span>
<span>4801</span>
<span>4802</span>
<span>4803</span>
<span>4804</span>
<span>4805</span>
<span>4806</span>
<span>4807</span>
<span>4808</span>
<span>4809</span>
<span>4810</span>
<span>4811</span>
<span>4812</span>
<span>4813</span>
</pre></td><td id='code'><pre><span class='com'>/**
 * Contains classes that provide information about locales, such as the language and calendars, 
 * as well as cultural conventions used for formatting dates, currency and numbers. Use these classes when writing
 * applications for an international audience.
 *
 * $(MEMBERTABLE
 * $(TR
 * $(TH Interface)
 * $(TH Description)
 * )
 * $(TR
 * $(TD $(LINK2 #IFormatService, IFormatService))
 * $(TD Retrieves an object to control formatting.)
 * )
 * )
 *
 * $(MEMBERTABLE
 * $(TR
 * $(TH Class)
 * $(TH Description)
 * )
 * $(TR
 * $(TD $(LINK2 #Calendar, Calendar))
 * $(TD Represents time in week, month and year divisions.)
 * )
 * $(TR
 * $(TD $(LINK2 #Culture, Culture))
 * $(TD Provides information about a culture, such as its name, calendar and date and number format patterns.)
 * )
 * $(TR
 * $(TD $(LINK2 #DateTimeFormat, DateTimeFormat))
 * $(TD Determines how $(LINK2 #DateTime, DateTime) values are formatted, depending on the culture.)
 * )
 * $(TR
 * $(TD $(LINK2 #DaylightSavingTime, DaylightSavingTime))
 * $(TD Represents a period of daylight-saving time.)
 * )
 * $(TR
 * $(TD $(LINK2 #GregorianCalendar, GregorianCalendar))
 * $(TD Represents the Gregorian calendar.)
 * )
 * $(TR
 * $(TD $(LINK2 #HebrewCalendar, HebrewCalendar))
 * $(TD Represents the Hebrew calendar.)
 * )
 * $(TR
 * $(TD $(LINK2 #HijriCalendar, HijriCalendar))
 * $(TD Represents the Hijri calendar.)
 * )
 * $(TR
 * $(TD $(LINK2 #JapaneseCalendar, JapaneseCalendar))
 * $(TD Represents the Japanese calendar.)
 * )
 * $(TR
 * $(TD $(LINK2 #KoreanCalendar, KoreanCalendar))
 * $(TD Represents the Korean calendar.)
 * )
 * $(TR
 * $(TD $(LINK2 #NumberFormat, NumberFormat))
 * $(TD Determines how numbers are formatted, according to the current culture.)
 * )
 * $(TR
 * $(TD $(LINK2 #Region, Region))
 * $(TD Provides information about a region.)
 * )
 * $(TR
 * $(TD $(LINK2 #TaiwanCalendar, TaiwanCalendar))
 * $(TD Represents the Taiwan calendar.)
 * )
 * $(TR
 * $(TD $(LINK2 #ThaiBuddhistCalendar, ThaiBuddhistCalendar))
 * $(TD Represents the Thai Buddhist calendar.)
 * )
 * )
 *
 * $(MEMBERTABLE
 * $(TR
 * $(TH Struct)
 * $(TH Description)
 * )
 * $(TR
 * $(TD $(LINK2 #DateTime, DateTime))
 * $(TD Represents time expressed as a date and time of day.)
 * )
 * $(TR
 * $(TD $(LINK2 #TimeSpan, TimeSpan))
 * $(TD Represents a time interval.)
 * )
 * )
 */</span>
<span class='kw2'>module</span> tango.locale.core;

<span class='kw4'>private</span> <span class='kw2'>import</span> tango.locale.constants,
  tango.locale.data,
  tango.locale.format,
  tango.locale.parse;

<span class='kw4'>version</span> <span class='opr'>(</span>Windows<span class='opr'>)</span>
  <span class='kw4'>private</span> <span class='kw2'>import</span> tango.locale.win32;
<span class='kw1'>else</span> <span class='kw4'>version</span> <span class='opr'>(</span>linux<span class='opr'>)</span>
  <span class='kw4'>private</span> <span class='kw2'>import</span> tango.locale.linux;

<span class='com'>// Used by cloneObject.</span>
<span class='kw2'>extern</span> <span class='opr'>(</span>C<span class='opr'>)</span> 
<span class='kw4'>private</span> <span class='kw3'>Object</span> <span class='kw3'>_d_newclass</span><span class='opr'>(</span><span class='kw3'>ClassInfo</span> info<span class='opr'>)</span>;

<span class='com'>// Creates a shallow copy of an object.</span>
<span class='kw4'>private</span> <span class='kw3'>Object</span> cloneObject<span class='opr'>(</span><span class='kw3'>Object</span> obj<span class='opr'>)</span> <span class='opr'>{</span>
  <span class='kw1'>if</span> <span class='opr'>(</span>obj <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
    <span class='kw1'>return</span> <span class='kw2'>null</span>;

  <span class='kw3'>ClassInfo</span> ci <span class='opr'>=</span> obj.classinfo;
  <span class='kw4'>size_t</span> start <span class='opr'>=</span> <span class='kw3'>Object</span>.classinfo.init.length;
  <span class='kw4'>size_t</span> end <span class='opr'>=</span> ci.init.length;

  <span class='kw3'>Object</span> clone <span class='opr'>=</span> <span class='kw3'>_d_newclass</span><span class='opr'>(</span>ci<span class='opr'>)</span>;
  <span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>void</span><span class='opr'>*</span><span class='opr'>)</span>clone<span class='opr'>)</span><span class='opr'>[</span>start <span class='opr'>..</span> end<span class='opr'>]</span> <span class='opr'>=</span> <span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>void</span><span class='opr'>*</span><span class='opr'>)</span>obj<span class='opr'>)</span><span class='opr'>[</span>start <span class='opr'>..</span> end<span class='opr'>]</span>;
  <span class='kw1'>return</span> clone;
<span class='opr'>}</span>

<span class='com'>// Initializes an array.</span>
<span class='kw4'>template</span> arrayOf<span class='opr'>(</span>T<span class='opr'>)</span> <span class='opr'>{</span>
  <span class='kw4'>private</span> T<span class='opr'>[</span><span class='opr'>]</span> arrayOf<span class='opr'>(</span>T<span class='opr'>[</span><span class='opr'>]</span> params <span class='opr'>..</span>.<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> params.dup;
  <span class='opr'>}</span>
<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _IFormatService)
 * Retrieves an object to control formatting.
 * 
 * A class implements $(LINK2 #IFormatService_getFormat, getFormat) to retrieve an object that provides format information for the implementing type.
 * Remarks: IFormatService is implemented by $(LINK2 #Culture, Culture), $(LINK2 #NumberFormat, NumberFormat) and $(LINK2 #DateTimeFormat, DateTimeFormat) to provide locale-specific formatting of
 * numbers and date and time values.
 */</span>
<span class='kw4'>public</span> <span class='kw2'>interface</span> IFormatService <span class='opr'>{</span>

  <span class='com'>/**
   * $(ANCHOR IFormatService_getFormat)
   * Retrieves an object that supports formatting for the specified _type.
   * Returns: The current instance if type is the same _type as the current instance; otherwise, null.
   * Params: type = An object that specifies the _type of formatting to retrieve.
   */</span>
  <span class='kw3'>Object</span> getFormat<span class='opr'>(</span><span class='kw3'>TypeInfo</span> type<span class='opr'>)</span>;

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _Culture)
 * Provides information about a culture, such as its name, calendar and date and number format patterns.
 * Remarks: tango.locale adopts the RFC 1766 standard for culture names in the format &amp;lt;language&amp;gt;&quot;-&quot;&amp;lt;region&amp;gt;. 
 * &amp;lt;language&amp;gt; is a lower-case two-letter code defined by ISO 639-1. &amp;lt;region&amp;gt; is an upper-case 
 * two-letter code defined by ISO 3166. For example, &quot;en-GB&quot; is UK English.
 * $(BR)$(BR)There are three types of culture: invariant, neutral and specific. The invariant culture is not tied to
 * any specific region, although it is associated with the English language. A neutral culture is associated with
 * a language, but not with a region. A specific culture is associated with a language and a region. &quot;es&quot; is a neutral 
 * culture. &quot;es-MX&quot; is a specific culture.
 * $(BR)$(BR)Instances of $(LINK2 #DateTimeFormat, DateTimeFormat) and $(LINK2 #NumberFormat, NumberFormat) cannot be created for neutral cultures.
 * Examples:
 * ---
 * import tango.io.Print, tango.locale.all;
 *
 * void main() {
 *   Culture culture = new Culture(&quot;it-IT&quot;);
 *
 *   Println(&quot;englishName: %s&quot;, culture.englishName);
 *   Println(&quot;nativeName: %s&quot;, culture.nativeName);
 *   Println(&quot;name: %s&quot;, culture.name);
 *   Println(&quot;parent: %s&quot;, culture.parent.name);
 *   Println(&quot;isNeutral: %s&quot;, culture.isNeutral);
 * }
 *
 * // Produces the following output:
 * // englishName: Italian (Italy)
 * // nativeName: italiano (Italia)
 * // name: it-IT
 * // parent: it
 * // isNeutral: false
 * ---
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> Culture : IFormatService <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> LCID_INVARIANT <span class='opr'>=</span> <span class='nbr'>0</span>x007F;

  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture<span class='opr'>[</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>]</span> namedCultures;
  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture<span class='opr'>[</span><span class='kw4'>int</span><span class='opr'>]</span> idCultures;
  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture<span class='opr'>[</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>]</span> ietfCultures;

  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture currentCulture_;
  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture userDefaultCulture_; <span class='com'>// The user's default culture (GetUserDefaultLCID).</span>
  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture invariantCulture_; <span class='com'>// The invariant culture is associated with the English language.</span>
  <span class='kw4'>private</span> Calendar calendar_;
  <span class='kw4'>private</span> Culture parent_;
  <span class='kw4'>private</span> CultureData<span class='opr'>*</span> cultureData_;
  <span class='kw4'>private</span> <span class='kw4'>bool</span> isReadOnly_;
  <span class='kw4'>private</span> NumberFormat numberFormat_;
  <span class='kw4'>private</span> DateTimeFormat dateTimeFormat_;

  <span class='kw4'>static</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    invariantCulture_ <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>LCID_INVARIANT<span class='opr'>)</span>;
    invariantCulture_.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;

    userDefaultCulture_ <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>nativeMethods.getUserCulture<span class='opr'>(</span><span class='opr'>)</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>userDefaultCulture_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='com'>// Fallback</span>
      userDefaultCulture_ <span class='opr'>=</span> invariantCulture;
    <span class='kw1'>else</span>
      userDefaultCulture_.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;
  <span class='opr'>}</span>

  <span class='kw4'>static</span> <span class='opr'>~</span><span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    namedCultures <span class='opr'>=</span> <span class='kw2'>null</span>;
    idCultures <span class='opr'>=</span> <span class='kw2'>null</span>;
    ietfCultures <span class='opr'>=</span> <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Initializes a new Culture instance from the supplied name.
   * Params: cultureName = The name of the Culture.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> cultureName<span class='opr'>)</span> <span class='opr'>{</span>
    cultureData_ <span class='opr'>=</span> CultureData.getDataFromCultureName<span class='opr'>(</span>cultureName<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Initializes a new Culture instance from the supplied culture identifier.
   * Params: cultureID = The identifer (LCID) of the Culture.
   * Remarks: Culture identifiers correspond to a Windows LCID.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='kw4'>int</span> cultureID<span class='opr'>)</span> <span class='opr'>{</span>
    cultureData_ <span class='opr'>=</span> CultureData.getDataFromCultureID<span class='opr'>(</span>cultureID<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Retrieves an object defining how to format the specified type.
   * Params: type = The TypeInfo of the resulting formatting object.
   * Returns: If type is typeid($(LINK2 #NumberFormat, NumberFormat)), the value of the $(LINK2 #Culture_numberFormat, numberFormat) property. If type is typeid($(LINK2 #DateTimeFormat, DateTimeFormat)), the
   * value of the $(LINK2 #Culture_dateTimeFormat, dateTimeFormat) property. Otherwise, null.
   * Remarks: Implements $(LINK2 #IFormatService_getFormat, IFormatService.getFormat).
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> getFormat<span class='opr'>(</span><span class='kw3'>TypeInfo</span> type<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>type <span class='kw2'>is</span> <span class='kw2'>typeid</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span><span class='opr'>)</span>
      <span class='kw1'>return</span> numberFormat;
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>type <span class='kw2'>is</span> <span class='kw2'>typeid</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span><span class='opr'>)</span>
      <span class='kw1'>return</span> dateTimeFormat;
    <span class='kw1'>return</span> <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Copies the current Culture instance.
   * Returns: A copy of the current Culture instance.
   * Remarks: The values of the $(LINK2 #Culture_numberFormat, numberFormat), $(LINK2 #Culture_dateTimeFormat, dateTimeFormat) and $(LINK2 #Culture_calendar, calendar) properties are copied also.
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> clone<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    Culture culture <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Culture<span class='opr'>)</span>cloneObject<span class='opr'>(</span><span class='kw2'>this</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>!culture.isNeutral<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>dateTimeFormat_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
        culture.dateTimeFormat_ <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span>dateTimeFormat_.clone<span class='opr'>(</span><span class='opr'>)</span>;
      <span class='kw1'>if</span> <span class='opr'>(</span>numberFormat_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
        culture.numberFormat_ <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span>numberFormat_.clone<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>calendar_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      culture.calendar_ <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Calendar<span class='opr'>)</span>calendar_.clone<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> culture;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a read-only instance of a culture using the specified culture identifier.
   * Params: cultureID = The identifier of the culture.
   * Returns: A read-only culture instance.
   * Remarks: Instances returned by this method are cached.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Culture getCulture<span class='opr'>(</span><span class='kw4'>int</span> cultureID<span class='opr'>)</span> <span class='opr'>{</span>
    Culture culture <span class='opr'>=</span> getCultureInternal<span class='opr'>(</span>cultureID, <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>culture <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Culture is not supported.&quot;</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> culture;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a read-only instance of a culture using the specified culture name.
   * Params: cultureName = The name of the culture.
   * Returns: A read-only culture instance.
   * Remarks: Instances returned by this method are cached.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Culture getCulture<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> cultureName<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>cultureName <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value cannot be null.&quot;</span><span class='opr'>)</span>;
    Culture culture <span class='opr'>=</span> getCultureInternal<span class='opr'>(</span><span class='nbr'>0</span>, cultureName<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>culture <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Culture name &quot;</span> <span class='opr'>~</span> cultureName <span class='opr'>~</span> <span class='str'>&quot; is not supported.&quot;</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> culture;
  <span class='opr'>}</span>

  <span class='com'>/**
    * Returns a read-only instance using the specified name, as defined by the RFC 3066 standard and maintained by the IETF.
    * Params: name = The name of the language.
    * Returns: A read-only culture instance.
    */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Culture getCultureFromIetfLanguageTag<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> name<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>name <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value cannot be null.&quot;</span><span class='opr'>)</span>;
    Culture culture <span class='opr'>=</span> getCultureInternal<span class='opr'>(</span><span class='opr'>-</span><span class='nbr'>1</span>, name<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>culture <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Culture IETF name &quot;</span> <span class='opr'>~</span> name <span class='opr'>~</span> <span class='str'>&quot; is not a known IETF name.&quot;</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> culture;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> Culture getCultureInternal<span class='opr'>(</span><span class='kw4'>int</span> cultureID, <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> name<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='com'>// If cultureID is - 1, name is an IETF name; if it's 0, name is a culture name; otherwise, it's a valid LCID.</span>

    <span class='com'>// Look up tables first.</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>cultureID <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>Culture<span class='opr'>*</span> culture <span class='opr'>=</span> name <span class='kw2'>in</span> namedCultures<span class='opr'>)</span>
        <span class='kw1'>return</span> <span class='opr'>*</span>culture;
    <span class='opr'>}</span>
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>cultureID <span class='opr'>&gt;</span> <span class='nbr'>0</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>Culture<span class='opr'>*</span> culture <span class='opr'>=</span> cultureID <span class='kw2'>in</span> idCultures<span class='opr'>)</span>
        <span class='kw1'>return</span> <span class='opr'>*</span>culture;
    <span class='opr'>}</span>
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>cultureID <span class='opr'>=</span><span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>Culture<span class='opr'>*</span> culture <span class='opr'>=</span> name <span class='kw2'>in</span> ietfCultures<span class='opr'>)</span>
        <span class='kw1'>return</span> <span class='opr'>*</span>culture;
    <span class='opr'>}</span>

    <span class='com'>// Nothing found, create a new instance.</span>
    Culture culture;

    <span class='kw2'>try</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>cultureID <span class='opr'>=</span><span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>{</span>
        name <span class='opr'>=</span> CultureData.getCultureNameFromIetfName<span class='opr'>(</span>name<span class='opr'>)</span>;
        <span class='kw1'>if</span> <span class='opr'>(</span>name <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
          <span class='kw1'>return</span> <span class='kw2'>null</span>;
      <span class='opr'>}</span>
      <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>cultureID <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span>
        culture <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>name<span class='opr'>)</span>;
      <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>userDefaultCulture_ !<span class='kw2'>is</span> <span class='kw2'>null</span> &amp;&amp; userDefaultCulture_.id <span class='opr'>=</span><span class='opr'>=</span> cultureID<span class='opr'>)</span> <span class='opr'>{</span>
        culture <span class='opr'>=</span> userDefaultCulture_;
      <span class='opr'>}</span>
      <span class='kw1'>else</span>
        culture <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>cultureID<span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw2'>catch</span> <span class='opr'>(</span>Exception<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>return</span> <span class='kw2'>null</span>;
    <span class='opr'>}</span>

    culture.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;

    <span class='com'>// Now cache the new instance in all tables.</span>
    ietfCultures<span class='opr'>[</span>culture.ietfLanguageTag<span class='opr'>]</span> <span class='opr'>=</span> culture;
    namedCultures<span class='opr'>[</span>culture.name<span class='opr'>]</span> <span class='opr'>=</span> culture;
    idCultures<span class='opr'>[</span>culture.id<span class='opr'>]</span> <span class='opr'>=</span> culture;

    <span class='kw1'>return</span> culture;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a list of cultures filtered by the specified $(LINK2 constants.html#CultureTypes, CultureTypes).
   * Params: types = A combination of CultureTypes.
   * Returns: An array of Culture instances containing cultures specified by types.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Culture<span class='opr'>[</span><span class='opr'>]</span> getCultures<span class='opr'>(</span>CultureTypes types<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>bool</span> includeSpecific <span class='opr'>=</span> <span class='opr'>(</span>types <span class='opr'>&amp;</span> CultureTypes.Specific<span class='opr'>)</span> <span class='opr'>!=</span> <span class='nbr'>0</span>;
    <span class='kw4'>bool</span> includeNeutral <span class='opr'>=</span> <span class='opr'>(</span>types <span class='opr'>&amp;</span> CultureTypes.Neutral<span class='opr'>)</span> <span class='opr'>!=</span> <span class='nbr'>0</span>;

    <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> cultures;
    <span class='kw1'>for</span> <span class='opr'>(</span><span class='kw4'>int</span> i <span class='opr'>=</span> <span class='nbr'>0</span>; i <span class='opr'>&lt;</span> CultureData.cultureDataTable.length; i<span class='opr'>+</span><span class='opr'>+</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span><span class='opr'>(</span>CultureData.cultureDataTable<span class='opr'>[</span>i<span class='opr'>]</span>.isNeutral &amp;&amp; includeNeutral<span class='opr'>)</span> || <span class='opr'>(</span>!CultureData.cultureDataTable<span class='opr'>[</span>i<span class='opr'>]</span>.isNeutral &amp;&amp; includeSpecific<span class='opr'>)</span><span class='opr'>)</span>
        cultures <span class='opr'>~=</span> CultureData.cultureDataTable<span class='opr'>[</span>i<span class='opr'>]</span>.lcid;
    <span class='opr'>}</span>

    Culture<span class='opr'>[</span><span class='opr'>]</span> result <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>[</span>cultures.length<span class='opr'>]</span>;
    <span class='kw1'>foreach</span> <span class='opr'>(</span><span class='kw4'>int</span> i, <span class='kw4'>int</span> cultureID; cultures<span class='opr'>)</span>
      result<span class='opr'>[</span>i<span class='opr'>]</span> <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>cultureID<span class='opr'>)</span>;
    <span class='kw1'>return</span> result;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns the name of the Culture.
   * Returns: A string containing the name of the Culture in the format &amp;lt;language&amp;gt;&quot;-&quot;&amp;lt;region&amp;gt;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> toString<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.name;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> opEquals<span class='opr'>(</span><span class='kw3'>Object</span> obj<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>obj <span class='kw2'>is</span> <span class='kw2'>this</span><span class='opr'>)</span>
      <span class='kw1'>return</span> <span class='kw2'>true</span>;
    Culture other <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Culture<span class='opr'>)</span>obj;
    <span class='kw1'>if</span> <span class='opr'>(</span>other <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw1'>return</span> <span class='kw2'>false</span>;
    <span class='kw1'>return</span> other.name <span class='opr'>=</span><span class='opr'>=</span> name; <span class='com'>// This needs to be changed so it's culturally aware.</span>
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Culture_current)
   * $(I Property.) Retrieves the culture of the current user.
   * Returns: The Culture instance representing the user's current culture.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Culture current<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>currentCulture_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      <span class='kw1'>return</span> currentCulture_;

    <span class='kw1'>if</span> <span class='opr'>(</span>userDefaultCulture_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='com'>// If the user has changed their locale settings since last we checked, invalidate our data.</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>userDefaultCulture_.id <span class='opr'>!=</span> nativeMethods.getUserCulture<span class='opr'>(</span><span class='opr'>)</span><span class='opr'>)</span>
        userDefaultCulture_ <span class='opr'>=</span> <span class='kw2'>null</span>;
    <span class='opr'>}</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>userDefaultCulture_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      userDefaultCulture_ <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>nativeMethods.getUserCulture<span class='opr'>(</span><span class='opr'>)</span><span class='opr'>)</span>;
      <span class='kw1'>if</span> <span class='opr'>(</span>userDefaultCulture_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
        userDefaultCulture_ <span class='opr'>=</span> invariantCulture;
      <span class='kw1'>else</span>
        userDefaultCulture_.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;
    <span class='opr'>}</span>

    <span class='kw1'>return</span> userDefaultCulture_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the culture of the _current user.
   * Params: value = The Culture instance representing the user's _current culture.
   * Examples:
   * The following examples shows how to change the _current culture.
   * ---
   * import tango.io.Print, tango.locale.all;
   *
   * void main() {
   *   // Displays the name of the current culture.
   *   Println(&quot;The current culture is %s.&quot;, Culture.current.englishName);
   *
   *   // Changes the current culture to el-GR.
   *   Culture.current = new Culture(&quot;el-GR&quot;);
   *   Println(&quot;The current culture is now %s.&quot;, Culture.current.englishName);
   * }
   *
   * // Produces the following output:
   * // The current culture is English (United Kingdom).
   * // The current culture is now Greek (Greece).
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>void</span> current<span class='opr'>(</span>Culture value<span class='opr'>)</span> <span class='opr'>{</span>
    checkNeutral<span class='opr'>(</span>value<span class='opr'>)</span>;
    nativeMethods.setUserCulture<span class='opr'>(</span>value.id<span class='opr'>)</span>;
    currentCulture_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the invariant Culture.
   * Returns: The Culture instance that is invariant.
   * Remarks: The invariant culture is culture-independent. It is not tied to any specific region, but is associated
   * with the English language.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Culture invariantCulture<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> invariantCulture_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the identifier of the Culture.
   * Returns: The culture identifier of the current instance.
   * Remarks: The culture identifier corresponds to the Windows locale identifier (LCID). It can therefore be used when 
   * interfacing with the Windows NLS functions.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.lcid;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Culture_name)
   * $(I Property.) Retrieves the name of the Culture in the format &amp;lt;language&amp;gt;&quot;-&quot;&amp;lt;region&amp;gt;.
   * Returns: The name of the current instance. For example, the name of the UK English culture is &quot;en-GB&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> name<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.name;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the name of the Culture in the format &amp;lt;languagename&amp;gt; (&amp;lt;regionname&amp;gt;) in English.
   * Returns: The name of the current instance in English. For example, the englishName of the UK English culture 
   * is &quot;English (United Kingdom)&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> englishName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.englishName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the name of the Culture in the format &amp;lt;languagename&amp;gt; (&amp;lt;regionname&amp;gt;) in its native language.
   * Returns: The name of the current instance in its native language. For example, if Culture.name is &quot;de-DE&quot;, nativeName is 
   * &quot;Deutsch (Deutschland)&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> nativeName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.nativeName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the two-letter language code of the culture.
   * Returns: The two-letter language code of the Culture instance. For example, the twoLetterLanguageName for English is &quot;en&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> twoLetterLanguageName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.isoLangName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the three-letter language code of the culture.
   * Returns: The three-letter language code of the Culture instance. For example, the threeLetterLanguageName for English is &quot;eng&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> threeLetterLanguageName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.isoLangName2;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the RFC 3066 identification for a language.
   * Returns: A string representing the RFC 3066 language identification.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> ietfLanguageTag<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.ietfTag;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the Culture representing the parent of the current instance.
   * Returns: The Culture representing the parent of the current instance.
   */</span>
  <span class='kw4'>public</span> Culture parent<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>parent_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw2'>try</span> <span class='opr'>{</span>
        <span class='kw4'>int</span> parentCulture <span class='opr'>=</span> cultureData_.parent;
        <span class='kw1'>if</span> <span class='opr'>(</span>parentCulture <span class='opr'>=</span><span class='opr'>=</span> LCID_INVARIANT<span class='opr'>)</span>
          parent_ <span class='opr'>=</span> invariantCulture;
        <span class='kw1'>else</span>
          parent_ <span class='opr'>=</span> <span class='kw2'>new</span> Culture<span class='opr'>(</span>parentCulture<span class='opr'>)</span>;
      <span class='opr'>}</span>
      <span class='kw2'>catch</span> <span class='opr'>{</span>
        parent_ <span class='opr'>=</span> invariantCulture;
      <span class='opr'>}</span>
    <span class='opr'>}</span>
    <span class='kw1'>return</span> parent_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a value indicating whether the current instance is a neutral culture.
   * Returns: true is the current Culture represents a neutral culture; otherwise, false.
   * Examples:
   * The following example displays which cultures using Chinese are neutral.
   * ---
   * import tango.io.Print, tango.locale.all;
   *
   * void main() {
   *   foreach (c; Culture.getCultures(CultureTypes.All)) {
   *     if (c.twoLetterLanguageName == &quot;zh&quot;) {
   *       Print(c.englishName);
   *       if (c.isNeutral)
   *         Println(&quot;neutral&quot;);
   *       else
   *         Println(&quot;specific&quot;);
   *     }
   *   }
   * }
   *
   * // Produces the following output:
   * // Chinese (Simplified) - neutral
   * // Chinese (Taiwan) - specific
   * // Chinese (People's Republic of China) - specific
   * // Chinese (Hong Kong S.A.R.) - specific
   * // Chinese (Singapore) - specific
   * // Chinese (Macao S.A.R.) - specific
   * // Chinese (Traditional) - neutral
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>bool</span> isNeutral<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.isNeutral;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a value indicating whether the instance is read-only.
   * Returns: true if the instance is read-only; otherwise, false.
   * Remarks: If the culture is read-only, the $(LINK2 #Culture_dateTimeFormat, dateTimeFormat) and $(LINK2 #Culture_numberFormat, numberFormat) properties return 
   * read-only instances.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>bool</span> isReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isReadOnly_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Culture_calendar)
   * $(I Property.) Retrieves the calendar used by the culture.
   * Returns: A Calendar instance respresenting the calendar used by the culture.
   */</span>
  <span class='kw4'>public</span> Calendar calendar<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>calendar_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      calendar_ <span class='opr'>=</span> getCalendarInstance<span class='opr'>(</span>cultureData_.calendarType<span class='opr'>)</span>;
      calendar_.isReadOnly_ <span class='opr'>=</span> isReadOnly_;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> calendar_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the list of calendars that can be used by the culture.
   * Returns: An array of type Calendar representing the calendars that can be used by the culture.
   */</span>
  <span class='kw4'>public</span> Calendar<span class='opr'>[</span><span class='opr'>]</span> optionalCalendars<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    Calendar<span class='opr'>[</span><span class='opr'>]</span> cals <span class='opr'>=</span> <span class='kw2'>new</span> Calendar<span class='opr'>[</span>cultureData_.optionalCalendars.length<span class='opr'>]</span>;
    <span class='kw1'>foreach</span> <span class='opr'>(</span><span class='kw4'>int</span> i, <span class='kw4'>int</span> calID; cultureData_.optionalCalendars<span class='opr'>)</span>
      cals<span class='opr'>[</span>i<span class='opr'>]</span> <span class='opr'>=</span> getCalendarInstance<span class='opr'>(</span>calID<span class='opr'>)</span>;
    <span class='kw1'>return</span> cals;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Culture_numberFormat)
   * $(I Property.) Retrieves a NumberFormat defining the culturally appropriate format for displaying numbers and currency.
   * Returns: A NumberFormat defining the culturally appropriate format for displaying numbers and currency.
  */</span>
  <span class='kw4'>public</span> NumberFormat numberFormat<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    checkNeutral<span class='opr'>(</span><span class='kw2'>this</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>numberFormat_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      numberFormat_ <span class='opr'>=</span> <span class='kw2'>new</span> NumberFormat<span class='opr'>(</span>cultureData_<span class='opr'>)</span>;
      numberFormat_.isReadOnly_ <span class='opr'>=</span> isReadOnly_;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> numberFormat_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a NumberFormat defining the culturally appropriate format for displaying numbers and currency.
   * Params: values = A NumberFormat defining the culturally appropriate format for displaying numbers and currency.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>void</span> numberFormat<span class='opr'>(</span>NumberFormat value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    numberFormat_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Culture_dateTimeFormat)
   * $(I Property.) Retrieves a DateTimeFormat defining the culturally appropriate format for displaying dates and times.
   * Returns: A DateTimeFormat defining the culturally appropriate format for displaying dates and times.
   */</span>
  <span class='kw4'>public</span> DateTimeFormat dateTimeFormat<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    checkNeutral<span class='opr'>(</span><span class='kw2'>this</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>dateTimeFormat_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      dateTimeFormat_ <span class='opr'>=</span> <span class='kw2'>new</span> DateTimeFormat<span class='opr'>(</span>cultureData_, calendar<span class='opr'>)</span>;
      dateTimeFormat_.isReadOnly_ <span class='opr'>=</span> isReadOnly_;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> dateTimeFormat_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a DateTimeFormat defining the culturally appropriate format for displaying dates and times.
   * Params: values = A DateTimeFormat defining the culturally appropriate format for displaying dates and times.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>void</span> dateTimeFormat<span class='opr'>(</span>DateTimeFormat value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    dateTimeFormat_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>void</span> checkNeutral<span class='opr'>(</span>Culture culture<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>culture.isNeutral<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Culture '&quot;</span> <span class='opr'>~</span> culture.name <span class='opr'>~</span> <span class='str'>&quot;' is a neutral culture. It cannot be used in formatting and therefore cannot be set as the current culture.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>void</span> checkReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>isReadOnly_<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Instance is read-only.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> Calendar getCalendarInstance<span class='opr'>(</span><span class='kw4'>int</span> calendarType<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>switch</span> <span class='opr'>(</span>calendarType<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>case</span> Calendar.JAPAN:
        <span class='kw1'>return</span> <span class='kw2'>new</span> JapaneseCalendar;
      <span class='kw1'>case</span> Calendar.TAIWAN:
        <span class='kw1'>return</span> <span class='kw2'>new</span> TaiwanCalendar;
      <span class='kw1'>case</span> Calendar.KOREA:
        <span class='kw1'>return</span> <span class='kw2'>new</span> KoreanCalendar;
      <span class='kw1'>case</span> Calendar.HIJRI:
        <span class='kw1'>return</span> <span class='kw2'>new</span> HijriCalendar;
      <span class='kw1'>case</span> Calendar.THAI:
        <span class='kw1'>return</span> <span class='kw2'>new</span> ThaiBuddhistCalendar;
      <span class='kw1'>case</span> Calendar.HEBREW:
        <span class='kw1'>return</span> <span class='kw2'>new</span> HebrewCalendar;
      <span class='kw1'>case</span> Calendar.GREGORIAN_US:
      <span class='kw1'>case</span> Calendar.GREGORIAN_ME_FRENCH:
      <span class='kw1'>case</span> Calendar.GREGORIAN_ARABIC:
      <span class='kw1'>case</span> Calendar.GREGORIAN_XLIT_ENGLISH:
      <span class='kw1'>case</span> Calendar.GREGORIAN_XLIT_FRENCH:
        <span class='kw1'>return</span> <span class='kw2'>new</span> GregorianCalendar<span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span>GregorianCalendarTypes<span class='opr'>)</span>calendarType<span class='opr'>)</span>;
      <span class='kw2'>default</span>:
        <span class='kw1'>break</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> <span class='kw2'>new</span> GregorianCalendar;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _Region)
 * Provides information about a region.
 * Remarks: Region does not represent user preferences. It does not depend on the user's language or culture.
 * Examples:
 * The following example displays some of the properties of the Region class:
 * ---
 * import tango.io.Print, tango.locale.all;
 *
 * void main() {
 *   Region region = new Region(&quot;en-GB&quot;);
 *   Println(&quot;name:              %s&quot;, region.name);
 *   Println(&quot;englishName:       %s&quot;, region.englishName);
 *   Println(&quot;isMetric:          %s&quot;, region.isMetric);
 *   Println(&quot;currencySymbol:    %s&quot;, region.currencySymbol);
 *   Println(&quot;isoCurrencySymbol: %s&quot;, region.isoCurrencySymbol);
 * }
 *
 * // Produces the following output.
 * // name:              en-GB
 * // englishName:       United Kingdom
 * // isMetric:          true
 * // currencySymbol:    
 * // isoCurrencySymbol: GBP
 * ---
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> Region <span class='opr'>{</span>

  <span class='kw4'>private</span> CultureData<span class='opr'>*</span> cultureData_;
  <span class='kw4'>private</span> <span class='kw4'>static</span> Region currentRegion_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> name_;

  <span class='com'>/**
   * Initializes a new Region instance based on the region associated with the specified culture identifier.
   * Params: cultureID = A culture indentifier.
   * Remarks: The name of the Region instance is set to the ISO 3166 two-letter code for that region.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='kw4'>int</span> cultureID<span class='opr'>)</span> <span class='opr'>{</span>
    cultureData_ <span class='opr'>=</span> CultureData.getDataFromCultureID<span class='opr'>(</span>cultureID<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>cultureData_.isNeutral<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Cannot use a neutral culture to create a region.&quot;</span><span class='opr'>)</span>;
    name_ <span class='opr'>=</span> cultureData_.regionName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Region_ctor_name)
   * Initializes a new Region instance based on the region specified by name.
   * Params: name = A two-letter ISO 3166 code for the region. Or, a culture $(LINK2 #Culture_name, _name) consisting of the language and region.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> name<span class='opr'>)</span> <span class='opr'>{</span>
    cultureData_ <span class='opr'>=</span> CultureData.getDataFromRegionName<span class='opr'>(</span>name<span class='opr'>)</span>;
    name_ <span class='opr'>=</span> name;
    <span class='kw1'>if</span> <span class='opr'>(</span>cultureData_.isNeutral<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;The region name &quot;</span> <span class='opr'>~</span> name <span class='opr'>~</span> <span class='str'>&quot; corresponds to a neutral culture and cannot be used to create a region.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw2'>this</span><span class='opr'>(</span>CultureData<span class='opr'>*</span> cultureData<span class='opr'>)</span> <span class='opr'>{</span>
    cultureData_ <span class='opr'>=</span> cultureData;
    name_ <span class='opr'>=</span> cultureData.regionName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the Region used by the current $(LINK2 #Culture, Culture).
   * Returns: The Region instance associated with the current Culture.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> Region current<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>currentRegion_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      currentRegion_ <span class='opr'>=</span> <span class='kw2'>new</span> Region<span class='opr'>(</span>Culture.current.cultureData_<span class='opr'>)</span>;
    <span class='kw1'>return</span> currentRegion_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a unique identifier for the geographical location of the region.
   * Returns: An $(B int) uniquely identifying the geographical location.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> geoID<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.geoId;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR Region_name)
   * $(I Property.) Retrieves the ISO 3166 code, or the name, of the current Region.
   * Returns: The value specified by the name parameter of the $(LINK2 #Region_ctor_name, Region(char[])) constructor.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> name<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> name_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the full name of the region in English.
   * Returns: The full name of the region in English.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> englishName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.englishCountry;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the full name of the region in its native language.
   * Returns: The full name of the region in the language associated with the region code.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> nativeName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.nativeCountry;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the two-letter ISO 3166 code of the region.
   * Returns: The two-letter ISO 3166 code of the region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> twoLetterRegionName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.regionName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the three-letter ISO 3166 code of the region.
   * Returns: The three-letter ISO 3166 code of the region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> threeLetterRegionName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.isoRegionName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the currency symbol of the region.
   * Returns: The currency symbol of the region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencySymbol<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.currency;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the three-character currency symbol of the region.
   * Returns: The three-character currency symbol of the region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> isoCurrencySymbol<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.intlSymbol;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the name in English of the currency used in the region.
   * Returns: The name in English of the currency used in the region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencyEnglishName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.englishCurrency;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the name in the native language of the region of the currency used in the region.
   * Returns: The name in the native language of the region of the currency used in the region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencyNativeName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.nativeCurrency;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a value indicating whether the region uses the metric system for measurements.
   * Returns: true is the region uses the metric system; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>bool</span> isMetric<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.isMetric;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a string containing the ISO 3166 code, or the $(LINK2 #Region_name, name), of the current Region.
   * Returns: A string containing the ISO 3166 code, or the name, of the current Region.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> toString<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> name_;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _NumberFormat)
 * Determines how numbers are formatted, according to the current culture.
 * Remarks: Numbers are formatted using format patterns retrieved from a NumberFormat instance.
 * This class implements $(LINK2 #IFormatService_getFormat, IFormatService.getFormat).
 * Examples:
 * The following example shows how to retrieve an instance of NumberFormat for a Culture
 * and use it to display number formatting information.
 * ---
 * import tango.io.Print, tango.locale.all;
 *
 * void main(char[][] args) {
 *   foreach (c; Culture.getCultures(CultureTypes.Specific)) {
 *     if (c.twoLetterLanguageName == &quot;en&quot;) {
 *       NumberFormat fmt = c.numberFormat;
 *       Println(&quot;The currency symbol for %s is '%s'&quot;, 
 *         c.englishName, 
 *         fmt.currencySymbol);
 *     }
 *   }
 * }
 *
 * // Produces the following output:
 * // The currency symbol for English (United States) is '$'
 * // The currency symbol for English (United Kingdom) is ''
 * // The currency symbol for English (Australia) is '$'
 * // The currency symbol for English (Canada) is '$'
 * // The currency symbol for English (New Zealand) is '$'
 * // The currency symbol for English (Ireland) is ''
 * // The currency symbol for English (South Africa) is 'R'
 * // The currency symbol for English (Jamaica) is 'J$'
 * // The currency symbol for English (Caribbean) is '$'
 * // The currency symbol for English (Belize) is 'BZ$'
 * // The currency symbol for English (Trinidad and Tobago) is 'TT$'
 * // The currency symbol for English (Zimbabwe) is 'Z$'
 * // The currency symbol for English (Republic of the Philippines) is 'Php'
 *---
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> NumberFormat : IFormatService <span class='opr'>{</span>

  <span class='kw4'>package</span> <span class='kw4'>bool</span> isReadOnly_;
  <span class='kw4'>private</span> <span class='kw4'>static</span> NumberFormat invariantFormat_;

  <span class='kw4'>private</span> <span class='kw4'>int</span> numberDecimalDigits_;
  <span class='kw4'>private</span> <span class='kw4'>int</span> numberNegativePattern_;
  <span class='kw4'>private</span> <span class='kw4'>int</span> currencyDecimalDigits_;
  <span class='kw4'>private</span> <span class='kw4'>int</span> currencyNegativePattern_;
  <span class='kw4'>private</span> <span class='kw4'>int</span> currencyPositivePattern_;
  <span class='kw4'>private</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> numberGroupSizes_;
  <span class='kw4'>private</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> currencyGroupSizes_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> numberGroupSeparator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> numberDecimalSeparator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencyGroupSeparator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencyDecimalSeparator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencySymbol_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> negativeSign_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> positiveSign_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> nanSymbol_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> negativeInfinitySymbol_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> positiveInfinitySymbol_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> nativeDigits_;

  <span class='com'>/**
   * Initializes a new, culturally independent instance.
   *
   * Remarks: Modify the properties of the new instance to define custom formatting.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>this</span><span class='opr'>(</span><span class='kw2'>null</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw2'>this</span><span class='opr'>(</span>CultureData<span class='opr'>*</span> cultureData<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='com'>// Initialize invariant data.</span>
    numberDecimalDigits_ <span class='opr'>=</span> <span class='nbr'>2</span>;
    numberNegativePattern_ <span class='opr'>=</span> <span class='nbr'>1</span>;
    currencyDecimalDigits_ <span class='opr'>=</span> <span class='nbr'>2</span>;
    numberGroupSizes_ <span class='opr'>=</span> arrayOf!<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='nbr'>3</span><span class='opr'>)</span>;
    currencyGroupSizes_ <span class='opr'>=</span> arrayOf!<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='nbr'>3</span><span class='opr'>)</span>;
    numberGroupSeparator_ <span class='opr'>=</span> <span class='str'>&quot;,&quot;</span>;
    numberDecimalSeparator_ <span class='opr'>=</span> <span class='str'>&quot;.&quot;</span>;
    currencyGroupSeparator_ <span class='opr'>=</span> <span class='str'>&quot;,&quot;</span>;
    currencyDecimalSeparator_ <span class='opr'>=</span> <span class='str'>&quot;.&quot;</span>;
    currencySymbol_ <span class='opr'>=</span> <span class='str'>&quot;\u00A4&quot;</span>;
    negativeSign_ <span class='opr'>=</span> <span class='str'>&quot;-&quot;</span>;
    positiveSign_ <span class='opr'>=</span> <span class='str'>&quot;+&quot;</span>;
    nanSymbol_ <span class='opr'>=</span> <span class='str'>&quot;NaN&quot;</span>;
    negativeInfinitySymbol_ <span class='opr'>=</span> <span class='str'>&quot;-Infinity&quot;</span>;
    positiveInfinitySymbol_ <span class='opr'>=</span> <span class='str'>&quot;Infinity&quot;</span>;
    nativeDigits_ <span class='opr'>=</span> arrayOf!<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>)</span><span class='opr'>(</span><span class='str'>&quot;0&quot;</span>, <span class='str'>&quot;1&quot;</span>, <span class='str'>&quot;2&quot;</span>, <span class='str'>&quot;3&quot;</span>, <span class='str'>&quot;4&quot;</span>, <span class='str'>&quot;5&quot;</span>, <span class='str'>&quot;6&quot;</span>, <span class='str'>&quot;7&quot;</span>, <span class='str'>&quot;8&quot;</span>, <span class='str'>&quot;9&quot;</span><span class='opr'>)</span>;

    <span class='kw1'>if</span> <span class='opr'>(</span>cultureData !<span class='kw2'>is</span> <span class='kw2'>null</span> &amp;&amp; cultureData.lcid <span class='opr'>!=</span> Culture.LCID_INVARIANT<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='com'>// Initialize culture-specific data.</span>
      numberDecimalDigits_ <span class='opr'>=</span> cultureData.digits;
      numberNegativePattern_ <span class='opr'>=</span> cultureData.negativeNumber;
      currencyDecimalDigits_ <span class='opr'>=</span> cultureData.currencyDigits;
      currencyNegativePattern_ <span class='opr'>=</span> cultureData.negativeCurrency;
      currencyPositivePattern_ <span class='opr'>=</span> cultureData.positiveCurrency;
      numberGroupSizes_ <span class='opr'>=</span> cultureData.grouping;
      currencyGroupSizes_ <span class='opr'>=</span> cultureData.monetaryGrouping;
      numberGroupSeparator_ <span class='opr'>=</span> cultureData.thousand;
      numberDecimalSeparator_ <span class='opr'>=</span> cultureData.decimal;
      currencyGroupSeparator_ <span class='opr'>=</span> cultureData.monetaryThousand;
      currencyDecimalSeparator_ <span class='opr'>=</span> cultureData.monetaryDecimal;
      currencySymbol_ <span class='opr'>=</span> cultureData.currency;
      negativeSign_ <span class='opr'>=</span> cultureData.negativeSign;
      positiveSign_ <span class='opr'>=</span> cultureData.positiveSign;
      nanSymbol_ <span class='opr'>=</span> cultureData.nan;
      negativeInfinitySymbol_ <span class='opr'>=</span> cultureData.negInfinity;
      positiveInfinitySymbol_ <span class='opr'>=</span> cultureData.posInfinity;
      nativeDigits_ <span class='opr'>=</span> cultureData.nativeDigits;
    <span class='opr'>}</span>
  <span class='opr'>}</span>

  <span class='com'>/**
   * Retrieves an object defining how to format the specified type.
   * Params: type = The TypeInfo of the resulting formatting object.
   * Returns: If type is typeid($(LINK2 #NumberFormat, NumberFormat)), the current NumberFormat instance. Otherwise, null.
   * Remarks: Implements $(LINK2 #IFormatService_getFormat, IFormatService.getFormat).
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> getFormat<span class='opr'>(</span><span class='kw3'>TypeInfo</span> type<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span>type <span class='kw2'>is</span> <span class='kw2'>typeid</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span><span class='opr'>)</span> ? <span class='kw2'>this</span> : <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Creates a copy of the instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> clone<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    NumberFormat copy <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span>cloneObject<span class='opr'>(</span><span class='kw2'>this</span><span class='opr'>)</span>;
    copy.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>false</span>;
    <span class='kw1'>return</span> copy;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Retrieves the NumberFormat for the specified $(LINK2 #IFormatService, IFormatService).
   * Params: formatService = The IFormatService used to retrieve NumberFormat.
   * Returns: The NumberFormat for the specified IFormatService.
   * Remarks: The method calls $(LINK2 #IFormatService_getFormat, IFormatService.getFormat) with typeof(NumberFormat). If formatService is null,
   * then the value of the current property is returned.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> NumberFormat getInstance<span class='opr'>(</span>IFormatService formatService<span class='opr'>)</span> <span class='opr'>{</span>
    Culture culture <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Culture<span class='opr'>)</span>formatService;
    <span class='kw1'>if</span> <span class='opr'>(</span>culture !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>culture.numberFormat_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
        <span class='kw1'>return</span> culture.numberFormat_;
      <span class='kw1'>return</span> culture.numberFormat;
    <span class='opr'>}</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>NumberFormat numberFormat <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span>formatService<span class='opr'>)</span>
      <span class='kw1'>return</span> numberFormat;
    <span class='kw1'>if</span> <span class='opr'>(</span>formatService !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>NumberFormat numberFormat <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span><span class='opr'>(</span>formatService.getFormat<span class='opr'>(</span><span class='kw2'>typeid</span><span class='opr'>(</span>NumberFormat<span class='opr'>)</span><span class='opr'>)</span><span class='opr'>)</span><span class='opr'>)</span>
        <span class='kw1'>return</span> numberFormat;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> current;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a read-only NumberFormat instance from the current culture.
   * Returns: A read-only NumberFormat instance from the current culture.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> NumberFormat current<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Culture.current.numberFormat;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR NumberFormat_invariantFormat)
   * $(I Property.) Retrieves the read-only, culturally independent NumberFormat instance.
   * Returns: The read-only, culturally independent NumberFormat instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> NumberFormat invariantFormat<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>invariantFormat_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      invariantFormat_ <span class='opr'>=</span> <span class='kw2'>new</span> NumberFormat;
      invariantFormat_.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> invariantFormat_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a value indicating whether the instance is read-only.
   * Returns: true if the instance is read-only; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>bool</span> isReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isReadOnly_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of decimal places used for numbers.
   * Returns: The number of decimal places used for numbers. For $(LINK2 #NumberFormat_invariantFormat, invariantFormat), the default is 2.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span> numberDecimalDigits<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> numberDecimalDigits_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * Assigns the number of decimal digits used for numbers.
   * Params: value = The number of decimal places used for numbers.
   * Throws: Exception if the property is being set and the instance is read-only.
   * Examples:
   * The following example shows the effect of changing numberDecimalDigits.
   * ---
   * import tango.io.Print, tango.locale.all;
   *
   * void main() {
   *   // Get the NumberFormat from the en-GB culture.
   *   NumberFormat fmt = (new Culture(&quot;en-GB&quot;)).numberFormat;
   *
   *   // Display a value with the default number of decimal digits.
   *   int n = 5678;
   *   Println(Formatter.format(fmt, &quot;{0:N}&quot;, n));
   *
   *   // Display the value with six decimal digits.
   *   fmt.numberDecimalDigits = 6;
   *   Println(Formatter.format(fmt, &quot;{0:N}&quot;, n));
   * }
   *
   * // Produces the following output:
   * // 5,678.00
   * // 5,678.000000
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> numberDecimalDigits<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    numberDecimalDigits_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the format pattern for negative numbers.
   * Returns: The format pattern for negative numbers. For invariantFormat, the default is 1 (representing &quot;-n&quot;).
   * Remarks: The following table shows valid values for this property.
   *
   * &lt;table class=&quot;definitionTable&quot;&gt;
   * &lt;tr&gt;&lt;th&gt;Value&lt;/th&gt;&lt;th&gt;Pattern&lt;/th&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;(n)&lt;/td&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;-n&lt;/td&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;- n&lt;/td&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;n-&lt;/td&gt;&lt;/tr&gt;
   * &lt;tr&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;n -&lt;/td&gt;&lt;/tr&gt;
   * &lt;/table&gt;
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span> numberNegativePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> numberNegativePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for negative numbers.
   * Params: value = The format pattern for negative numbers.
   * Examples:
   * The following example shows the effect of the different patterns.
   * ---
   * import tango.io.Print, tango.locale.all;
   *
   * void main() {
   *   NumberFormat fmt = new NumberFormat;
   *   int n = -5678;
   *
   *   // Display the default pattern.
   *   Println(Formatter.format(fmt, &quot;{0:N}&quot;, n));
   *
   *   // Display all patterns.
   *   for (int i = 0; i &lt;= 4; i++) {
   *     fmt.numberNegativePattern = i;
   *     Println(Formatter.format(fmt, &quot;{0:N}&quot;, n));
   *   }
   * }
   *
   * // Produces the following output:
   * // (5,678.00)
   * // (5,678.00)
   * // -5,678.00
   * // - 5,678.00
   * // 5,678.00-
   * // 5,678.00 -
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> numberNegativePattern<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    numberNegativePattern_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of decimal places to use in currency values.
   * Returns: The number of decimal digits to use in currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span> currencyDecimalDigits<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencyDecimalDigits_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the number of decimal places to use in currency values.
   * Params: value = The number of decimal digits to use in currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencyDecimalDigits<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencyDecimalDigits_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the formal pattern to use for negative currency values.
   * Returns: The format pattern to use for negative currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span> currencyNegativePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencyNegativePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the formal pattern to use for negative currency values.
   * Params: value = The format pattern to use for negative currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencyNegativePattern<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencyNegativePattern_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the formal pattern to use for positive currency values.
   * Returns: The format pattern to use for positive currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span> currencyPositivePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencyPositivePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the formal pattern to use for positive currency values.
   * Returns: The format pattern to use for positive currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencyPositivePattern<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencyPositivePattern_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of digits int each group to the left of the decimal place in numbers.
   * Returns: The number of digits int each group to the left of the decimal place in numbers.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> numberGroupSizes<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> numberGroupSizes_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the number of digits int each group to the left of the decimal place in numbers.
   * Params: value = The number of digits int each group to the left of the decimal place in numbers.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> numberGroupSizes<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    numberGroupSizes_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of digits int each group to the left of the decimal place in currency values.
   * Returns: The number of digits int each group to the left of the decimal place in currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> currencyGroupSizes<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencyGroupSizes_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the number of digits int each group to the left of the decimal place in currency values.
   * Params: value = The number of digits int each group to the left of the decimal place in currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencyGroupSizes<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencyGroupSizes_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string separating groups of digits to the left of the decimal place in numbers.
   * Returns: The string separating groups of digits to the left of the decimal place in numbers. For example, &quot;,&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> numberGroupSeparator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> numberGroupSeparator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string separating groups of digits to the left of the decimal place in numbers.
   * Params: value = The string separating groups of digits to the left of the decimal place in numbers.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> numberGroupSeparator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    numberGroupSeparator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string used as the decimal separator in numbers.
   * Returns: The string used as the decimal separator in numbers. For example, &quot;.&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> numberDecimalSeparator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> numberDecimalSeparator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string used as the decimal separator in numbers.
   * Params: value = The string used as the decimal separator in numbers.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> numberDecimalSeparator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    numberDecimalSeparator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string separating groups of digits to the left of the decimal place in currency values.
   * Returns: The string separating groups of digits to the left of the decimal place in currency values. For example, &quot;,&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencyGroupSeparator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencyGroupSeparator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string separating groups of digits to the left of the decimal place in currency values.
   * Params: value = The string separating groups of digits to the left of the decimal place in currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencyGroupSeparator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencyGroupSeparator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string used as the decimal separator in currency values.
   * Returns: The string used as the decimal separator in currency values. For example, &quot;.&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencyDecimalSeparator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencyDecimalSeparator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string used as the decimal separator in currency values.
   * Params: value = The string used as the decimal separator in currency values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencyDecimalSeparator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencyDecimalSeparator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string used as the currency symbol.
   * Returns: The string used as the currency symbol. For example, &quot;&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> currencySymbol<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> currencySymbol_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string used as the currency symbol.
   * Params: value = The string used as the currency symbol.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> currencySymbol<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    currencySymbol_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string denoting that a number is negative.
   * Returns: The string denoting that a number is negative. For example, &quot;-&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> negativeSign<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> negativeSign_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string denoting that a number is negative.
   * Params: value = The string denoting that a number is negative.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> negativeSign<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    negativeSign_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string denoting that a number is positive.
   * Returns: The string denoting that a number is positive. For example, &quot;+&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> positiveSign<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> positiveSign_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string denoting that a number is positive.
   * Params: value = The string denoting that a number is positive.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> positiveSign<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    positiveSign_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string representing the NaN (not a number) value.
   * Returns: The string representing the NaN value. For example, &quot;NaN&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> nanSymbol<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> nanSymbol_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string representing the NaN (not a number) value.
   * Params: value = The string representing the NaN value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> nanSymbol<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    nanSymbol_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string representing negative infinity.
   * Returns: The string representing negative infinity. For example, &quot;-Infinity&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> negativeInfinitySymbol<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> negativeInfinitySymbol_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string representing negative infinity.
   * Params: value = The string representing negative infinity.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> negativeInfinitySymbol<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    negativeInfinitySymbol_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the string representing positive infinity.
   * Returns: The string representing positive infinity. For example, &quot;Infinity&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> positiveInfinitySymbol<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> positiveInfinitySymbol_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string representing positive infinity.
   * Params: value = The string representing positive infinity.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> positiveInfinitySymbol<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    positiveInfinitySymbol_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a string array of native equivalents of the digits 0 to 9.
   * Returns: A string array of native equivalents of the digits 0 to 9.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> nativeDigits<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> nativeDigits_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a string array of native equivalents of the digits 0 to 9.
   * Params: value = A string array of native equivalents of the digits 0 to 9.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> nativeDigits<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    nativeDigits_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>void</span> checkReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>isReadOnly_<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;NumberFormat instance is read-only.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _DateTimeFormat)
 * Determines how $(LINK2 #DateTime, DateTime) values are formatted, depending on the culture.
 * Remarks: To create a DateTimeFormat for a specific culture, create a $(LINK2 #Culture, Culture) for that culture and
 * retrieve its $(LINK2 #Culture_dateTimeFormat, dateTimeFormat) property. To create a DateTimeFormat for the user's current 
 * culture, use the $(LINK2 #Culture_current, current) property.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> DateTimeFormat : IFormatService <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> rfc1123Pattern_ <span class='opr'>=</span> <span class='str'>&quot;ddd, dd MMMM yyyy HH':'mm':'ss 'GMT'&quot;</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> sortableDateTimePattern_ <span class='opr'>=</span> <span class='str'>&quot;yyyy'-'MM'-'dd'T'HH':'mm':'ss&quot;</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> universalSortableDateTimePattern_ <span class='opr'>=</span> <span class='str'>&quot;yyyy'-'MM'-'dd' 'HH':'mm':'ss'Z'&quot;</span>;

  <span class='kw4'>package</span> <span class='kw4'>bool</span> isReadOnly_;
  <span class='kw4'>private</span> <span class='kw4'>static</span> DateTimeFormat invariantFormat_;
  <span class='kw4'>private</span> CultureData<span class='opr'>*</span> cultureData_;

  <span class='kw4'>private</span> Calendar calendar_;
  <span class='kw4'>private</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> optionalCalendars_;
  <span class='kw4'>private</span> <span class='kw4'>int</span> firstDayOfWeek_ <span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span>;
  <span class='kw4'>private</span> <span class='kw4'>int</span> calendarWeekRule_ <span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span>;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> dateSeparator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> timeSeparator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> amDesignator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> pmDesignator_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> shortDatePattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> shortTimePattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> longDatePattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> longTimePattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> monthDayPattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> yearMonthPattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> abbreviatedDayNames_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> dayNames_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> abbreviatedMonthNames_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> monthNames_;

  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> fullDateTimePattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> generalShortTimePattern_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> generalLongTimePattern_;

  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> shortTimePatterns_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> shortDatePatterns_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> longTimePatterns_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> longDatePatterns_;
  <span class='kw4'>private</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> yearMonthPatterns_;

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_ctor)
   * Initializes an instance that is writable and culture-independent.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='com'>// This ctor is used by invariantFormat so we can't set the calendar property.</span>
    cultureData_ <span class='opr'>=</span> Culture.invariantCulture.cultureData_;
    calendar_ <span class='opr'>=</span> GregorianCalendar.getDefaultInstance<span class='opr'>(</span><span class='opr'>)</span>;
    initialize<span class='opr'>(</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw2'>this</span><span class='opr'>(</span>CultureData<span class='opr'>*</span> cultureData, Calendar calendar<span class='opr'>)</span> <span class='opr'>{</span>
    cultureData_ <span class='opr'>=</span> cultureData;
    <span class='kw2'>this</span>.calendar <span class='opr'>=</span> calendar;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getFormat)
   * Retrieves an object defining how to format the specified type.
   * Params: type = The TypeInfo of the resulting formatting object.
   * Returns: If type is typeid(DateTimeFormat), the current DateTimeFormat instance. Otherwise, null.
   * Remarks: Implements $(LINK2 #IFormatService_getFormat, IFormatService.getFormat).
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> getFormat<span class='opr'>(</span><span class='kw3'>TypeInfo</span> type<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span>type <span class='kw2'>is</span> <span class='kw2'>typeid</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span><span class='opr'>)</span> ? <span class='kw2'>this</span> : <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> clone<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    DateTimeFormat other <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span>cloneObject<span class='opr'>(</span><span class='kw2'>this</span><span class='opr'>)</span>;
    other.calendar_ <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Calendar<span class='opr'>)</span>calendar.clone<span class='opr'>(</span><span class='opr'>)</span>;
    other.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>false</span>;
    <span class='kw1'>return</span> other;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> shortTimePatterns<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>shortTimePatterns_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      shortTimePatterns_ <span class='opr'>=</span> cultureData_.shortTimes;
    <span class='kw1'>return</span> shortTimePatterns_.dup;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> shortDatePatterns<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>shortDatePatterns_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      shortDatePatterns_ <span class='opr'>=</span> cultureData_.shortDates;
    <span class='kw1'>return</span> shortDatePatterns_.dup;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> longTimePatterns<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>longTimePatterns_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      longTimePatterns_ <span class='opr'>=</span> cultureData_.longTimes;
    <span class='kw1'>return</span> longTimePatterns_.dup;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> longDatePatterns<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>longDatePatterns_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      longDatePatterns_ <span class='opr'>=</span> cultureData_.longDates;
    <span class='kw1'>return</span> longDatePatterns_.dup;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> yearMonthPatterns<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>yearMonthPatterns_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      yearMonthPatterns_ <span class='opr'>=</span> cultureData_.yearMonths;
    <span class='kw1'>return</span> yearMonthPatterns_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getAllDateTimePatterns)
   * Retrieves the standard patterns in which DateTime values can be formatted.
   * Returns: An array of strings containing the standard patterns in which DateTime values can be formatted.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> getAllDateTimePatterns<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> result;
    <span class='kw1'>foreach</span> <span class='opr'>(</span><span class='kw4'>char</span> format; allStandardFormats<span class='opr'>)</span>
      result <span class='opr'>~=</span> getAllDateTimePatterns<span class='opr'>(</span>format<span class='opr'>)</span>;
    <span class='kw1'>return</span> result;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getAllDateTimePatterns_char)
   * Retrieves the standard patterns in which DateTime values can be formatted using the specified format character.
   * Returns: An array of strings containing the standard patterns in which DateTime values can be formatted using the specified format character.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> getAllDateTimePatterns<span class='opr'>(</span><span class='kw4'>char</span> format<span class='opr'>)</span> <span class='opr'>{</span>

    <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> combinePatterns<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> patterns1, <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> patterns2<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> result <span class='opr'>=</span> <span class='kw2'>new</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span>patterns1.length <span class='opr'>*</span> patterns2.length<span class='opr'>]</span>;
      <span class='kw1'>for</span> <span class='opr'>(</span><span class='kw4'>int</span> i <span class='opr'>=</span> <span class='nbr'>0</span>; i <span class='opr'>&lt;</span> patterns1.length; i<span class='opr'>+</span><span class='opr'>+</span><span class='opr'>)</span> <span class='opr'>{</span>
        <span class='kw1'>for</span> <span class='opr'>(</span><span class='kw4'>int</span> j <span class='opr'>=</span> <span class='nbr'>0</span>; j <span class='opr'>&lt;</span> patterns2.length; j<span class='opr'>+</span><span class='opr'>+</span><span class='opr'>)</span>
          result<span class='opr'>[</span>i <span class='opr'>*</span> patterns2.length <span class='opr'>+</span> j<span class='opr'>]</span> <span class='opr'>=</span> patterns1<span class='opr'>[</span>i<span class='opr'>]</span> <span class='opr'>~</span> <span class='str'>&quot; &quot;</span> <span class='opr'>~</span> patterns2<span class='opr'>[</span>j<span class='opr'>]</span>;
      <span class='opr'>}</span>
      <span class='kw1'>return</span> result;
    <span class='opr'>}</span>

    <span class='com'>// format must be one of allStandardFormats.</span>
    <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> result;
    <span class='kw1'>switch</span> <span class='opr'>(</span>format<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>case</span> <span class='str'>'d'</span>:
        result <span class='opr'>~=</span> shortDatePatterns;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'D'</span>:
        result <span class='opr'>~=</span> longDatePatterns;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'f'</span>:
        result <span class='opr'>~=</span> combinePatterns<span class='opr'>(</span>longDatePatterns, shortTimePatterns<span class='opr'>)</span>;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'F'</span>:
        result <span class='opr'>~=</span> combinePatterns<span class='opr'>(</span>longDatePatterns, longTimePatterns<span class='opr'>)</span>;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'g'</span>:
        result <span class='opr'>~=</span> combinePatterns<span class='opr'>(</span>shortDatePatterns, shortTimePatterns<span class='opr'>)</span>;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'G'</span>:
        result <span class='opr'>~=</span> combinePatterns<span class='opr'>(</span>shortDatePatterns, longTimePatterns<span class='opr'>)</span>;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'m'</span>:
      <span class='kw1'>case</span> <span class='str'>'M'</span>:
        result <span class='opr'>~=</span> monthDayPattern;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'r'</span>:
      <span class='kw1'>case</span> <span class='str'>'R'</span>:
        result <span class='opr'>~=</span> rfc1123Pattern_;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'s'</span>:
        result <span class='opr'>~=</span> sortableDateTimePattern_;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'t'</span>:
        result <span class='opr'>~=</span> shortTimePatterns;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'T'</span>:
        result <span class='opr'>~=</span> longTimePatterns;
      <span class='kw1'>case</span> <span class='str'>'u'</span>:
        result <span class='opr'>~=</span> universalSortableDateTimePattern_;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'U'</span>:
        result <span class='opr'>~=</span> combinePatterns<span class='opr'>(</span>longDatePatterns, longTimePatterns<span class='opr'>)</span>;
        <span class='kw1'>break</span>;
      <span class='kw1'>case</span> <span class='str'>'y'</span>:
      <span class='kw1'>case</span> <span class='str'>'Y'</span>:
        result <span class='opr'>~=</span> yearMonthPatterns;
        <span class='kw1'>break</span>;
      <span class='kw2'>default</span>:
        <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;The specified format was not valid.&quot;</span><span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> result;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getAbbreviatedDayName)
   * Retrieves the abbreviated name of the specified day of the week based on the culture of the instance.
   * Params: dayOfWeek = A DayOfWeek value.
   * Returns: The abbreviated name of the day of the week represented by dayOfWeek.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> getAbbreviatedDayName<span class='opr'>(</span>DayOfWeek dayOfWeek<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> abbreviatedDayNames<span class='opr'>[</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>dayOfWeek<span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getDayName)
   * Retrieves the full name of the specified day of the week based on the culture of the instance.
   * Params: dayOfWeek = A DayOfWeek value.
   * Returns: The full name of the day of the week represented by dayOfWeek.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> getDayName<span class='opr'>(</span>DayOfWeek dayOfWeek<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> dayNames<span class='opr'>[</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>dayOfWeek<span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getAbbreviatedMonthName)
   * Retrieves the abbreviated name of the specified month based on the culture of the instance.
   * Params: month = An integer between 1 and 13 indicating the name of the _month to return.
   * Returns: The abbreviated name of the _month represented by month.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> getAbbreviatedMonthName<span class='opr'>(</span><span class='kw4'>int</span> month<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> abbreviatedMonthNames<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getMonthName)
   * Retrieves the full name of the specified month based on the culture of the instance.
   * Params: month = An integer between 1 and 13 indicating the name of the _month to return.
   * Returns: The full name of the _month represented by month.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> getMonthName<span class='opr'>(</span><span class='kw4'>int</span> month<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> monthNames<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_getInstance)
   * Retrieves the DateTimeFormat for the specified IFormatService.
   * Params: formatService = The IFormatService used to retrieve DateTimeFormat.
   * Returns: The DateTimeFormat for the specified IFormatService.
   * Remarks: The method calls $(LINK2 #IFormatService_getFormat, IFormatService.getFormat) with typeof(DateTimeFormat). If formatService is null,
   * then the value of the current property is returned.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTimeFormat getInstance<span class='opr'>(</span>IFormatService formatService<span class='opr'>)</span> <span class='opr'>{</span>
    Culture culture <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Culture<span class='opr'>)</span>formatService;
    <span class='kw1'>if</span> <span class='opr'>(</span>culture !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>culture.dateTimeFormat_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
        <span class='kw1'>return</span> culture.dateTimeFormat_;
      <span class='kw1'>return</span> culture.dateTimeFormat;
    <span class='opr'>}</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>DateTimeFormat dateTimeFormat <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span>formatService<span class='opr'>)</span>
      <span class='kw1'>return</span> dateTimeFormat;
    <span class='kw1'>if</span> <span class='opr'>(</span>formatService !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>DateTimeFormat dateTimeFormat <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span><span class='opr'>(</span>formatService.getFormat<span class='opr'>(</span><span class='kw2'>typeid</span><span class='opr'>(</span>DateTimeFormat<span class='opr'>)</span><span class='opr'>)</span><span class='opr'>)</span><span class='opr'>)</span>
        <span class='kw1'>return</span> dateTimeFormat;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> current;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_current)
   * $(I Property.) Retrieves a read-only DateTimeFormat instance from the current culture.
   * Returns: A read-only DateTimeFormat instance from the current culture.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTimeFormat current<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Culture.current.dateTimeFormat;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_invariantFormat)
   * $(I Property.) Retrieves a read-only DateTimeFormat instance that is culturally independent.
   * Returns: A read-only DateTimeFormat instance that is culturally independent.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTimeFormat invariantFormat<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>invariantFormat_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
      invariantFormat_ <span class='opr'>=</span> <span class='kw2'>new</span> DateTimeFormat;
      invariantFormat_.calendar.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;
      invariantFormat_.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>true</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> invariantFormat_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_isReadOnly)
   * $(I Property.) Retrieves a value indicating whether the instance is read-only.
   * Returns: true is the instance is read-only; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>bool</span> isReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isReadOnly_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the calendar used by the current culture.
   * Returns: The Calendar determining the calendar used by the current culture. For example, the GregorianCalendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> Calendar calendar<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>calendar_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> calendar_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_calendar)
   * $(I Property.) Assigns the calendar to be used by the current culture.
   * Params: value = The Calendar determining the calendar to be used by the current culture.
   * Exceptions: If value is not valid for the current culture, an Exception is thrown.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> calendar<span class='opr'>(</span>Calendar value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>value !<span class='kw2'>is</span> calendar_<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>for</span> <span class='opr'>(</span><span class='kw4'>int</span> i <span class='opr'>=</span> <span class='nbr'>0</span>; i <span class='opr'>&lt;</span> optionalCalendars.length; i<span class='opr'>+</span><span class='opr'>+</span><span class='opr'>)</span> <span class='opr'>{</span>
        <span class='kw1'>if</span> <span class='opr'>(</span>optionalCalendars<span class='opr'>[</span>i<span class='opr'>]</span> <span class='opr'>=</span><span class='opr'>=</span> value.id<span class='opr'>)</span> <span class='opr'>{</span>
          <span class='kw1'>if</span> <span class='opr'>(</span>calendar_ !<span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
            <span class='com'>// Clear current properties.</span>
            shortDatePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            longDatePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            shortTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            yearMonthPattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            monthDayPattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            generalShortTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            generalLongTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            fullDateTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            shortDatePatterns_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            longDatePatterns_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            yearMonthPatterns_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            abbreviatedDayNames_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            abbreviatedMonthNames_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            dayNames_ <span class='opr'>=</span> <span class='kw2'>null</span>;
            monthNames_ <span class='opr'>=</span> <span class='kw2'>null</span>;
          <span class='opr'>}</span>
          calendar_ <span class='opr'>=</span> value;
          initialize<span class='opr'>(</span><span class='opr'>)</span>;
          <span class='kw1'>return</span>;
        <span class='opr'>}</span>
      <span class='opr'>}</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Not a valid calendar for the culture.&quot;</span><span class='opr'>)</span>;
    <span class='opr'>}</span>
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_firstDayOfWeek)
   * $(I Property.) Retrieves the first day of the week.
   * Returns: A DayOfWeek value indicating the first day of the week.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> DayOfWeek firstDayOfWeek<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>DayOfWeek<span class='opr'>)</span>firstDayOfWeek_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the first day of the week.
   * Params: valie = A DayOfWeek value indicating the first day of the week.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> firstDayOfWeek<span class='opr'>(</span>DayOfWeek value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    firstDayOfWeek_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_calendarWeekRule)
   * $(I Property.) Retrieves the _value indicating the rule used to determine the first week of the year.
   * Returns: A CalendarWeekRule _value determining the first week of the year.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> CalendarWeekRule calendarWeekRule<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>CalendarWeekRule<span class='opr'>)</span>calendarWeekRule_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the _value indicating the rule used to determine the first week of the year.
   * Params: value = A CalendarWeekRule _value determining the first week of the year.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> calendarWeekRule<span class='opr'>(</span>CalendarWeekRule value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    calendarWeekRule_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_nativeCalendarName)
   * $(I Property.) Retrieves the native name of the calendar associated with the current instance.
   * Returns: The native name of the calendar associated with the current instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> nativeCalendarName<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cultureData_.nativeCalName;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_dateSeparator)
   * $(I Property.) Retrieves the string separating date components.
   * Returns: The string separating date components.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> dateSeparator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>dateSeparator_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      dateSeparator_ <span class='opr'>=</span> cultureData_.date;
    <span class='kw1'>return</span> dateSeparator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string separating date components.
   * Params: value = The string separating date components.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> dateSeparator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    dateSeparator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_timeSeparator)
   * $(I Property.) Retrieves the string separating time components.
   * Returns: The string separating time components.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> timeSeparator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>timeSeparator_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      timeSeparator_ <span class='opr'>=</span> cultureData_.time;
    <span class='kw1'>return</span> timeSeparator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string separating time components.
   * Params: value = The string separating time components.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> timeSeparator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    timeSeparator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_amDesignator)
   * $(I Property.) Retrieves the string designator for hours before noon.
   * Returns: The string designator for hours before noon. For example, &quot;AM&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> amDesignator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>amDesignator_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> amDesignator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string designator for hours before noon.
   * Params: value = The string designator for hours before noon.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> amDesignator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    amDesignator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_pmDesignator)
   * $(I Property.) Retrieves the string designator for hours after noon.
   * Returns: The string designator for hours after noon. For example, &quot;PM&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> pmDesignator<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>pmDesignator_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> pmDesignator_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the string designator for hours after noon.
   * Params: value = The string designator for hours after noon.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> pmDesignator<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    pmDesignator_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_shortDatePattern)
   * $(I Property.) Retrieves the format pattern for a short date value.
   * Returns: The format pattern for a short date value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> shortDatePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>shortDatePattern_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> shortDatePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a short date _value.
   * Params: value = The format pattern for a short date _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> shortDatePattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>shortDatePatterns_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      shortDatePatterns_<span class='opr'>[</span><span class='nbr'>0</span><span class='opr'>]</span> <span class='opr'>=</span> value;
    shortDatePattern_ <span class='opr'>=</span> value;
    generalLongTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
    generalShortTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_shortTimePattern)
   * $(I Property.) Retrieves the format pattern for a short time value.
   * Returns: The format pattern for a short time value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> shortTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>shortTimePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      shortTimePattern_ <span class='opr'>=</span> cultureData_.shortTime;
    <span class='kw1'>return</span> shortTimePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a short time _value.
   * Params: value = The format pattern for a short time _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> shortTimePattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    shortTimePattern_ <span class='opr'>=</span> value;
    generalShortTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_longDatePattern)
   * $(I Property.) Retrieves the format pattern for a long date value.
   * Returns: The format pattern for a long date value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> longDatePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>longDatePattern_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> longDatePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a long date _value.
   * Params: value = The format pattern for a long date _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> longDatePattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>longDatePatterns_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      longDatePatterns_<span class='opr'>[</span><span class='nbr'>0</span><span class='opr'>]</span> <span class='opr'>=</span> value;
    longDatePattern_ <span class='opr'>=</span> value;
    fullDateTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_longTimePattern)
   * $(I Property.) Retrieves the format pattern for a long time value.
   * Returns: The format pattern for a long time value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> longTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>longTimePattern_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> longTimePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a long time _value.
   * Params: value = The format pattern for a long time _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> longTimePattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    longTimePattern_ <span class='opr'>=</span> value;
    fullDateTimePattern_ <span class='opr'>=</span> <span class='kw2'>null</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_monthDayPattern)
   * $(I Property.) Retrieves the format pattern for a month and day value.
   * Returns: The format pattern for a month and day value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> monthDayPattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>monthDayPattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      monthDayPattern_ <span class='opr'>=</span> cultureData_.monthDay;
    <span class='kw1'>return</span> monthDayPattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a month and day _value.
   * Params: value = The format pattern for a month and day _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> monthDayPattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    monthDayPattern_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_yearMonthPattern)
   * $(I Property.) Retrieves the format pattern for a year and month value.
   * Returns: The format pattern for a year and month value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> yearMonthPattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw2'>assert</span><span class='opr'>(</span>yearMonthPattern_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> yearMonthPattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a year and month _value.
   * Params: value = The format pattern for a year and month _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> yearMonthPattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    yearMonthPattern_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_abbreviatedDayNames)
   * $(I Property.) Retrieves a string array containing the abbreviated names of the days of the week.
   * Returns: A string array containing the abbreviated names of the days of the week. For $(LINK2 #DateTimeFormat_invariantFormat, invariantFormat),
   *   this contains &quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot; and &quot;Sat&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> abbreviatedDayNames<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>abbreviatedDayNames_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      abbreviatedDayNames_ <span class='opr'>=</span> cultureData_.abbrevDayNames;
    <span class='kw1'>return</span> abbreviatedDayNames_.dup;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a string array containing the abbreviated names of the days of the week.
   * Params: value = A string array containing the abbreviated names of the days of the week.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> abbreviatedDayNames<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    abbreviatedDayNames_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_dayNames)
   * $(I Property.) Retrieves a string array containing the full names of the days of the week.
   * Returns: A string array containing the full names of the days of the week. For $(LINK2 #DateTimeFormat_invariantFormat, invariantFormat),
   *   this contains &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot; and &quot;Saturday&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> dayNames<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>dayNames_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      dayNames_ <span class='opr'>=</span> cultureData_.dayNames;
    <span class='kw1'>return</span> dayNames_.dup;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a string array containing the full names of the days of the week.
   * Params: value = A string array containing the full names of the days of the week.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> dayNames<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    dayNames_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_abbreviatedMonthNames)
   * $(I Property.) Retrieves a string array containing the abbreviated names of the months.
   * Returns: A string array containing the abbreviated names of the months. For $(LINK2 #DateTimeFormat_invariantFormat, invariantFormat),
   *   this contains &quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot; and &quot;&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> abbreviatedMonthNames<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>abbreviatedMonthNames_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      abbreviatedMonthNames_ <span class='opr'>=</span> cultureData_.abbrevMonthNames;
    <span class='kw1'>return</span> abbreviatedMonthNames_.dup;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a string array containing the abbreviated names of the months.
   * Params: value = A string array containing the abbreviated names of the months.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> abbreviatedMonthNames<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    abbreviatedMonthNames_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_monthNames)
   * $(I Property.) Retrieves a string array containing the full names of the months.
   * Returns: A string array containing the full names of the months. For $(LINK2 #DateTimeFormat_invariantFormat, invariantFormat),
   *   this contains &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot; and &quot;&quot;.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> monthNames<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>monthNames_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      monthNames_ <span class='opr'>=</span> cultureData_.monthNames;
    <span class='kw1'>return</span> monthNames_.dup;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns a string array containing the full names of the months.
   * Params: value = A string array containing the full names of the months.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> monthNames<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    monthNames_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_fullDateTimePattern)
   * $(I Property.) Retrieves the format pattern for a long date and a long time value.
   * Returns: The format pattern for a long date and a long time value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> fullDateTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>fullDateTimePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      fullDateTimePattern_ <span class='opr'>=</span> longDatePattern <span class='opr'>~</span> <span class='str'>&quot; &quot;</span> <span class='opr'>~</span> longTimePattern;
    <span class='kw1'>return</span> fullDateTimePattern_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the format pattern for a long date and a long time _value.
   * Params: value = The format pattern for a long date and a long time _value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>void</span> fullDateTimePattern<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    fullDateTimePattern_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_rfc1123Pattern)
   * $(I Property.) Retrieves the format pattern based on the IETF RFC 1123 specification, for a time value.
   * Returns: The format pattern based on the IETF RFC 1123 specification, for a time value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> rfc1123Pattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> rfc1123Pattern_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_sortableDateTimePattern)
   * $(I Property.) Retrieves the format pattern for a sortable date and time value.
   * Returns: The format pattern for a sortable date and time value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> sortableDateTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> sortableDateTimePattern_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(ANCHOR DateTimeFormat_universalSortableDateTimePattern)
   * $(I Property.) Retrieves the format pattern for a universal date and time value.
   * Returns: The format pattern for a universal date and time value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> universalSortableDateTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> universalSortableDateTimePattern_;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> generalShortTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>generalShortTimePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      generalShortTimePattern_ <span class='opr'>=</span> shortDatePattern <span class='opr'>~</span> <span class='str'>&quot; &quot;</span> <span class='opr'>~</span> shortTimePattern;
    <span class='kw1'>return</span> generalShortTimePattern_;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> generalLongTimePattern<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>generalLongTimePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      generalLongTimePattern_ <span class='opr'>=</span> shortDatePattern <span class='opr'>~</span> <span class='str'>&quot; &quot;</span> <span class='opr'>~</span> longTimePattern;
    <span class='kw1'>return</span> generalLongTimePattern_;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>void</span> checkReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>isReadOnly_<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;DateTimeFormat instance is read-only.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>void</span> initialize<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>longTimePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      longTimePattern_ <span class='opr'>=</span> cultureData_.longTime;
    <span class='kw1'>if</span> <span class='opr'>(</span>shortDatePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      shortDatePattern_ <span class='opr'>=</span> cultureData_.shortDate;
    <span class='kw1'>if</span> <span class='opr'>(</span>longDatePattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      longDatePattern_ <span class='opr'>=</span> cultureData_.longDate;
    <span class='kw1'>if</span> <span class='opr'>(</span>yearMonthPattern_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      yearMonthPattern_ <span class='opr'>=</span> cultureData_.yearMonth;
    <span class='kw1'>if</span> <span class='opr'>(</span>amDesignator_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      amDesignator_ <span class='opr'>=</span> cultureData_.am;
    <span class='kw1'>if</span> <span class='opr'>(</span>pmDesignator_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      pmDesignator_ <span class='opr'>=</span> cultureData_.pm;
    <span class='kw1'>if</span> <span class='opr'>(</span>firstDayOfWeek_ <span class='opr'>=</span><span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span><span class='opr'>)</span>
      firstDayOfWeek_ <span class='opr'>=</span> cultureData_.firstDayOfWeek;
    <span class='kw1'>if</span> <span class='opr'>(</span>calendarWeekRule_ <span class='opr'>=</span><span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span><span class='opr'>)</span>
      calendarWeekRule_ <span class='opr'>=</span> cultureData_.firstDayOfYear;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> optionalCalendars<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>optionalCalendars_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      optionalCalendars_ <span class='opr'>=</span> cultureData_.optionalCalendars;
    <span class='kw1'>return</span> optionalCalendars_;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='kw4'>package</span> <span class='kw4'>struct</span> EraRange <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> EraRange<span class='opr'>[</span><span class='opr'>]</span><span class='opr'>[</span><span class='kw4'>int</span><span class='opr'>]</span> eraRanges;
  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='kw4'>int</span><span class='opr'>]</span> currentEras;
  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>bool</span> initialized_;

  <span class='kw4'>package</span> <span class='kw4'>int</span> era;
  <span class='kw4'>package</span> <span class='kw4'>ulong</span> ticks;
  <span class='kw4'>package</span> <span class='kw4'>int</span> yearOffset;
  <span class='kw4'>package</span> <span class='kw4'>int</span> minEraYear;
  <span class='kw4'>package</span> <span class='kw4'>int</span> maxEraYear;

  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>void</span> initialize<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>!initialized_<span class='opr'>)</span> <span class='opr'>{</span>
      eraRanges<span class='opr'>[</span>Calendar.JAPAN<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>4</span>, DateTime<span class='opr'>(</span><span class='nbr'>1989</span>, <span class='nbr'>1</span>, <span class='nbr'>8</span><span class='opr'>)</span>.ticks, <span class='nbr'>1988</span>, <span class='nbr'>1</span>, GregorianCalendar.MAX_YEAR<span class='opr'>)</span>;
      eraRanges<span class='opr'>[</span>Calendar.JAPAN<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>3</span>, DateTime<span class='opr'>(</span><span class='nbr'>1926</span>, <span class='nbr'>12</span>, <span class='nbr'>25</span><span class='opr'>)</span>.ticks, <span class='nbr'>1925</span>, <span class='nbr'>1</span>, <span class='nbr'>1989</span><span class='opr'>)</span>;
      eraRanges<span class='opr'>[</span>Calendar.JAPAN<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>2</span>, DateTime<span class='opr'>(</span><span class='nbr'>1912</span>, <span class='nbr'>7</span>, <span class='nbr'>30</span><span class='opr'>)</span>.ticks, <span class='nbr'>1911</span>, <span class='nbr'>1</span>, <span class='nbr'>1926</span><span class='opr'>)</span>;
      eraRanges<span class='opr'>[</span>Calendar.JAPAN<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>1</span>, DateTime<span class='opr'>(</span><span class='nbr'>1868</span>, <span class='nbr'>9</span>, <span class='nbr'>8</span><span class='opr'>)</span>.ticks, <span class='nbr'>1867</span>, <span class='nbr'>1</span>, <span class='nbr'>1912</span><span class='opr'>)</span>;
      eraRanges<span class='opr'>[</span>Calendar.TAIWAN<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>1</span>, DateTime<span class='opr'>(</span><span class='nbr'>1912</span>, <span class='nbr'>1</span>, <span class='nbr'>1</span><span class='opr'>)</span>.ticks, <span class='nbr'>1911</span>, <span class='nbr'>1</span>, GregorianCalendar.MAX_YEAR<span class='opr'>)</span>;
      eraRanges<span class='opr'>[</span>Calendar.KOREA<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>1</span>, DateTime<span class='opr'>(</span><span class='nbr'>1</span>, <span class='nbr'>1</span>, <span class='nbr'>1</span><span class='opr'>)</span>.ticks, <span class='opr'>-</span><span class='nbr'>2333</span>, <span class='nbr'>2334</span>, GregorianCalendar.MAX_YEAR<span class='opr'>)</span>;
      eraRanges<span class='opr'>[</span>Calendar.THAI<span class='opr'>]</span> <span class='opr'>~=</span> EraRange<span class='opr'>(</span><span class='nbr'>1</span>, DateTime<span class='opr'>(</span><span class='nbr'>1</span>, <span class='nbr'>1</span>, <span class='nbr'>1</span><span class='opr'>)</span>.ticks, <span class='opr'>-</span><span class='nbr'>543</span>, <span class='nbr'>544</span>, GregorianCalendar.MAX_YEAR<span class='opr'>)</span>;
      currentEras<span class='opr'>[</span>Calendar.JAPAN<span class='opr'>]</span> <span class='opr'>=</span> <span class='nbr'>4</span>;
      currentEras<span class='opr'>[</span>Calendar.TAIWAN<span class='opr'>]</span> <span class='opr'>=</span> <span class='nbr'>1</span>;
      currentEras<span class='opr'>[</span>Calendar.KOREA<span class='opr'>]</span> <span class='opr'>=</span> <span class='nbr'>1</span>;
      currentEras<span class='opr'>[</span>Calendar.THAI<span class='opr'>]</span> <span class='opr'>=</span> <span class='nbr'>1</span>;
      initialized_ <span class='opr'>=</span> <span class='kw2'>true</span>;
    <span class='opr'>}</span>
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>static</span> EraRange<span class='opr'>[</span><span class='opr'>]</span> getEraRanges<span class='opr'>(</span><span class='kw4'>int</span> calID<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>!initialized_<span class='opr'>)</span>
      initialize<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> eraRanges<span class='opr'>[</span>calID<span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>static</span> <span class='kw4'>int</span> getCurrentEra<span class='opr'>(</span><span class='kw4'>int</span> calID<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>!initialized_<span class='opr'>)</span>
      initialize<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> currentEras<span class='opr'>[</span>calID<span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> EraRange opCall<span class='opr'>(</span><span class='kw4'>int</span> era, <span class='kw4'>ulong</span> ticks, <span class='kw4'>int</span> yearOffset, <span class='kw4'>int</span> minEraYear, <span class='kw4'>int</span> prevEraYear<span class='opr'>)</span> <span class='opr'>{</span>
    EraRange eraRange;
    eraRange.era <span class='opr'>=</span> era;
    eraRange.ticks <span class='opr'>=</span> ticks;
    eraRange.yearOffset <span class='opr'>=</span> yearOffset;
    eraRange.minEraYear <span class='opr'>=</span> minEraYear;
    eraRange.maxEraYear <span class='opr'>=</span> prevEraYear <span class='opr'>-</span> yearOffset;
    <span class='kw1'>return</span> eraRange;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>// Calendars</span>
<span class='com'>// Apart from GreogrianCalendar, these are pretty much untested.</span>

<span class='com'>/**
 * $(ANCHOR _Calendar)
 * Represents time in week, month and year divisions.
 * Remarks: Calendar is the abstract base class for the following Calendar implementations: 
 *   $(LINK2 #GregorianCalendar, GregorianCalendar), $(LINK2 #HebrewCalendar, HebrewCalendar), $(LINK2 #HijriCalendar, HijriCalendar),
 *   $(LINK2 #JapaneseCalendar, JapaneseCalendar), $(LINK2 #KoreanCalendar, KoreanCalendar), $(LINK2 #TaiwanCalendar, TaiwanCalendar) and
 *   $(LINK2 #ThaiBuddhistCalendar, ThaiBuddhistCalendar).
 */</span>
<span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>class</span> Calendar <span class='opr'>{</span>

  <span class='com'>/**
   * Indicates the current era of the calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>const</span> <span class='kw4'>int</span> CURRENT_ERA <span class='opr'>=</span> <span class='nbr'>0</span>;

  <span class='kw4'>private</span> <span class='kw4'>int</span> currentEra_ <span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span>;
  <span class='kw4'>package</span> <span class='kw4'>bool</span> isReadOnly_;

  <span class='com'>/**
   * Creates a copy of the current instance.
   * Returns: A new Object that is a copy of the current instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw3'>Object</span> clone<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    Calendar other <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>Calendar<span class='opr'>)</span>cloneObject<span class='opr'>(</span><span class='kw2'>this</span><span class='opr'>)</span>;
    other.isReadOnly_ <span class='opr'>=</span> <span class='kw2'>false</span>;
    <span class='kw1'>return</span> other;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a DateTime value set to the specified date and time in the current era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   * Returns: The DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond, CURRENT_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * When overridden, returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span>;

  <span class='com'>/**
   * When overridden, returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span>;

  <span class='com'>/**
   * When overridden, returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span>;

  <span class='com'>/**
   * When overridden, returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span>;

  <span class='com'>/**
   * When overridden, returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span>;

  <span class='com'>/**
   * When overridden, returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span>;

  <span class='com'>/**
   * When overridden, returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span>;

  <span class='com'>/**
   * Returns the number of days in the specified _year and _month of the current era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   * Returns: The number of days in the specified _year and _month of the current era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> getDaysInMonth<span class='opr'>(</span>year, month, CURRENT_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * When overridden, returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span>;

  <span class='com'>/**
   * Returns the number of days in the specified _year of the current era.
   * Params: year = An integer representing the _year.
   * Returns: The number of days in the specified _year in the current era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> getDaysInYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * When overridden, returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span>;

  <span class='com'>/**
   * Returns the number of months in the specified _year of the current era.
   * Params: year = An integer representing the _year.
   * Returns: The number of months in the specified _year in the current era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> getMonthsInYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * When overridden, returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span>;

  <span class='com'>/**
   * Returns the week of the year that includes the specified DateTime.
   * Params:
   *   time = A DateTime value.
   *   rule = A CalendarWeekRule value defining a calendar week.
   *   firstDayOfWeek = A DayOfWeek value representing the first day of the week.
   * Returns: An integer representing the week of the year that includes the date in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> getWeekOfYear<span class='opr'>(</span>DateTime time, CalendarWeekRule rule, DayOfWeek firstDayOfWeek<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> year <span class='opr'>=</span> getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
    <span class='kw4'>int</span> jan1 <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>getDayOfWeek<span class='opr'>(</span>getDateTime<span class='opr'>(</span>year, <span class='nbr'>1</span>, <span class='nbr'>1</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span><span class='opr'>)</span><span class='opr'>)</span>;

    <span class='kw1'>switch</span> <span class='opr'>(</span>rule<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>case</span> CalendarWeekRule.FirstDay:
        <span class='kw4'>int</span> n <span class='opr'>=</span> jan1 <span class='opr'>-</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>firstDayOfWeek;
        <span class='kw1'>if</span> <span class='opr'>(</span>n <span class='opr'>&lt;</span> <span class='nbr'>0</span><span class='opr'>)</span>
          n <span class='opr'>+=</span> <span class='nbr'>7</span>;
        <span class='kw1'>return</span> <span class='opr'>(</span>getDayOfYear<span class='opr'>(</span>time<span class='opr'>)</span> <span class='opr'>+</span> n <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>)</span> / <span class='nbr'>7</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
      <span class='kw1'>case</span> CalendarWeekRule.FirstFullWeek:
      <span class='kw1'>case</span> CalendarWeekRule.FirstFourDayWeek:
        <span class='kw4'>int</span> fullDays <span class='opr'>=</span> <span class='opr'>(</span>rule <span class='opr'>=</span><span class='opr'>=</span> CalendarWeekRule.FirstFullWeek<span class='opr'>)</span> ? <span class='nbr'>7</span> : <span class='nbr'>4</span>;
        <span class='kw4'>int</span> n <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>firstDayOfWeek <span class='opr'>-</span> jan1;
        <span class='kw1'>if</span> <span class='opr'>(</span>n <span class='opr'>!=</span> <span class='nbr'>0</span><span class='opr'>)</span> <span class='opr'>{</span>
          <span class='kw1'>if</span> <span class='opr'>(</span>n <span class='opr'>&lt;</span> <span class='nbr'>0</span><span class='opr'>)</span>
            n <span class='opr'>+=</span> <span class='nbr'>7</span>;
          <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>n <span class='opr'>&gt;</span><span class='opr'>=</span> fullDays<span class='opr'>)</span>
            n <span class='opr'>-=</span> <span class='nbr'>7</span>;
        <span class='opr'>}</span>
        <span class='kw4'>int</span> day <span class='opr'>=</span> getDayOfYear<span class='opr'>(</span>time<span class='opr'>)</span> <span class='opr'>-</span> n;
        <span class='kw1'>if</span> <span class='opr'>(</span>day <span class='opr'>&gt;</span> <span class='nbr'>0</span><span class='opr'>)</span>
          <span class='kw1'>return</span> <span class='opr'>(</span>day <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>)</span> / <span class='nbr'>7</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
        year <span class='opr'>=</span> getYear<span class='opr'>(</span>time<span class='opr'>)</span> <span class='opr'>-</span> <span class='nbr'>1</span>;
        <span class='kw4'>int</span> month <span class='opr'>=</span> getMonthsInYear<span class='opr'>(</span>year<span class='opr'>)</span>;
        day <span class='opr'>=</span> getDaysInMonth<span class='opr'>(</span>year, month<span class='opr'>)</span>;
        <span class='kw1'>return</span> getWeekOfYear<span class='opr'>(</span>getDateTime<span class='opr'>(</span>year, month, day, <span class='nbr'>0</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span><span class='opr'>)</span>, rule, firstDayOfWeek<span class='opr'>)</span>;
      <span class='kw2'>default</span>:
        <span class='kw1'>break</span>;
    <span class='opr'>}</span>
    <span class='com'>// To satisfy -w</span>
    <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value was out of range.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Indicates whether the specified _year in the current era is a leap _year.
   * Params: year = An integer representing the _year.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isLeapYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * When overridden, indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span>;

  <span class='com'>/**
   * $(I Property.) When overridden, retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>abstract</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span>;

  <span class='com'>/**
   * $(I Property.) Retreives a value indicating whether the instance is read-only.
   * Returns: true if the instance is read-only; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>final</span> <span class='kw4'>bool</span> isReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isReadOnly_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>-</span><span class='nbr'>1</span>;
  <span class='opr'>}</span>

  <span class='kw4'>protected</span> <span class='kw4'>int</span> currentEra<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>currentEra_ <span class='opr'>=</span><span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>1</span><span class='opr'>)</span>
      currentEra_ <span class='opr'>=</span> EraRange.getCurrentEra<span class='opr'>(</span>id<span class='opr'>)</span>;
    <span class='kw1'>return</span> currentEra_;
  <span class='opr'>}</span>

  <span class='com'>// Corresponds to Win32 calendar IDs</span>
  <span class='kw4'>package</span> <span class='kw4'>enum</span> <span class='opr'>{</span>
    GREGORIAN <span class='opr'>=</span> <span class='nbr'>1</span>,
    GREGORIAN_US <span class='opr'>=</span> <span class='nbr'>2</span>,
    JAPAN <span class='opr'>=</span> <span class='nbr'>3</span>,
    TAIWAN <span class='opr'>=</span> <span class='nbr'>4</span>,
    KOREA <span class='opr'>=</span> <span class='nbr'>5</span>,
    HIJRI <span class='opr'>=</span> <span class='nbr'>6</span>,
    THAI <span class='opr'>=</span> <span class='nbr'>7</span>,
    HEBREW <span class='opr'>=</span> <span class='nbr'>8</span>,
    GREGORIAN_ME_FRENCH <span class='opr'>=</span> <span class='nbr'>9</span>,
    GREGORIAN_ARABIC <span class='opr'>=</span> <span class='nbr'>10</span>,
    GREGORIAN_XLIT_ENGLISH <span class='opr'>=</span> <span class='nbr'>11</span>,
    GREGORIAN_XLIT_FRENCH <span class='opr'>=</span> <span class='nbr'>12</span>
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _GregorianCalendar)
 * Represents the Gregorian calendar.
*/</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> GregorianCalendar : Calendar <span class='opr'>{</span>

  <span class='com'>/**
   * Represents the current era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>const</span> <span class='kw4'>int</span> AD_ERA <span class='opr'>=</span> <span class='nbr'>1</span>;

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> MAX_YEAR <span class='opr'>=</span> <span class='nbr'>9999</span>;

  <span class='kw4'>private</span> <span class='kw4'>static</span> Calendar defaultInstance_;
  <span class='kw4'>private</span> GregorianCalendarTypes type_;

  <span class='com'>/**
   * Initializes an instance of the GregorianCalendar class using the specified GregorianCalendarTypes value. If no value is 
   * specified, the default is GregorianCalendarTypes.Localized.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span>GregorianCalendarTypes type <span class='opr'>=</span> GregorianCalendarTypes.Localized<span class='opr'>)</span> <span class='opr'>{</span>
    type_ <span class='opr'>=</span> type;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>DayOfWeek<span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>7</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.DAY_OF_YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.MONTH<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> AD_ERA;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> monthDays <span class='opr'>=</span> <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>4</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span> &amp;&amp; <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>100</span> <span class='opr'>!=</span> <span class='nbr'>0</span> || year <span class='opr'>%</span> <span class='nbr'>400</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span><span class='opr'>)</span> ? DAYS_TO_MONTH_LEAP : DAYS_TO_MONTH_COMMON;
    <span class='kw1'>return</span> monthDays<span class='opr'>[</span>month<span class='opr'>]</span> <span class='opr'>-</span> monthDays<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span> ? <span class='nbr'>366</span> : <span class='nbr'>365</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='nbr'>12</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>4</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span> &amp;&amp; <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>100</span> <span class='opr'>!=</span> <span class='nbr'>0</span> || year <span class='opr'>%</span> <span class='nbr'>400</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the GregorianCalendarTypes value indicating the language version of the GregorianCalendar.
   * Returns: The GregorianCalendarTypes value indicating the language version of the GregorianCalendar.
   */</span>
  <span class='kw4'>public</span> GregorianCalendarTypes calendarType<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> type_;
  <span class='opr'>}</span>
  <span class='com'>/**
   * $(I Property.) Assigns the GregorianCalendarTypes _value indicating the language version of the GregorianCalendar.
   * Params: value = The GregorianCalendarTypes _value indicating the language version of the GregorianCalendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>void</span> calendarType<span class='opr'>(</span>GregorianCalendarTypes value<span class='opr'>)</span> <span class='opr'>{</span>
    checkReadOnly<span class='opr'>(</span><span class='opr'>)</span>;
    type_ <span class='opr'>=</span> value;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> arrayOf!<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>AD_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>type_;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>static</span> Calendar getDefaultInstance<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>defaultInstance_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      defaultInstance_ <span class='opr'>=</span> <span class='kw2'>new</span> GregorianCalendar;
    <span class='kw1'>return</span> defaultInstance_;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>void</span> checkReadOnly<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>isReadOnly_<span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Calendar instance is read-only.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='kw4'>private</span> <span class='kw4'>class</span> GregorianBasedCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> EraRange<span class='opr'>[</span><span class='opr'>]</span> eraRanges_;
  <span class='kw4'>private</span> <span class='kw4'>int</span> maxYear_, minYear_;

  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    year <span class='opr'>=</span> getGregorianYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>DayOfWeek<span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>7</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.DAY_OF_YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.MONTH<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>ulong</span> ticks <span class='opr'>=</span> time.ticks;
    <span class='kw4'>int</span> year <span class='opr'>=</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.YEAR<span class='opr'>)</span>;
    <span class='kw1'>foreach</span> <span class='opr'>(</span>EraRange eraRange; eraRanges_<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>ticks <span class='opr'>&gt;</span><span class='opr'>=</span> eraRange.ticks<span class='opr'>)</span>
        <span class='kw1'>return</span> year <span class='opr'>-</span> eraRange.yearOffset;
    <span class='opr'>}</span>
    <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value was out of range.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>ulong</span> ticks <span class='opr'>=</span> time.ticks;
    <span class='kw1'>foreach</span> <span class='opr'>(</span>EraRange eraRange; eraRanges_<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>ticks <span class='opr'>&gt;</span><span class='opr'>=</span> eraRange.ticks<span class='opr'>)</span>
        <span class='kw1'>return</span> eraRange.era;
    <span class='opr'>}</span>
    <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value was out of range.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> monthDays <span class='opr'>=</span> <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>4</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span> &amp;&amp; <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>100</span> <span class='opr'>!=</span> <span class='nbr'>0</span> || year <span class='opr'>%</span> <span class='nbr'>400</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span><span class='opr'>)</span> ? DAYS_TO_MONTH_LEAP : DAYS_TO_MONTH_COMMON;
    <span class='kw1'>return</span> monthDays<span class='opr'>[</span>month<span class='opr'>]</span> <span class='opr'>-</span> monthDays<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span> ? <span class='nbr'>366</span> : <span class='nbr'>365</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='nbr'>12</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>4</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span> &amp;&amp; <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>100</span> <span class='opr'>!=</span> <span class='nbr'>0</span> || year <span class='opr'>%</span> <span class='nbr'>400</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> result;
    <span class='kw1'>foreach</span> <span class='opr'>(</span>EraRange eraRange; eraRanges_<span class='opr'>)</span>
      result <span class='opr'>~=</span> eraRange.era;
    <span class='kw1'>return</span> result;
  <span class='opr'>}</span>

  <span class='kw4'>protected</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    eraRanges_ <span class='opr'>=</span> EraRange.getEraRanges<span class='opr'>(</span>id<span class='opr'>)</span>;
    maxYear_ <span class='opr'>=</span> eraRanges_<span class='opr'>[</span><span class='nbr'>0</span><span class='opr'>]</span>.maxEraYear;
    minYear_ <span class='opr'>=</span> eraRanges_<span class='opr'>[</span><span class='nbr'>0</span><span class='opr'>]</span>.minEraYear;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>int</span> getGregorianYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>era <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span>
      era <span class='opr'>=</span> currentEra;
    <span class='kw1'>foreach</span> <span class='opr'>(</span>EraRange eraRange; eraRanges_<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>era <span class='opr'>=</span><span class='opr'>=</span> eraRange.era<span class='opr'>)</span> <span class='opr'>{</span>
        <span class='kw1'>if</span> <span class='opr'>(</span>year <span class='opr'>&gt;</span><span class='opr'>=</span> eraRange.minEraYear &amp;&amp; year <span class='opr'>&lt;</span><span class='opr'>=</span> eraRange.maxEraYear<span class='opr'>)</span>
          <span class='kw1'>return</span> eraRange.yearOffset <span class='opr'>+</span> year;
        <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value was out of range.&quot;</span><span class='opr'>)</span>;
      <span class='opr'>}</span>
    <span class='opr'>}</span>
    <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Era value was not valid.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _JapaneseCalendar)
 * Represents the Japanese calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> JapaneseCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> GregorianBasedCalendar cal_;

  <span class='com'>/**
   * Initializes an instance of the JapaneseCalendar class.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    cal_ <span class='opr'>=</span> <span class='kw2'>new</span> GregorianBasedCalendar;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfWeek<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getEra<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInMonth<span class='opr'>(</span>year, month, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonthsInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.eras;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Calendar.JAPAN;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _TaiwanCalendar)
 * Represents the Taiwan calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> TaiwanCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> GregorianBasedCalendar cal_;

  <span class='com'>/**
   * Initializes a new instance of the TaiwanCalendar class.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    cal_ <span class='opr'>=</span> <span class='kw2'>new</span> GregorianBasedCalendar;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfWeek<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getEra<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInMonth<span class='opr'>(</span>year, month, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonthsInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.eras;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Calendar.TAIWAN;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/** 
 * $(ANCHOR _KoreanCalendar)
 * Represents the Korean calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> KoreanCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> GregorianBasedCalendar cal_;

  <span class='com'>/**
   * Initializes a new instance of the KoreanCalendar class.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    cal_ <span class='opr'>=</span> <span class='kw2'>new</span> GregorianBasedCalendar;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfWeek<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getEra<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInMonth<span class='opr'>(</span>year, month, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonthsInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.eras;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Calendar.KOREA;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _HijriCalendar)
 * Represents the Hijri calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> HijriCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>const</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> DAYS_TO_MONTH <span class='opr'>=</span> <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>59</span>, <span class='nbr'>89</span>, <span class='nbr'>118</span>, <span class='nbr'>148</span>, <span class='nbr'>177</span>, <span class='nbr'>207</span>, <span class='nbr'>236</span>, <span class='nbr'>266</span>, <span class='nbr'>295</span>, <span class='nbr'>325</span>, <span class='nbr'>355</span> <span class='opr'>]</span>;

  <span class='com'>/**
   * Represents the current era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>const</span> <span class='kw4'>int</span> HIJRI_ERA <span class='opr'>=</span> <span class='nbr'>1</span>;

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>daysSinceJan1<span class='opr'>(</span>year, month, day<span class='opr'>)</span> <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>*</span> TICKS_PER_DAY <span class='opr'>+</span> TimeSpan.getTicks<span class='opr'>(</span>hour, minute, second<span class='opr'>)</span> <span class='opr'>+</span> <span class='opr'>(</span>millisecond <span class='opr'>*</span> TICKS_PER_MILLISECOND<span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>DayOfWeek<span class='opr'>)</span><span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>7</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.DAY_OF_YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.MONTH<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>time.ticks, DatePart.YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> HIJRI_ERA;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>month <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>12</span><span class='opr'>)</span>
      <span class='kw1'>return</span> isLeapYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span> ? <span class='nbr'>30</span> : <span class='nbr'>29</span>;
    <span class='kw1'>return</span> <span class='opr'>(</span>month <span class='opr'>%</span> <span class='nbr'>2</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>1</span><span class='opr'>)</span> ? <span class='nbr'>30</span> : <span class='nbr'>29</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span> ? <span class='nbr'>355</span> : <span class='nbr'>354</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='nbr'>12</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span><span class='nbr'>14</span> <span class='opr'>+</span> <span class='nbr'>11</span> <span class='opr'>*</span> year<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>30</span> <span class='opr'>&lt;</span> <span class='nbr'>11</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> arrayOf!<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>HIJRI_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Calendar.HIJRI;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>long</span> daysToYear<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> cycle <span class='opr'>=</span> <span class='opr'>(</span><span class='opr'>(</span>year <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>)</span> / <span class='nbr'>30</span><span class='opr'>)</span> <span class='opr'>*</span> <span class='nbr'>30</span>;
    <span class='kw4'>int</span> remaining <span class='opr'>=</span> year <span class='opr'>-</span> cycle <span class='opr'>-</span> <span class='nbr'>1</span>;
    <span class='kw4'>long</span> days <span class='opr'>=</span> <span class='opr'>(</span><span class='opr'>(</span>cycle <span class='opr'>*</span> <span class='nbr'>10631L</span><span class='opr'>)</span> / <span class='nbr'>30L</span><span class='opr'>)</span> <span class='opr'>+</span> <span class='nbr'>227013L</span>;
    <span class='kw1'>while</span> <span class='opr'>(</span>remaining <span class='opr'>&gt;</span> <span class='nbr'>0</span><span class='opr'>)</span> <span class='opr'>{</span>
      days <span class='opr'>+=</span> <span class='nbr'>354</span> <span class='opr'>+</span> <span class='opr'>(</span>isLeapYear<span class='opr'>(</span>remaining, CURRENT_ERA<span class='opr'>)</span> ? <span class='nbr'>1</span> : <span class='nbr'>0</span><span class='opr'>)</span>;
      remaining<span class='opr'>-</span><span class='opr'>-</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> days;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>long</span> daysSinceJan1<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>long</span><span class='opr'>)</span><span class='opr'>(</span>daysToYear<span class='opr'>(</span>year<span class='opr'>)</span> <span class='opr'>+</span> DAYS_TO_MONTH<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span> <span class='opr'>+</span> day<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>int</span> extractPart<span class='opr'>(</span><span class='kw4'>ulong</span> ticks, DatePart part<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>long</span> days <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>long</span><span class='opr'>)</span><span class='opr'>(</span>ticks / TICKS_PER_DAY <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> year <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span><span class='opr'>(</span>days <span class='opr'>-</span> <span class='nbr'>227013</span><span class='opr'>)</span> <span class='opr'>*</span> <span class='nbr'>30</span><span class='opr'>)</span> / <span class='nbr'>10631</span><span class='opr'>)</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
    <span class='kw4'>long</span> daysUpToYear <span class='opr'>=</span> daysToYear<span class='opr'>(</span>year<span class='opr'>)</span>;
    <span class='kw4'>long</span> daysInYear <span class='opr'>=</span> getDaysInYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>days <span class='opr'>&lt;</span> daysUpToYear<span class='opr'>)</span> <span class='opr'>{</span>
      daysUpToYear <span class='opr'>-=</span> daysInYear;
      year<span class='opr'>-</span><span class='opr'>-</span>;
    <span class='opr'>}</span>
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>days <span class='opr'>=</span><span class='opr'>=</span> daysUpToYear<span class='opr'>)</span> <span class='opr'>{</span>
      year<span class='opr'>-</span><span class='opr'>-</span>;
      daysUpToYear <span class='opr'>-=</span> getDaysInYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>days <span class='opr'>&gt;</span> daysUpToYear <span class='opr'>+</span> daysInYear<span class='opr'>)</span> <span class='opr'>{</span>
      daysUpToYear <span class='opr'>+=</span> daysInYear;
      year<span class='opr'>+</span><span class='opr'>+</span>;
    <span class='opr'>}</span>

    <span class='kw1'>if</span> <span class='opr'>(</span>part <span class='opr'>=</span><span class='opr'>=</span> DatePart.YEAR<span class='opr'>)</span>
      <span class='kw1'>return</span> year;

    days <span class='opr'>-=</span> daysUpToYear;
    <span class='kw1'>if</span> <span class='opr'>(</span>part <span class='opr'>=</span><span class='opr'>=</span> DatePart.DAY_OF_YEAR<span class='opr'>)</span>
      <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>days;

    <span class='kw4'>int</span> month <span class='opr'>=</span> <span class='nbr'>1</span>;
    <span class='kw1'>while</span> <span class='opr'>(</span>month <span class='opr'>&lt;</span><span class='opr'>=</span> <span class='nbr'>12</span> &amp;&amp; days <span class='opr'>&gt;</span> DAYS_TO_MONTH<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span><span class='opr'>)</span>
      month<span class='opr'>+</span><span class='opr'>+</span>;
    month<span class='opr'>-</span><span class='opr'>-</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>part <span class='opr'>=</span><span class='opr'>=</span> DatePart.MONTH<span class='opr'>)</span>
      <span class='kw1'>return</span> month;

    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>days <span class='opr'>-</span> DAYS_TO_MONTH<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _ThaiBuddhistCalendar)
 * Represents the Thai Buddhist calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> ThaiBuddhistCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> GregorianBasedCalendar cal_;

  <span class='com'>/**
   * Initializes a new instance of the ThaiBuddhistCalendar class.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    cal_ <span class='opr'>=</span> <span class='kw2'>new</span> GregorianBasedCalendar;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfWeek<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDayOfYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonth<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getEra<span class='opr'>(</span>time<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInMonth<span class='opr'>(</span>year, month, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getDaysInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.getMonthsInYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> cal_.eras;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Calendar.THAI;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _HebrewCalendar)
 * Represents the Hebrew calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> HebrewCalendar : Calendar <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='nbr'>14</span><span class='opr'>]</span><span class='opr'>[</span><span class='nbr'>7</span><span class='opr'>]</span> MONTHDAYS <span class='opr'>=</span> <span class='opr'>[</span>
    <span class='com'>// month                                                    // year type</span>
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span>,  <span class='nbr'>0</span> <span class='opr'>]</span>, 
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>29</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>0</span> <span class='opr'>]</span>,   <span class='com'>// 1</span>
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>0</span> <span class='opr'>]</span>,   <span class='com'>// 2</span>
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>0</span> <span class='opr'>]</span>,   <span class='com'>// 3</span>
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>29</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span> <span class='opr'>]</span>,  <span class='com'>// 4</span>
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span> <span class='opr'>]</span>,  <span class='com'>// 5</span>
    <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span>, <span class='nbr'>30</span>, <span class='nbr'>29</span> <span class='opr'>]</span>   <span class='com'>// 6</span>
  <span class='opr'>]</span>;

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> YEAROF1AD <span class='opr'>=</span> <span class='nbr'>3760</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_TO_1AD <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>YEAROF1AD <span class='opr'>*</span> <span class='nbr'>365.2735</span><span class='opr'>)</span>;

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> PARTS_PER_HOUR <span class='opr'>=</span> <span class='nbr'>1080</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> PARTS_PER_DAY <span class='opr'>=</span> <span class='nbr'>24</span> <span class='opr'>*</span> PARTS_PER_HOUR;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_PER_MONTH <span class='opr'>=</span> <span class='nbr'>29</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_PER_MONTH_FRACTION <span class='opr'>=</span> <span class='nbr'>12</span> <span class='opr'>*</span> PARTS_PER_HOUR <span class='opr'>+</span> <span class='nbr'>793</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> PARTS_PER_MONTH <span class='opr'>=</span> DAYS_PER_MONTH <span class='opr'>*</span> PARTS_PER_DAY <span class='opr'>+</span> DAYS_PER_MONTH_FRACTION;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> FIRST_NEW_MOON <span class='opr'>=</span> <span class='nbr'>11</span> <span class='opr'>*</span> PARTS_PER_HOUR <span class='opr'>+</span> <span class='nbr'>204</span>;

  <span class='kw4'>private</span> <span class='kw4'>int</span> minYear_ <span class='opr'>=</span> YEAROF1AD <span class='opr'>+</span> <span class='nbr'>1583</span>;
  <span class='kw4'>private</span> <span class='kw4'>int</span> maxYear_ <span class='opr'>=</span> YEAROF1AD <span class='opr'>+</span> <span class='nbr'>2240</span>;

  <span class='com'>/**
   * Represents the current era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>const</span> <span class='kw4'>int</span> HEBREW_ERA <span class='opr'>=</span> <span class='nbr'>1</span>;

  <span class='com'>/**
   * Overridden. Returns a DateTime value set to the specified date and time in the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   day = An integer representing the _day.
   *   hour = An integer representing the _hour.
   *   minute = An integer representing the _minute.
   *   second = An integer representing the _second.
   *   millisecond = An integer representing the _millisecond.
   *   era = An integer representing the _era.
   * Returns: A DateTime set to the specified date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DateTime getDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    checkYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
    <span class='kw1'>return</span> getGregorianDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the week in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: A DayOfWeek value representing the day of the week of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> DayOfWeek getDayOfWeek<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>DayOfWeek<span class='opr'>)</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>7</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the month of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> year <span class='opr'>=</span> getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
    <span class='kw4'>int</span> yearType <span class='opr'>=</span> getYearType<span class='opr'>(</span>year<span class='opr'>)</span>;
    <span class='kw4'>int</span> days <span class='opr'>=</span> getStartOfYear<span class='opr'>(</span>year<span class='opr'>)</span> <span class='opr'>-</span> DAYS_TO_1AD;
    <span class='kw4'>int</span> day <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY<span class='opr'>)</span> <span class='opr'>-</span> days;
    <span class='kw4'>int</span> n;
    <span class='kw1'>while</span> <span class='opr'>(</span>n <span class='opr'>&lt;</span> <span class='nbr'>12</span> &amp;&amp; day <span class='opr'>&gt;</span><span class='opr'>=</span> MONTHDAYS<span class='opr'>[</span>yearType<span class='opr'>]</span><span class='opr'>[</span>n <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>]</span><span class='opr'>)</span> <span class='opr'>{</span>
      day <span class='opr'>-=</span> MONTHDAYS<span class='opr'>[</span>yearType<span class='opr'>]</span><span class='opr'>[</span>n <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>]</span>;
      n<span class='opr'>+</span><span class='opr'>+</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> day <span class='opr'>+</span> <span class='nbr'>1</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the day of the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the day of the year of time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDayOfYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> year <span class='opr'>=</span> getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
    <span class='kw4'>int</span> days <span class='opr'>=</span> getStartOfYear<span class='opr'>(</span>year<span class='opr'>)</span> <span class='opr'>-</span> DAYS_TO_1AD;
    <span class='kw1'>return</span> <span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY<span class='opr'>)</span> <span class='opr'>-</span> days<span class='opr'>)</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the month in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the month in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonth<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> year <span class='opr'>=</span> getYear<span class='opr'>(</span>time<span class='opr'>)</span>;
    <span class='kw4'>int</span> yearType <span class='opr'>=</span> getYearType<span class='opr'>(</span>year<span class='opr'>)</span>;
    <span class='kw4'>int</span> days <span class='opr'>=</span> getStartOfYear<span class='opr'>(</span>year<span class='opr'>)</span> <span class='opr'>-</span> DAYS_TO_1AD;
    <span class='kw4'>int</span> day <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY<span class='opr'>)</span> <span class='opr'>-</span> days;
    <span class='kw4'>int</span> n;
    <span class='kw1'>while</span> <span class='opr'>(</span>n <span class='opr'>&lt;</span> <span class='nbr'>12</span> &amp;&amp; day <span class='opr'>&gt;</span><span class='opr'>=</span> MONTHDAYS<span class='opr'>[</span>yearType<span class='opr'>]</span><span class='opr'>[</span>n <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>]</span><span class='opr'>)</span> <span class='opr'>{</span>
      day <span class='opr'>-=</span> MONTHDAYS<span class='opr'>[</span>yearType<span class='opr'>]</span><span class='opr'>[</span>n <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>]</span>;
      n<span class='opr'>+</span><span class='opr'>+</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> n <span class='opr'>+</span> <span class='nbr'>1</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the year in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the year in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getYear<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> day <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>time.ticks / TICKS_PER_DAY<span class='opr'>)</span> <span class='opr'>+</span> DAYS_TO_1AD;
    <span class='kw4'>int</span> low <span class='opr'>=</span> minYear_, high <span class='opr'>=</span> maxYear_;
    <span class='com'>// Perform a binary search.</span>
    <span class='kw1'>while</span> <span class='opr'>(</span>low <span class='opr'>&lt;</span><span class='opr'>=</span> high<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw4'>int</span> mid <span class='opr'>=</span> low <span class='opr'>+</span> <span class='opr'>(</span>high <span class='opr'>-</span> low<span class='opr'>)</span> / <span class='nbr'>2</span>;
      <span class='kw4'>int</span> startDay <span class='opr'>=</span> getStartOfYear<span class='opr'>(</span>mid<span class='opr'>)</span>;
      <span class='kw1'>if</span> <span class='opr'>(</span>day <span class='opr'>&lt;</span> startDay<span class='opr'>)</span>
        high <span class='opr'>=</span> mid <span class='opr'>-</span> <span class='nbr'>1</span>;
      <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>day <span class='opr'>&gt;</span><span class='opr'>=</span> startDay &amp;&amp; day <span class='opr'>&lt;</span> getStartOfYear<span class='opr'>(</span>mid <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span><span class='opr'>)</span>
        <span class='kw1'>return</span> mid;
      <span class='kw1'>else</span>
        low <span class='opr'>=</span> mid <span class='opr'>+</span> <span class='nbr'>1</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> low;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the era in the specified DateTime.
   * Params: time = A DateTime value.
   * Returns: An integer representing the ear in time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getEra<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> HEBREW_ERA;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year and _month of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   month = An integer representing the _month.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year and _month of the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    checkYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
    <span class='kw1'>return</span> MONTHDAYS<span class='opr'>[</span>getYearType<span class='opr'>(</span>year<span class='opr'>)</span><span class='opr'>]</span><span class='opr'>[</span>month<span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of days in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of days in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getDaysInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> getStartOfYear<span class='opr'>(</span>year <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>-</span> getStartOfYear<span class='opr'>(</span>year<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Returns the number of months in the specified _year of the specified _era.
   * Params:
   *   year = An integer representing the _year.
   *   era = An integer representing the _era.
   * Returns: The number of months in the specified _year in the specified _era.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> getMonthsInYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> isLeapYear<span class='opr'>(</span>year, era<span class='opr'>)</span> ? <span class='nbr'>13</span> : <span class='nbr'>12</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Overridden. Indicates whether the specified _year in the specified _era is a leap _year.
   * Params: year = An integer representing the _year.
   * Params: era = An integer representing the _era.
   * Returns: true is the specified _year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    checkYear<span class='opr'>(</span>year, era<span class='opr'>)</span>;
    <span class='com'>// true if year % 19 == 0, 3, 6, 8, 11, 14, 17</span>
    <span class='kw1'>return</span> <span class='opr'>(</span><span class='opr'>(</span><span class='nbr'>7</span> <span class='opr'>*</span> year <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>19</span><span class='opr'>)</span> <span class='opr'>&lt;</span> <span class='nbr'>7</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the list of eras in the current calendar.
   * Returns: An integer array representing the eras in the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> eras<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> arrayOf!<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>HEBREW_ERA<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Overridden. Retrieves the identifier associated with the current calendar.
   * Returns: An integer representing the identifier of the current calendar.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>override</span> <span class='kw4'>int</span> id<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> Calendar.HEBREW;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>void</span> checkYear<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> era<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span><span class='opr'>(</span>era <span class='opr'>!=</span> CURRENT_ERA &amp;&amp; era <span class='opr'>!=</span> HEBREW_ERA<span class='opr'>)</span> || <span class='opr'>(</span>year <span class='opr'>&gt;</span> maxYear_ || year <span class='opr'>&lt;</span> minYear_<span class='opr'>)</span><span class='opr'>)</span>
      <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value was out of range.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>int</span> getYearType<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> yearLength <span class='opr'>=</span> getStartOfYear<span class='opr'>(</span>year <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>-</span> getStartOfYear<span class='opr'>(</span>year<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>yearLength <span class='opr'>&gt;</span> <span class='nbr'>380</span><span class='opr'>)</span>
      yearLength <span class='opr'>-=</span> <span class='nbr'>30</span>;
    <span class='kw1'>switch</span> <span class='opr'>(</span>yearLength<span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>case</span> <span class='nbr'>353</span>:
        <span class='com'>// &quot;deficient&quot;</span>
        <span class='kw1'>return</span> <span class='nbr'>0</span>;
      <span class='kw1'>case</span> <span class='nbr'>383</span>:
        <span class='com'>// &quot;deficient&quot; leap</span>
        <span class='kw1'>return</span> <span class='nbr'>4</span>;
      <span class='kw1'>case</span> <span class='nbr'>354</span>:
        <span class='com'>// &quot;normal&quot;</span>
        <span class='kw1'>return</span> <span class='nbr'>1</span>;
      <span class='kw1'>case</span> <span class='nbr'>384</span>:
        <span class='com'>// &quot;normal&quot; leap</span>
        <span class='kw1'>return</span> <span class='nbr'>5</span>;
      <span class='kw1'>case</span> <span class='nbr'>355</span>:
        <span class='com'>// &quot;complete&quot;</span>
        <span class='kw1'>return</span> <span class='nbr'>2</span>;
      <span class='kw1'>case</span> <span class='nbr'>385</span>:
        <span class='com'>// &quot;complete&quot; leap</span>
        <span class='kw1'>return</span> <span class='nbr'>6</span>;
      <span class='kw2'>default</span>:
        <span class='kw1'>break</span>;
    <span class='opr'>}</span>
    <span class='com'>// Satisfies -w</span>
    <span class='kw2'>throw</span> <span class='kw2'>new</span> Exception<span class='opr'>(</span><span class='str'>&quot;Value was not valid.&quot;</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>int</span> getStartOfYear<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> months <span class='opr'>=</span> <span class='opr'>(</span><span class='nbr'>235</span> <span class='opr'>*</span> year <span class='opr'>-</span> <span class='nbr'>234</span><span class='opr'>)</span> / <span class='nbr'>19</span>;
    <span class='kw4'>int</span> fraction <span class='opr'>=</span> months <span class='opr'>*</span> DAYS_PER_MONTH_FRACTION <span class='opr'>+</span> FIRST_NEW_MOON;
    <span class='kw4'>int</span> day <span class='opr'>=</span> months <span class='opr'>*</span> <span class='nbr'>29</span> <span class='opr'>+</span> <span class='opr'>(</span>fraction / PARTS_PER_DAY<span class='opr'>)</span>;
    fraction <span class='opr'>%</span><span class='opr'>=</span> PARTS_PER_DAY;

    <span class='kw4'>int</span> dayOfWeek <span class='opr'>=</span> day <span class='opr'>%</span> <span class='nbr'>7</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>dayOfWeek <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>2</span> || dayOfWeek <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>4</span> || dayOfWeek <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>6</span><span class='opr'>)</span> <span class='opr'>{</span>
      day<span class='opr'>+</span><span class='opr'>+</span>;
      dayOfWeek <span class='opr'>=</span> day <span class='opr'>%</span> <span class='nbr'>7</span>;
    <span class='opr'>}</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>dayOfWeek <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>1</span> &amp;&amp; fraction <span class='opr'>&gt;</span> <span class='nbr'>15</span> <span class='opr'>*</span> PARTS_PER_HOUR <span class='opr'>+</span> <span class='nbr'>204</span> &amp;&amp; !isLeapYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span><span class='opr'>)</span>
      day <span class='opr'>+=</span> <span class='nbr'>2</span>;
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>dayOfWeek <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span> &amp;&amp; fraction <span class='opr'>&gt;</span> <span class='nbr'>21</span> <span class='opr'>*</span> PARTS_PER_HOUR <span class='opr'>+</span> <span class='nbr'>589</span> &amp;&amp; isLeapYear<span class='opr'>(</span>year, CURRENT_ERA<span class='opr'>)</span><span class='opr'>)</span>
      day<span class='opr'>+</span><span class='opr'>+</span>;
    <span class='kw1'>return</span> day;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> DateTime getGregorianDateTime<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> yearType <span class='opr'>=</span> getYearType<span class='opr'>(</span>year<span class='opr'>)</span>;
    <span class='kw4'>int</span> days <span class='opr'>=</span> getStartOfYear<span class='opr'>(</span>year<span class='opr'>)</span> <span class='opr'>-</span> DAYS_TO_1AD <span class='opr'>+</span> day <span class='opr'>-</span> <span class='nbr'>1</span>;
    <span class='kw1'>for</span> <span class='opr'>(</span><span class='kw4'>int</span> i <span class='opr'>=</span> <span class='nbr'>1</span>; i <span class='opr'>&lt;</span><span class='opr'>=</span> month; i<span class='opr'>+</span><span class='opr'>+</span><span class='opr'>)</span>
      days <span class='opr'>+=</span> MONTHDAYS<span class='opr'>[</span>yearType<span class='opr'>]</span><span class='opr'>[</span>i <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span>;
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>days <span class='opr'>*</span> TICKS_PER_DAY<span class='opr'>)</span> <span class='opr'>+</span> TimeSpan.getTicks<span class='opr'>(</span>hour, minute, second<span class='opr'>)</span> <span class='opr'>+</span> <span class='opr'>(</span>millisecond <span class='opr'>*</span> TICKS_PER_MILLISECOND<span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> DAYS_TO_MONTH_COMMON <span class='opr'>=</span> <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>31</span>, <span class='nbr'>59</span>, <span class='nbr'>90</span>, <span class='nbr'>120</span>, <span class='nbr'>151</span>, <span class='nbr'>181</span>, <span class='nbr'>212</span>, <span class='nbr'>243</span>, <span class='nbr'>273</span>, <span class='nbr'>304</span>, <span class='nbr'>334</span>, <span class='nbr'>365</span> <span class='opr'>]</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> DAYS_TO_MONTH_LEAP <span class='opr'>=</span> <span class='opr'>[</span> <span class='nbr'>0</span>, <span class='nbr'>31</span>, <span class='nbr'>60</span>, <span class='nbr'>91</span>, <span class='nbr'>121</span>, <span class='nbr'>152</span>, <span class='nbr'>182</span>, <span class='nbr'>213</span>, <span class='nbr'>244</span>, <span class='nbr'>274</span>, <span class='nbr'>305</span>, <span class='nbr'>335</span>, <span class='nbr'>366</span> <span class='opr'>]</span>;

<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> TICKS_PER_MILLISECOND <span class='opr'>=</span> <span class='nbr'>10000</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> TICKS_PER_SECOND <span class='opr'>=</span> TICKS_PER_MILLISECOND <span class='opr'>*</span> <span class='nbr'>1000</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> TICKS_PER_MINUTE <span class='opr'>=</span> TICKS_PER_SECOND <span class='opr'>*</span> <span class='nbr'>60</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> TICKS_PER_HOUR <span class='opr'>=</span> TICKS_PER_MINUTE <span class='opr'>*</span> <span class='nbr'>60</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> TICKS_PER_DAY <span class='opr'>=</span> TICKS_PER_HOUR <span class='opr'>*</span> <span class='nbr'>24</span>;

<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> MILLIS_PER_SECOND <span class='opr'>=</span> <span class='nbr'>1000</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> MILLIS_PER_MINUTE <span class='opr'>=</span> MILLIS_PER_SECOND <span class='opr'>*</span> <span class='nbr'>60</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> MILLIS_PER_HOUR <span class='opr'>=</span> MILLIS_PER_MINUTE <span class='opr'>*</span> <span class='nbr'>60</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> MILLIS_PER_DAY <span class='opr'>=</span> MILLIS_PER_HOUR <span class='opr'>*</span> <span class='nbr'>24</span>;

<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_PER_YEAR <span class='opr'>=</span> <span class='nbr'>365</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_PER_4_YEARS <span class='opr'>=</span> DAYS_PER_YEAR <span class='opr'>*</span> <span class='nbr'>4</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_PER_100_YEARS <span class='opr'>=</span> DAYS_PER_4_YEARS <span class='opr'>*</span> <span class='nbr'>25</span> <span class='opr'>-</span> <span class='nbr'>1</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_PER_400_YEARS <span class='opr'>=</span> DAYS_PER_100_YEARS <span class='opr'>*</span> <span class='nbr'>4</span> <span class='opr'>+</span> <span class='nbr'>1</span>;

<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_TO_1601 <span class='opr'>=</span> DAYS_PER_400_YEARS <span class='opr'>*</span> <span class='nbr'>4</span>;
<span class='kw4'>package</span> <span class='kw4'>const</span> <span class='kw4'>int</span> DAYS_TO_10000 <span class='opr'>=</span> DAYS_PER_400_YEARS <span class='opr'>*</span> <span class='nbr'>25</span> <span class='opr'>-</span> <span class='nbr'>366</span>;

<span class='kw4'>package</span> <span class='kw4'>void</span> splitDate<span class='opr'>(</span><span class='kw4'>ulong</span> ticks, <span class='kw2'>out</span> <span class='kw4'>int</span> year, <span class='kw2'>out</span> <span class='kw4'>int</span> month, <span class='kw2'>out</span> <span class='kw4'>int</span> day, <span class='kw2'>out</span> <span class='kw4'>int</span> dayOfYear<span class='opr'>)</span> <span class='opr'>{</span>
  <span class='kw4'>int</span> numDays <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>ticks / TICKS_PER_DAY<span class='opr'>)</span>;
  <span class='kw4'>int</span> whole400Years <span class='opr'>=</span> numDays / DAYS_PER_400_YEARS;
  numDays <span class='opr'>-=</span> whole400Years <span class='opr'>*</span> DAYS_PER_400_YEARS;
  <span class='kw4'>int</span> whole100Years <span class='opr'>=</span> numDays / DAYS_PER_100_YEARS;
  <span class='kw1'>if</span> <span class='opr'>(</span>whole100Years <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>4</span><span class='opr'>)</span>
    whole100Years <span class='opr'>=</span> <span class='nbr'>3</span>;
  numDays <span class='opr'>-=</span> whole100Years <span class='opr'>*</span> DAYS_PER_100_YEARS;
  <span class='kw4'>int</span> whole4Years <span class='opr'>=</span> numDays / DAYS_PER_4_YEARS;
  numDays <span class='opr'>-=</span> whole4Years <span class='opr'>*</span> DAYS_PER_4_YEARS;
  <span class='kw4'>int</span> wholeYears <span class='opr'>=</span> numDays / DAYS_PER_YEAR;
  <span class='kw1'>if</span> <span class='opr'>(</span>wholeYears <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>4</span><span class='opr'>)</span>
    wholeYears <span class='opr'>=</span> <span class='nbr'>3</span>;
  year <span class='opr'>=</span> whole400Years <span class='opr'>*</span> <span class='nbr'>400</span> <span class='opr'>+</span> whole100Years <span class='opr'>*</span> <span class='nbr'>100</span> <span class='opr'>+</span> whole4Years <span class='opr'>*</span> <span class='nbr'>4</span> <span class='opr'>+</span> wholeYears <span class='opr'>+</span> <span class='nbr'>1</span>;
  numDays <span class='opr'>-=</span> wholeYears <span class='opr'>*</span> DAYS_PER_YEAR;
  dayOfYear <span class='opr'>=</span> numDays <span class='opr'>+</span> <span class='nbr'>1</span>;
  <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> monthDays <span class='opr'>=</span> <span class='opr'>(</span>wholeYears <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>3</span> &amp;&amp; <span class='opr'>(</span>whole4Years <span class='opr'>!=</span> <span class='nbr'>24</span> || whole100Years <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>3</span><span class='opr'>)</span><span class='opr'>)</span> ? DAYS_TO_MONTH_LEAP : DAYS_TO_MONTH_COMMON;
  month <span class='opr'>=</span> numDays <span class='opr'>&gt;</span><span class='opr'>&gt;</span> <span class='nbr'>5</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
  <span class='kw1'>while</span> <span class='opr'>(</span>numDays <span class='opr'>&gt;</span><span class='opr'>=</span> monthDays<span class='opr'>[</span>month<span class='opr'>]</span><span class='opr'>)</span>
    month<span class='opr'>+</span><span class='opr'>+</span>;
  day <span class='opr'>=</span> numDays <span class='opr'>-</span> monthDays<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
<span class='opr'>}</span>

<span class='kw4'>package</span> <span class='kw4'>int</span> extractPart<span class='opr'>(</span><span class='kw4'>ulong</span> ticks, DatePart part<span class='opr'>)</span> <span class='opr'>{</span>
  <span class='kw4'>int</span> year, month, day, dayOfYear;
  splitDate<span class='opr'>(</span>ticks, year, month, day, dayOfYear<span class='opr'>)</span>;
  <span class='kw1'>if</span> <span class='opr'>(</span>part <span class='opr'>=</span><span class='opr'>=</span> DatePart.YEAR<span class='opr'>)</span>
    <span class='kw1'>return</span> year;
  <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>part <span class='opr'>=</span><span class='opr'>=</span> DatePart.MONTH<span class='opr'>)</span>
    <span class='kw1'>return</span> month;
  <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>part <span class='opr'>=</span><span class='opr'>=</span> DatePart.DAY_OF_YEAR<span class='opr'>)</span>
    <span class='kw1'>return</span> dayOfYear;
  <span class='kw1'>return</span> day;
<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _DateTime)
 * Represents time expressed as a date and time of day.
 * Remarks: DateTime respresents dates and times between 12:00:00 midnight on January 1, 0001 AD and 11:59:59 PM on 
 * December 31, 9999 AD.
 *
 * Time values are measured in 100-nanosecond intervals, or ticks. A date value is the number of ticks that have elapsed since 
 * 12:00:00 midnight on January 1, 0001 AD in the $(LINK2 #GregorianCalendar, GregorianCalendar) calendar.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>struct</span> DateTime <span class='opr'>{</span>

  <span class='kw4'>package</span> <span class='kw4'>enum</span> Kind : <span class='kw4'>ulong</span> <span class='opr'>{</span>
    UNKNOWN <span class='opr'>=</span> <span class='nbr'>0</span>x0000000000000000,
    UTC <span class='opr'>=</span> <span class='nbr'>0</span>x4000000000000000,
    LOCAL <span class='opr'>=</span> <span class='nbr'>0</span>x8000000000000000
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> MIN_TICKS <span class='opr'>=</span> <span class='nbr'>0</span>;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> MAX_TICKS <span class='opr'>=</span> DAYS_TO_10000 <span class='opr'>*</span> TICKS_PER_DAY <span class='opr'>-</span> <span class='nbr'>1</span>;

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> TICKS_MASK <span class='opr'>=</span> <span class='nbr'>0</span>x3FFFFFFFFFFFFFFF;
  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>ulong</span> KIND_MASK <span class='opr'>=</span> <span class='nbr'>0</span>xC000000000000000;

  <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>int</span> KIND_SHIFT <span class='opr'>=</span> <span class='nbr'>62</span>;

  <span class='kw4'>private</span> <span class='kw4'>ulong</span> data_;

  <span class='com'>/**
   * Represents the smallest DateTime value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>const</span> DateTime min;
  <span class='com'>/**
   * Represents the largest DateTime value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>const</span> DateTime max;

  <span class='kw4'>static</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    min <span class='opr'>=</span> DateTime<span class='opr'>(</span>MIN_TICKS<span class='opr'>)</span>;
    max <span class='opr'>=</span> DateTime<span class='opr'>(</span>MAX_TICKS<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new instance of the DateTime struct to the specified number of _ticks.
   * Params: ticks = A date and time expressed in units of 100 nanoseconds.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime opCall<span class='opr'>(</span><span class='kw4'>ulong</span> ticks<span class='opr'>)</span> <span class='opr'>{</span>
    DateTime d;
    d.data_ <span class='opr'>=</span> ticks;
    <span class='kw1'>return</span> d;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new instance of the DateTime struct to the specified _year, _month, _day and _calendar.
   * Params:
   *   year = The _year.
   *   month = The _month.
   *   day = The _day.
   *   calendar = The Calendar that applies to this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime opCall<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, Calendar calendar <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    DateTime d;
    <span class='kw1'>if</span> <span class='opr'>(</span>calendar <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      d.data_ <span class='opr'>=</span> getDateTicks<span class='opr'>(</span>year, month, day<span class='opr'>)</span>;
    <span class='kw1'>else</span>
      d.data_ <span class='opr'>=</span> calendar.getDateTime<span class='opr'>(</span>year, month, day, <span class='nbr'>0</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span>, <span class='nbr'>0</span><span class='opr'>)</span>.ticks;
    <span class='kw1'>return</span> d;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new instance of the DateTime struct to the specified _year, _month, _day, _hour, _minute, _second and _calendar.
   * Params:
   *   year = The _year.
   *   month = The _month.
   *   day = The _day.
   *   hour = The _hours.
   *   minute = The _minutes.
   *   second = The _seconds.
   *   calendar = The Calendar that applies to this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime opCall<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, Calendar calendar <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    DateTime d;
    <span class='kw1'>if</span> <span class='opr'>(</span>calendar <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      d.data_ <span class='opr'>=</span> getDateTicks<span class='opr'>(</span>year, month, day<span class='opr'>)</span> <span class='opr'>+</span> getTimeTicks<span class='opr'>(</span>hour, minute, second<span class='opr'>)</span>;
    <span class='kw1'>else</span>
      d.data_ <span class='opr'>=</span> calendar.getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, <span class='nbr'>0</span><span class='opr'>)</span>.ticks;
    <span class='kw1'>return</span> d;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new instance of the DateTime struct to the specified _year, _month, _day, _hour, _minute, _second, _millisecond and _calendar.
   * Params:
   *   year = The _year.
   *   month = The _month.
   *   day = The _day.
   *   hour = The _hours.
   *   minute = The _minutes.
   *   second = The _seconds.
   *   millisecond = The _milliseconds.
   *   calendar = The Calendar that applies to this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime opCall<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day, <span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second, <span class='kw4'>int</span> millisecond, Calendar calendar <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    DateTime d;
    <span class='kw1'>if</span> <span class='opr'>(</span>calendar <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      d.data_ <span class='opr'>=</span> getDateTicks<span class='opr'>(</span>year, month, day<span class='opr'>)</span> <span class='opr'>+</span> getTimeTicks<span class='opr'>(</span>hour, minute, second<span class='opr'>)</span> <span class='opr'>+</span> <span class='opr'>(</span>millisecond <span class='opr'>*</span> TICKS_PER_MILLISECOND<span class='opr'>)</span>;
    <span class='kw1'>else</span>
      d.data_ <span class='opr'>=</span> calendar.getDateTime<span class='opr'>(</span>year, month, day, hour, minute, second, millisecond<span class='opr'>)</span>.ticks;
    <span class='kw1'>return</span> d;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Compares two DateTime values.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> opCmp<span class='opr'>(</span>DateTime value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>ticks <span class='opr'>&lt;</span> value.ticks<span class='opr'>)</span>
      <span class='kw1'>return</span> <span class='opr'>-</span><span class='nbr'>1</span>;
    <span class='kw1'>else</span> <span class='kw1'>if</span> <span class='opr'>(</span>ticks <span class='opr'>&gt;</span> value.ticks<span class='opr'>)</span>
      <span class='kw1'>return</span> <span class='nbr'>1</span>;
    <span class='kw1'>return</span> <span class='nbr'>0</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Determines whether two DateTime values are equal.
   * Params: value = A DateTime _value.
   * Returns: true if both instances are equal; otherwise, false;
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>bool</span> opEquals<span class='opr'>(</span>DateTime value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> ticks <span class='opr'>=</span><span class='opr'>=</span> value.ticks;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified time span to the date and time, returning a new date and time.
   * Params: t = A TimeSpan value.
   * Returns: A DateTime that is the sum of this instance and t.
   */</span>
  <span class='kw4'>public</span> DateTime opAdd<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span>ticks <span class='opr'>+</span> t.ticks<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified time span to the date and time, assigning the result to this instance.
   * Params: t = A TimeSpan value.
   * Returns: The current DateTime instance, with t added to the date and time.
   */</span>
  <span class='kw4'>public</span> DateTime opAddAssign<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> data_ <span class='opr'>=</span> <span class='opr'>(</span>ticks <span class='opr'>+</span> t.ticks<span class='opr'>)</span> | kind, <span class='opr'>*</span><span class='kw2'>this</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Subtracts the specified time span from the date and time, returning a new date and time.
   * Params: t = A TimeSpan value.
   * Returns: A DateTime whose value is the value of this instance minus the value of t.
   */</span>
  <span class='kw4'>public</span> DateTime opSub<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span>ticks <span class='opr'>-</span> t.ticks<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Subtracts the specified time span from the date and time, assigning the result to this instance.
   * Params: t = A TimeSpan value.
   * Returns: The current DateTime instance, with t subtracted from the date and time.
   */</span>
  <span class='kw4'>public</span> DateTime opSubAssign<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> data_ <span class='opr'>=</span> <span class='opr'>(</span>ticks <span class='opr'>-</span> t.ticks<span class='opr'>)</span> | kind, <span class='opr'>*</span><span class='kw2'>this</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of ticks to the _value of this instance.
   * Params: value = The number of ticks to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the time in value.
   */</span>
  <span class='kw4'>public</span> DateTime addTicks<span class='opr'>(</span><span class='kw4'>ulong</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>ticks <span class='opr'>+</span> value<span class='opr'>)</span> | kind<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of hours to the _value of this instance.
   * Params: value = The number of hours to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of hours in value.
   */</span>
  <span class='kw4'>public</span> DateTime addHours<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> addMilliseconds<span class='opr'>(</span>value <span class='opr'>*</span> MILLIS_PER_HOUR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of minutes to the _value of this instance.
   * Params: value = The number of minutes to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of minutes in value.
   */</span>
  <span class='kw4'>public</span> DateTime addMinutes<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> addMilliseconds<span class='opr'>(</span>value <span class='opr'>*</span> MILLIS_PER_MINUTE<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of seconds to the _value of this instance.
   * Params: value = The number of seconds to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of seconds in value.
   */</span>
  <span class='kw4'>public</span> DateTime addSeconds<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> addMilliseconds<span class='opr'>(</span>value <span class='opr'>*</span> MILLIS_PER_SECOND<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of milliseconds to the _value of this instance.
   * Params: value = The number of milliseconds to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of milliseconds in value.
   */</span>
  <span class='kw4'>public</span> DateTime addMilliseconds<span class='opr'>(</span><span class='kw4'>double</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> addTicks<span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span><span class='opr'>(</span>value <span class='opr'>+=</span> <span class='opr'>(</span>value <span class='opr'>&gt;</span> <span class='nbr'>0</span><span class='opr'>)</span> ? <span class='nbr'>0.5</span> : <span class='opr'>-</span><span class='nbr'>0.5</span><span class='opr'>)</span> <span class='opr'>*</span> TICKS_PER_MILLISECOND<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of days to the _value of this instance.
   * Params: value = The number of days to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of days in value.
   */</span>
  <span class='kw4'>public</span> DateTime addDays<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> addMilliseconds<span class='opr'>(</span>value <span class='opr'>*</span> MILLIS_PER_DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of months to the _value of this instance.
   * Params: value = The number of months to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of months in value.
   */</span>
  <span class='kw4'>public</span> DateTime addMonths<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span> year <span class='opr'>=</span> <span class='kw2'>this</span>.year;
    <span class='kw4'>int</span> month <span class='opr'>=</span> <span class='kw2'>this</span>.month;
    <span class='kw4'>int</span> day <span class='opr'>=</span> <span class='kw2'>this</span>.day;
    <span class='kw4'>int</span> n <span class='opr'>=</span> month <span class='opr'>-</span> <span class='nbr'>1</span> <span class='opr'>+</span> value;
    <span class='kw1'>if</span> <span class='opr'>(</span>n <span class='opr'>&gt;</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span> <span class='opr'>{</span>
      month <span class='opr'>=</span> n <span class='opr'>%</span> <span class='nbr'>12</span> <span class='opr'>+</span> <span class='nbr'>1</span>;
      year <span class='opr'>=</span> year <span class='opr'>+</span> n / <span class='nbr'>12</span>;
    <span class='opr'>}</span>
    <span class='kw1'>else</span> <span class='opr'>{</span>
      month <span class='opr'>=</span> <span class='nbr'>12</span> <span class='opr'>+</span> <span class='opr'>(</span>n <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>12</span>;
      year <span class='opr'>=</span> year <span class='opr'>+</span> <span class='opr'>(</span>n <span class='opr'>-</span> <span class='nbr'>11</span><span class='opr'>)</span> / <span class='nbr'>12</span>;
    <span class='opr'>}</span>
    <span class='kw4'>int</span> maxDays <span class='opr'>=</span> daysInMonth<span class='opr'>(</span>year, month<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>day <span class='opr'>&gt;</span> maxDays<span class='opr'>)</span>
      day <span class='opr'>=</span> maxDays;
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>getDateTicks<span class='opr'>(</span>year, month, day<span class='opr'>)</span> <span class='opr'>+</span> <span class='opr'>(</span>ticks <span class='opr'>%</span> TICKS_PER_DAY<span class='opr'>)</span><span class='opr'>)</span> | kind<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds the specified number of years to the _value of this instance.
   * Params: value = The number of years to add.
   * Returns: A DateTime whose value is the sum of the date and time of this instance and the number of years in value.
   */</span>
  <span class='kw4'>public</span> DateTime addYears<span class='opr'>(</span><span class='kw4'>int</span> value<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> addMonths<span class='opr'>(</span>value <span class='opr'>*</span> <span class='nbr'>12</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns the number of _days in the specified _month.
   * Params:
   *   year = The _year.
   *   month = The _month.
   * Returns: The number of _days in the specified _month.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>int</span> daysInMonth<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> monthDays <span class='opr'>=</span> isLeapYear<span class='opr'>(</span>year<span class='opr'>)</span> ? DAYS_TO_MONTH_LEAP : DAYS_TO_MONTH_COMMON;
    <span class='kw1'>return</span> monthDays<span class='opr'>[</span>month<span class='opr'>]</span> <span class='opr'>-</span> monthDays<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a value indicating whether the specified _year is a leap _year.
   * Param: year = The _year.
   * Returns: true if year is a leap _year; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>bool</span> isLeapYear<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>4</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span> &amp;&amp; <span class='opr'>(</span>year <span class='opr'>%</span> <span class='nbr'>100</span> <span class='opr'>!=</span> <span class='nbr'>0</span> || year <span class='opr'>%</span> <span class='nbr'>400</span> <span class='opr'>=</span><span class='opr'>=</span> <span class='nbr'>0</span><span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Determines whether this instance is within the Daylight Saving Time range for the current time zone.
   * Returns: true if the value of this instance is within the Daylight Saving Time for the current time zone; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>bool</span> isDaylightSavingTime<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeZone.current.isDaylightSavingTime<span class='opr'>(</span><span class='opr'>*</span><span class='kw2'>this</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the value of this instance to local time.
   * Returns: A DateTime whose value is the local time equivalent to the value of the current instance.
   */</span>
  <span class='kw4'>public</span> DateTime toLocalTime<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeZone.current.getLocalTime<span class='opr'>(</span><span class='opr'>*</span><span class='kw2'>this</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the value of this instance to UTC time.
   * Returns: A DateTime whose value is the UTC equivalent to the value of the current instance.
   */</span>
  <span class='kw4'>public</span> DateTime toUniversalTime<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeZone.current.getUniversalTime<span class='opr'>(</span><span class='opr'>*</span><span class='kw2'>this</span><span class='opr'>)</span>;
  <span class='opr'>}</span>
  
  <span class='com'>/**
   * Converts the value of this instance to its equivalent string representation using the specified culture-specific formatting information.
   * Params: formatService = An IFormatService that provides culture-specific formatting information.
   * Returns: A string representation of the value of this instance as specified by formatService.
   * Remarks: The value of the DateTime instance is formatted using the &quot;G&quot; format specifier.
   *
   * See $(LINK2 datetimeformat.html, DateTime Formatting) for more information about date and time formatting.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> toString<span class='opr'>(</span>IFormatService formatService <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> formatDateTime<span class='opr'>(</span><span class='opr'>*</span><span class='kw2'>this</span>, <span class='kw2'>null</span>, DateTimeFormat.getInstance<span class='opr'>(</span>formatService<span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the value of this instance to its equivalent string representation using the specified _format and culture-specific formatting information.
   * Params: 
   *   format = A _format string.
   *   formatService = An IFormatService that provides culture-specific formatting information.
   * Returns: A string representation of the value of this instance as specified by format and formatService.
   * Remarks: See $(LINK2 datetimeformat.html, DateTime Formatting) for more information about date and time formatting.
   * Examples:
   * ---
   * import tango.io.Print, tango.locale.core;
   *
   * void main() {
   *   Culture culture = Culture.current;
   *   DateTime now = DateTime.now;
   *
   *   Println(&quot;Current date and time: %s&quot;, now.toString());
   *   Println();
   *
   *   // Format the current date and time in a number of ways.
   *   Println(&quot;Culture: %s&quot;, culture.englishName);
   *   Println();
   *
   *   Println(&quot;Short date:              %s&quot;, now.toString(&quot;d&quot;));
   *   Println(&quot;Long date:               %s&quot;, now.toString(&quot;D&quot;));
   *   Println(&quot;Short time:              %s&quot;, now.toString(&quot;t&quot;));
   *   Println(&quot;Long time:               %s&quot;, now.toString(&quot;T&quot;));
   *   Println(&quot;General date short time: %s&quot;, now.toString(&quot;g&quot;));
   *   Println(&quot;General date long time:  %s&quot;, now.toString(&quot;G&quot;));
   *   Println(&quot;Month:                   %s&quot;, now.toString(&quot;M&quot;));
   *   Println(&quot;RFC1123:                 %s&quot;, now.toString(&quot;R&quot;));
   *   Println(&quot;Sortable:                %s&quot;, now.toString(&quot;s&quot;));
   *   Println(&quot;Year:                    %s&quot;, now.toString(&quot;Y&quot;));
   *   Println();
   *
   *   // Display the same values using a different culture.
   *   culture = Culture.getCulture(&quot;fr-FR&quot;);
   *   Println(&quot;Culture: %s&quot;, culture.englishName);
   *   Println();
   *
   *   Println(&quot;Short date:              %s&quot;, now.toString(&quot;d&quot;, culture));
   *   Println(&quot;Long date:               %s&quot;, now.toString(&quot;D&quot;, culture));
   *   Println(&quot;Short time:              %s&quot;, now.toString(&quot;t&quot;, culture));
   *   Println(&quot;Long time:               %s&quot;, now.toString(&quot;T&quot;, culture));
   *   Println(&quot;General date short time: %s&quot;, now.toString(&quot;g&quot;, culture));
   *   Println(&quot;General date long time:  %s&quot;, now.toString(&quot;G&quot;, culture));
   *   Println(&quot;Month:                   %s&quot;, now.toString(&quot;M&quot;, culture));
   *   Println(&quot;RFC1123:                 %s&quot;, now.toString(&quot;R&quot;, culture));
   *   Println(&quot;Sortable:                %s&quot;, now.toString(&quot;s&quot;, culture));
   *   Println(&quot;Year:                    %s&quot;, now.toString(&quot;Y&quot;, culture));
   *   Println();
   * }
   *
   * // Produces the following output:
   * // Current date and time: 26/05/2006 10:04:57 AM
   * //
   * // Culture: English (United Kingdom)
   * //
   * // Short date:              26/05/2006
   * // Long date:               26 May 2006
   * // Short time:              10:04
   * // Long time:               10:04:57 AM
   * // General date short time: 26/05/2006 10:04
   * // General date long time:  26/05/2006 10:04:57 AM
   * // Month:                   26 May
   * // RFC1123:                 Fri, 26 May 2006 10:04:57 GMT
   * // Sortable:                2006-05-26T10:04:57
   * // Year:                    May 2006
   * //
   * // Culture: French (France)
   * //
   * // Short date:              26/05/2006
   * // Long date:               vendredi 26 mai 2006
   * // Short time:              10:04
   * // Long time:               10:04:57
   * // General date short time: 26/05/2006 10:04
   * // General date long time:  26/05/2006 10:04:57
   * // Month:                   26 mai
   * // RFC1123:                 ven., 26 mai 2006 10:04:57 GMT
   * // Sortable:                2006-05-26T10:04:57
   * // Year:                    mai 2006
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> toString<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> format, IFormatService formatService <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> formatDateTime<span class='opr'>(</span><span class='opr'>*</span><span class='kw2'>this</span>, format, DateTimeFormat.getInstance<span class='opr'>(</span>formatService<span class='opr'>)</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the specified string representation of a date and time to its DateTime equivalent using the specified culture-specific formatting information.
   * Params:
   *   s = A string representing the date and time to convert.
   *   formatService = An IFormatService that provides culture-specific formatting information.
   * Returns: A DateTime equivalent to the date and time contained in s as specified by formatService.
   * Remarks: The s parameter is parsed using the formatting information in the current $(LINK2 #DateTimeFormat, DateTimeFormat) instance.
   * Examples:
   * ---
   * import tango.io.Print, tango.locale.core;
   *
   * void main() {
   *   // Date is May 26, 2006
   *   char[] ukDateValue = &quot;26/05/2006 9:15:10&quot;;
   *   char[] usDateValue = &quot;05/26/2006 9:15:10&quot;;
   *
   *   Culture.current = Culture.getCulture(&quot;en-GB&quot;);
   *   DateTime ukDate = DateTime.parse(ukDateValue);
   *   Println(&quot;UK date: %s&quot;, ukDate.toString());

   *   Culture.current = Culture.getCulture(&quot;en-US&quot;);
   *   DateTime usDate = DateTime.parse(usDateValue);
   *   Println(&quot;US date: %s&quot;, usDate.toString());
   * }
   *
   * // Produces the following output:
   * // UK date: 26/05/2006 9:15:10 AM
   * // US date: 5/26/2006 9:15:10 AM
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime parse<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> s, IFormatService formatService <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    DateTime result <span class='opr'>=</span> parseDateTime<span class='opr'>(</span>s, DateTimeFormat.getInstance<span class='opr'>(</span>formatService<span class='opr'>)</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> result;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the specified string representation of a date and time to its DateTime equivalent using the specified culture-specific formatting information.
   * The _format of the string representation must exactly match the specified format.
   * Params:
   *   s = A string representing the date and time to convert.
   *   format = The expected _format of s.
   *   formatService = An IFormatService that provides culture-specific formatting information.
   * Returns: A DateTime equivalent to the date and time contained in s as specified by format and formatService.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime parseExact<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> s, <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> format, IFormatService formatService <span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span> <span class='opr'>{</span>
    DateTime result <span class='opr'>=</span> parseDateTimeExact<span class='opr'>(</span>s, format, DateTimeFormat.getInstance<span class='opr'>(</span>formatService<span class='opr'>)</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> result;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the specified string representation of a date and time to its DateTime equivalant.
   * Params:
   *   s = A string representing the date and time to convert.
   *   result = On return, contains the DateTime value equivalent to the date and time in s if the conversion was successful.
   * Returns: true if s is converted successfully; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>bool</span> tryParse<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> s, <span class='kw2'>out</span> DateTime result<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> tryParseDateTime<span class='opr'>(</span>s, DateTimeFormat.current, result<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the specified string representation of a date and time to its DateTime equivalant using the specified culture-specific formatting information.
   * Params:
   *   s = A string representing the date and time to convert.
   *   formatService = An IFormatService that provides culture-specific formatting information.
   *   result = On return, contains the DateTime value equivalent to the date and time in s if the conversion was successful.
   * Returns: true if s is converted successfully; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>bool</span> tryParse<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> s, IFormatService formatService, <span class='kw2'>out</span> DateTime result<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> tryParseDateTime<span class='opr'>(</span>s, DateTimeFormat.getInstance<span class='opr'>(</span>formatService<span class='opr'>)</span>, result<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the specified string representation of a date and time to its DateTime equivalant using the specified culture-specific formatting information.
   * The _format of the string representation must exactly match the specified format.
   * Params:
   *   s = A string representing the date and time to convert.
   *   format = The expected _format of s.
   *   result = On return, contains the DateTime value equivalent to the date and time in s if the conversion was successful.
   * Returns: true if s is converted successfully; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>bool</span> tryParseExact<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> s, <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> format, <span class='kw2'>out</span> DateTime result<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> tryParseDateTimeExact<span class='opr'>(</span>s, format, DateTimeFormat.current, result<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Converts the specified string representation of a date and time to its DateTime equivalant using the specified culture-specific formatting information.
   * The _format of the string representation must exactly match the specified format.
   * Params:
   *   s = A string representing the date and time to convert.
   *   format = The expected _format of s.
   *   formatService = An IFormatService that provides culture-specific formatting information.
   *   result = On return, contains the DateTime value equivalent to the date and time in s if the conversion was successful.
   * Returns: true if s is converted successfully; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>bool</span> tryParseExact<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> s, <span class='kw4'>char</span><span class='opr'>[</span><span class='opr'>]</span> format, IFormatService formatService, <span class='kw2'>out</span> DateTime result<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> tryParseDateTimeExact<span class='opr'>(</span>s, format, DateTimeFormat.getInstance<span class='opr'>(</span>formatService<span class='opr'>)</span>, result<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _year component of the date.
   * Returns: The _year.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> year<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>ticks, DatePart.YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _month component of the date.
   * Returns: The _month.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> month<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>ticks, DatePart.MONTH<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _day component of the date.
   * Returns: The _day.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> day<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>ticks, DatePart.DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the day of the year.
   * Returns: The day of the year.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> dayOfYear<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> extractPart<span class='opr'>(</span>ticks, DatePart.DAY_OF_YEAR<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the day of the week.
   * Returns: A DayOfWeek value indicating the day of the week.
   */</span>
  <span class='kw4'>public</span> DayOfWeek dayOfWeek<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span>DayOfWeek<span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks / TICKS_PER_DAY <span class='opr'>+</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>7</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _hour component of the date.
   * Returns: The _hour.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> hour<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks / TICKS_PER_HOUR<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>24</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _minute component of the date.
   * Returns: The _minute.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> minute<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks / TICKS_PER_MINUTE<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>60</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _second component of the date.
   * Returns: The _second.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> second<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks / TICKS_PER_SECOND<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>60</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _millisecond component of the date.
   * Returns: The _millisecond.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> millisecond<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks / TICKS_PER_MILLISECOND<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>1000</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the date component.
   * Returns: A new DateTime instance with the same date as this instance.
   */</span>
  <span class='kw4'>public</span> DateTime date<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>ulong</span> ticks <span class='opr'>=</span> <span class='kw2'>this</span>.ticks;
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>ticks <span class='opr'>-</span> ticks <span class='opr'>%</span> TICKS_PER_DAY<span class='opr'>)</span> | kind<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the current date.
   * Returns: A DateTime instance set to today's date.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime today<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='com'>// return now.date;</span>
    <span class='com'>// The above code causes DMD to complain about lvalues in toLocalTime, so we need a temporary here.</span>
    DateTime d <span class='opr'>=</span> now;
    <span class='kw1'>return</span> d.date;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the time of day.
   * Returns: A TimeSpan representing the fraction of the day elapsed since midnight.
   */</span>
  <span class='kw4'>public</span> TimeSpan timeOfDay<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeSpan<span class='opr'>(</span>ticks <span class='opr'>%</span> TICKS_PER_DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of ticks representing the date and time of this instance.
   * Returns: The number of ticks representing the date and time of this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>ulong</span> ticks<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> data_ <span class='opr'>&amp;</span> TICKS_MASK;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a DateTime instance set to the current date and time in local time.
   * Returns: A DateTime whose value is the current local date and time.
   * Examples:
   * The following example displays the current time in local and UTC time.
   * ---
   * import tango.io.Print, tango.locale.core;
   *
   * void main() {
   *   // Get the current local time.
   *   DateTime localTime = DateTime.now;
   *
   *   // Convert the current local time to UTC time.
   *   DateTime utcTime = localTime.toUniversalTime();
   *
   *   // Display the local and UTC time using a custom pattern.
   *   char[] pattern = &quot;d/M/yyyy hh:mm:ss tt&quot;;
   *   Println(&quot;Local time: %s&quot;, localTime.toString(pattern));
   *   Println(&quot;UTC time:   %s&quot;, utcTime.toString(pattern));
   * }
   *
   * // Produces the following output:
   * // Local time: 26/5/2006 9:15:00 AM
   * // UTC time:   26/5/2006 8:15:00 AM
   * ---
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime now<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='com'>// return utcNow.toLocalTime();</span>
    <span class='com'>// The above code causes DMD to complain about lvalues in toLocalTime, so we need a temporary here.</span>
    DateTime d <span class='opr'>=</span> utcNow.toLocalTime<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> d;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves a DateTime instance set to the current date and time in UTC time.
   * Returns: A DateTime whose value is the current UTC date and time.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> DateTime utcNow<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>ulong</span> ticks <span class='opr'>=</span> nativeMethods.getUtcTime<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span><span class='opr'>(</span>ticks <span class='opr'>+</span> <span class='opr'>(</span>DAYS_TO_1601 <span class='opr'>*</span> TICKS_PER_DAY<span class='opr'>)</span><span class='opr'>)</span> | Kind.UTC<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>package</span> <span class='kw4'>ulong</span> kind<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> data_ <span class='opr'>&amp;</span> KIND_MASK;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>ulong</span> getDateTicks<span class='opr'>(</span><span class='kw4'>int</span> year, <span class='kw4'>int</span> month, <span class='kw4'>int</span> day<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw4'>int</span><span class='opr'>[</span><span class='opr'>]</span> monthDays <span class='opr'>=</span> isLeapYear<span class='opr'>(</span>year<span class='opr'>)</span> ? DAYS_TO_MONTH_LEAP : DAYS_TO_MONTH_COMMON;
    year<span class='opr'>-</span><span class='opr'>-</span>;
    <span class='kw1'>return</span> <span class='opr'>(</span>year <span class='opr'>*</span> <span class='nbr'>365</span> <span class='opr'>+</span> year / <span class='nbr'>4</span> <span class='opr'>-</span> year / <span class='nbr'>100</span> <span class='opr'>+</span> year / <span class='nbr'>400</span> <span class='opr'>+</span> monthDays<span class='opr'>[</span>month <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>]</span> <span class='opr'>+</span> day <span class='opr'>-</span> <span class='nbr'>1</span><span class='opr'>)</span> <span class='opr'>*</span> TICKS_PER_DAY;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>ulong</span> getTimeTicks<span class='opr'>(</span><span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span>hour <span class='opr'>*</span> <span class='nbr'>3600</span> <span class='opr'>+</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span>minute <span class='opr'>*</span> <span class='nbr'>60</span> <span class='opr'>+</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span>second<span class='opr'>)</span> <span class='opr'>*</span> TICKS_PER_SECOND;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _TimeSpan)
 * Represents a time interval.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>struct</span> TimeSpan <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>ulong</span> ticks_;

  <span class='com'>/**
   * Represents the minimum value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>const</span> TimeSpan min;
  <span class='com'>/**
   * Represents the maximum value.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> <span class='kw4'>const</span> TimeSpan max;

  <span class='kw4'>static</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    min <span class='opr'>=</span> TimeSpan<span class='opr'>(</span><span class='kw4'>ulong</span>.min<span class='opr'>)</span>;
    max <span class='opr'>=</span> TimeSpan<span class='opr'>(</span><span class='kw4'>ulong</span>.max<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new TimeSpan to the specified number of _ticks.
   * Params: ticks = A time interval in units of 100 nanoseconds.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> TimeSpan opCall<span class='opr'>(</span><span class='kw4'>ulong</span> ticks<span class='opr'>)</span> <span class='opr'>{</span>
    TimeSpan t;
    t.ticks_ <span class='opr'>=</span> ticks;
    <span class='kw1'>return</span> t;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new TimeSpan to the specified number of _hours, _minutes and _seconds.
   * Params:
   *   hours = The number of _hours.
   *   minutes = The number of _minutes.
   *   seconds = The number of _seconds.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> TimeSpan opCall<span class='opr'>(</span><span class='kw4'>int</span> hours, <span class='kw4'>int</span> minutes, <span class='kw4'>int</span> seconds<span class='opr'>)</span> <span class='opr'>{</span>
    TimeSpan t;
    t.ticks_ <span class='opr'>=</span> getTicks<span class='opr'>(</span>hours, minutes, seconds<span class='opr'>)</span>;
    <span class='kw1'>return</span> t;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Constructor.) Initializes a new TimeSpan to the specified number of _hours, _minutes, _seconds and _milliseconds.
   * Params:
   *   hours = The number of _hours.
   *   minutes = The number of _minutes.
   *   seconds = The number of _seconds.
   *   milliseconds = The number of _milliseconds.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> TimeSpan opCall<span class='opr'>(</span><span class='kw4'>int</span> hours, <span class='kw4'>int</span> minutes, <span class='kw4'>int</span> seconds, <span class='kw4'>int</span> milliseconds<span class='opr'>)</span> <span class='opr'>{</span>
    TimeSpan t;
    t.ticks_ <span class='opr'>=</span> getTicks<span class='opr'>(</span>hours, minutes, seconds<span class='opr'>)</span> <span class='opr'>+</span> <span class='opr'>(</span>milliseconds <span class='opr'>*</span> TICKS_PER_MILLISECOND<span class='opr'>)</span>;
    <span class='kw1'>return</span> t;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds two TimeSpan instances.
   * Params: t = A TimeSpan.
   * Returns: A TimeSpan whose value is the sum of the value of this instance and the value of t.
   */</span>
  <span class='kw4'>public</span> TimeSpan opAdd<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeSpan<span class='opr'>(</span>ticks_ <span class='opr'>+</span> t.ticks_<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Adds two TimeSpan instances and assigns the result to this instance.
   * Params: t = A TimeSpan.
   * Returns: This instance, modified by adding value of t.
   */</span>
  <span class='kw4'>public</span> TimeSpan opAddAssign<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    ticks_ <span class='opr'>+=</span> t.ticks_;
    <span class='kw1'>return</span> <span class='opr'>*</span><span class='kw2'>this</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Subtracts the specified TimeSpan from this instance.
   * Params: t = A TimeSpan.
   * Returns: A TimeSpan whose value is the result of the value of this instance minus the value of t.
   */</span>
  <span class='kw4'>public</span> TimeSpan opSub<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeSpan<span class='opr'>(</span>ticks_ <span class='opr'>-</span> t.ticks_<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Subtracts the specified TimeSpan and assigns the result to this instance.
   * Params: t = A TimeSpan.
   * Returns: This instance, modified by subtracting the value of t.
   */</span>
  <span class='kw4'>public</span> TimeSpan opSubAssign<span class='opr'>(</span>TimeSpan t<span class='opr'>)</span> <span class='opr'>{</span>
    ticks_ <span class='opr'>-=</span> t.ticks_;
    <span class='kw1'>return</span> <span class='opr'>*</span><span class='kw2'>this</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a TimeSpan whose value is the negated value of this instance.
   * Returns: The same value as this instance with the opposite sign.
   */</span>
  <span class='kw4'>public</span> TimeSpan negate<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> TimeSpan<span class='opr'>(</span><span class='opr'>-</span>ticks_<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of _ticks representing the value of this instance.
   * Returns: The number of _ticks in this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>ulong</span> ticks<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> ticks_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of _hours represented by this instance.
   * Returns: The number of _hours in this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> hours<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks_ / TICKS_PER_HOUR<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>24</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of _minutes represented by this instance.
   * Returns: The number of _minutes in this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> minutes<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks_ / TICKS_PER_MINUTE<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>60</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of _seconds represented by this instance.
   * Returns: The number of _seconds in this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> seconds<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks_ / TICKS_PER_SECOND<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>60</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of _milliseconds represented by this instance.
   * Returns: The number of _milliseconds in this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> milliseconds<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span><span class='opr'>(</span>ticks_ / TICKS_PER_MILLISECOND<span class='opr'>)</span> <span class='opr'>%</span> <span class='nbr'>1000</span><span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the number of _days represented by this instance.
   * Returns: The number of _days in this instance.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>int</span> days<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span><span class='opr'>(</span>ticks_ / TICKS_PER_DAY<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> <span class='kw4'>ulong</span> getTicks<span class='opr'>(</span><span class='kw4'>int</span> hour, <span class='kw4'>int</span> minute, <span class='kw4'>int</span> second<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> <span class='opr'>(</span><span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span>hour <span class='opr'>*</span> <span class='nbr'>3600</span> <span class='opr'>+</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span>minute <span class='opr'>*</span> <span class='nbr'>60</span> <span class='opr'>+</span> <span class='kw2'>cast</span><span class='opr'>(</span><span class='kw4'>ulong</span><span class='opr'>)</span>second<span class='opr'>)</span> <span class='opr'>*</span> TICKS_PER_SECOND;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _DaylightSavingTime)
 * Represents a period of daylight-saving time.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> DaylightSavingTime <span class='opr'>{</span>

  <span class='kw4'>private</span> DateTime start_;
  <span class='kw4'>private</span> DateTime end_;
  <span class='kw4'>private</span> TimeSpan change_;

  <span class='com'>/**
   * Initializes a new instance of the DaylightSavingTime class.
   * Params:
   *   start = The DateTime representing the date and time when the daylight-saving period starts.
   *   end = The DateTime representing the date and time when the daylight-saving period ends.
   *   change = The TimeSpan representing the difference between the standard time and daylight-saving time.
   */</span>
  <span class='kw4'>public</span> <span class='kw2'>this</span><span class='opr'>(</span>DateTime start, DateTime end, TimeSpan change<span class='opr'>)</span> <span class='opr'>{</span>
    start_ <span class='opr'>=</span> start;
    end_ <span class='opr'>=</span> end;
    change_ <span class='opr'>=</span> change;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the DateTime representing the date and time when the daylight-saving period starts.
   * Returns: The DateTime representing the date and time when the daylight-saving period starts.
   */</span>
  <span class='kw4'>public</span> DateTime start<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> start_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the DateTime representing the date and time when the daylight-saving period ends.
   * Returns: The DateTime representing the date and time when the daylight-saving period ends.
   */</span>
  <span class='kw4'>public</span> DateTime end<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> end_;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the TimeSpan representing the difference between the standard time and daylight-saving time.
   * Returns: The TimeSpan representing the difference between the standard time and daylight-saving time.
   */</span>
  <span class='kw4'>public</span> TimeSpan change<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> change_;
  <span class='opr'>}</span>

<span class='opr'>}</span>

<span class='com'>/**
 * $(ANCHOR _TimeZone);
 * Represents the current time zone.
 */</span>
<span class='kw4'>public</span> <span class='kw4'>class</span> TimeZone <span class='opr'>{</span>

  <span class='kw4'>private</span> <span class='kw4'>static</span> TimeZone current_;
  <span class='kw4'>private</span> <span class='kw4'>static</span> DaylightSavingTime<span class='opr'>[</span><span class='kw4'>int</span><span class='opr'>]</span> changesCache_;
  <span class='kw4'>private</span> <span class='kw4'>short</span><span class='opr'>[</span><span class='opr'>]</span> changesData_;
  <span class='kw4'>private</span> <span class='kw4'>ulong</span> ticksOffset_;

  <span class='com'>/**
   * Returns the daylight-saving period for the specified _year.
   * Params: year = The _year to which the daylight-saving period applies.
   * Returns: A DaylightSavingTime instance containing the start and end for daylight saving in year.
   */</span>
  <span class='kw4'>public</span> DaylightSavingTime getDaylightChanges<span class='opr'>(</span><span class='kw4'>int</span> year<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>!<span class='opr'>(</span>year <span class='kw2'>in</span> changesCache_<span class='opr'>)</span><span class='opr'>)</span> <span class='opr'>{</span>
      <span class='kw1'>if</span> <span class='opr'>(</span>changesData_ <span class='opr'>=</span><span class='opr'>=</span> <span class='kw2'>null</span><span class='opr'>)</span>
        changesCache_<span class='opr'>[</span>year<span class='opr'>]</span> <span class='opr'>=</span> <span class='kw2'>new</span> DaylightSavingTime<span class='opr'>(</span>DateTime.min, DateTime.max, TimeSpan.init<span class='opr'>)</span>;
      <span class='kw1'>else</span>
        changesCache_<span class='opr'>[</span>year<span class='opr'>]</span> <span class='opr'>=</span> <span class='kw2'>new</span> DaylightSavingTime<span class='opr'>(</span>DateTime<span class='opr'>(</span>year, changesData_<span class='opr'>[</span><span class='nbr'>1</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>3</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>4</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>5</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>6</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>7</span><span class='opr'>]</span><span class='opr'>)</span>, DateTime<span class='opr'>(</span>year, changesData_<span class='opr'>[</span><span class='nbr'>9</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>11</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>12</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>13</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>14</span><span class='opr'>]</span>, changesData_<span class='opr'>[</span><span class='nbr'>15</span><span class='opr'>]</span><span class='opr'>)</span>, TimeSpan<span class='opr'>(</span>changesData_<span class='opr'>[</span><span class='nbr'>16</span><span class='opr'>]</span> <span class='opr'>*</span> TICKS_PER_MINUTE<span class='opr'>)</span><span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> changesCache_<span class='opr'>[</span>year<span class='opr'>]</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns the local _time representing the specified UTC _time.
   * Params: time = A UTC _time.
   * Returns: A DateTime whose value is the local _time corresponding to time.
   */</span>
  <span class='kw4'>public</span> DateTime getLocalTime<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>time.kind <span class='opr'>=</span><span class='opr'>=</span> DateTime.Kind.LOCAL<span class='opr'>)</span>
      <span class='kw1'>return</span> time;
    TimeSpan offset <span class='opr'>=</span> TimeSpan<span class='opr'>(</span>ticksOffset_<span class='opr'>)</span>;
    DaylightSavingTime dst <span class='opr'>=</span> getDaylightChanges<span class='opr'>(</span>time.year<span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>dst.change.ticks <span class='opr'>!=</span> <span class='nbr'>0</span><span class='opr'>)</span> <span class='opr'>{</span>
      DateTime start <span class='opr'>=</span> dst.start <span class='opr'>-</span> offset;
      DateTime end <span class='opr'>=</span> dst.end <span class='opr'>-</span> offset <span class='opr'>-</span> dst.change;
      <span class='kw4'>bool</span> isDst <span class='opr'>=</span> <span class='opr'>(</span>start <span class='opr'>&gt;</span> end<span class='opr'>)</span> ? <span class='opr'>(</span>time <span class='opr'>&lt;</span> end || time <span class='opr'>&gt;</span><span class='opr'>=</span> start<span class='opr'>)</span> : <span class='opr'>(</span>time <span class='opr'>&gt;</span><span class='opr'>=</span> start &amp;&amp; time <span class='opr'>&lt;</span> end<span class='opr'>)</span>;
      <span class='kw1'>if</span> <span class='opr'>(</span>isDst<span class='opr'>)</span>
        offset <span class='opr'>+=</span> dst.change;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>time.ticks <span class='opr'>+</span> offset.ticks<span class='opr'>)</span> | DateTime.Kind.LOCAL<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns the UTC _time representing the specified locale _time.
   * Params: time = A UTC time.
   * Returns: A DateTime whose value is the UTC time corresponding to time.
   */</span>
  <span class='kw4'>public</span> DateTime getUniversalTime<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>time.kind <span class='opr'>=</span><span class='opr'>=</span> DateTime.Kind.UTC<span class='opr'>)</span>
      <span class='kw1'>return</span> time;
    <span class='kw1'>return</span> DateTime<span class='opr'>(</span><span class='opr'>(</span>time.ticks <span class='opr'>-</span> getUtcOffset<span class='opr'>(</span>time<span class='opr'>)</span>.ticks<span class='opr'>)</span> | DateTime.Kind.UTC<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns the UTC _time offset for the specified local _time.
   * Params: time = The local _time.
   * Returns: The UTC offset from time.
   */</span>
  <span class='kw4'>public</span> TimeSpan getUtcOffset<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    TimeSpan offset;
    <span class='kw1'>if</span> <span class='opr'>(</span>time.kind <span class='opr'>!=</span> DateTime.Kind.UTC<span class='opr'>)</span> <span class='opr'>{</span>
      DaylightSavingTime dst <span class='opr'>=</span> getDaylightChanges<span class='opr'>(</span>time.year<span class='opr'>)</span>;
      DateTime start <span class='opr'>=</span> dst.start <span class='opr'>+</span> dst.change;
      DateTime end <span class='opr'>=</span> dst.end;
      <span class='kw4'>bool</span> isDst <span class='opr'>=</span> <span class='opr'>(</span>start <span class='opr'>&gt;</span> end<span class='opr'>)</span> ? <span class='opr'>(</span>time <span class='opr'>&gt;</span><span class='opr'>=</span> start || time <span class='opr'>&lt;</span> end<span class='opr'>)</span> : <span class='opr'>(</span>time <span class='opr'>&gt;</span><span class='opr'>=</span> start &amp;&amp; time <span class='opr'>&lt;</span> end<span class='opr'>)</span>;
      <span class='kw1'>if</span> <span class='opr'>(</span>isDst<span class='opr'>)</span>
        offset <span class='opr'>=</span> dst.change;
    <span class='opr'>}</span>
    <span class='kw1'>return</span> TimeSpan<span class='opr'>(</span>offset.ticks <span class='opr'>+</span> ticksOffset_<span class='opr'>)</span>;
  <span class='opr'>}</span>

  <span class='com'>/**
   * Returns a value indicating whether the specified date and _time is within a daylight-saving period.
   * Params: time = A date and _time.
   * Returns: true if time is within a daylight-saving period; otherwise, false.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>bool</span> isDaylightSavingTime<span class='opr'>(</span>DateTime time<span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>return</span> getUtcOffset<span class='opr'>(</span>time<span class='opr'>)</span> <span class='opr'>!=</span> TimeSpan.init;
  <span class='opr'>}</span>

  <span class='com'>/**
   * $(I Property.) Retrieves the _current time zone.
   * Returns: A TimeZone instance representing the _current time zone.
   */</span>
  <span class='kw4'>public</span> <span class='kw4'>static</span> TimeZone current<span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    <span class='kw1'>if</span> <span class='opr'>(</span>current_ <span class='kw2'>is</span> <span class='kw2'>null</span><span class='opr'>)</span>
      current_ <span class='opr'>=</span> <span class='kw2'>new</span> TimeZone;
    <span class='kw1'>return</span> current_;
  <span class='opr'>}</span>

  <span class='kw4'>private</span> <span class='kw2'>this</span><span class='opr'>(</span><span class='opr'>)</span> <span class='opr'>{</span>
    changesData_ <span class='opr'>=</span> nativeMethods.getDaylightChanges<span class='opr'>(</span><span class='opr'>)</span>;
    <span class='kw1'>if</span> <span class='opr'>(</span>changesData_ <span class='opr'>!=</span> <span class='kw2'>null</span><span class='opr'>)</span>
      ticksOffset_ <span class='opr'>=</span> changesData_<span class='opr'>[</span><span class='nbr'>17</span><span class='opr'>]</span> <span class='opr'>*</span> TICKS_PER_MINUTE;
  <span class='opr'>}</span>

<span class='opr'>}</span>
</pre></td></tr></table>	</body>
</html>
